/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "node_modules_react-notion-x_build_third-party_collection_js";
exports.ids = ["node_modules_react-notion-x_build_third-party_collection_js"];
exports.modules = {

/***/ "./node_modules/react-notion-x/node_modules/react-lazy-images/dist/react-lazy-images.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/react-notion-x/node_modules/react-lazy-images/dist/react-lazy-images.js ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("function e(e){return e&&\"object\"==typeof e&&\"default\"in e?e.default:e}var t=e(__webpack_require__(/*! react */ \"react\")),n=e(__webpack_require__(/*! react-intersection-observer */ \"react-intersection-observer\")),r=__webpack_require__(/*! unionize */ \"unionize\"),o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};var a,i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function c(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&\"function\"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n}(a=exports.ImageState||(exports.ImageState={})).NotAsked=\"NotAsked\",a.Loading=\"Loading\",a.LoadSuccess=\"LoadSuccess\",a.LoadError=\"LoadError\";var u=r.unionize({NotAsked:{},Buffering:{},Loading:{},LoadSuccess:{},LoadError:r.ofType()}),s=r.unionize({ViewChanged:r.ofType(),BufferingEnded:{},LoadSuccess:{},LoadError:r.ofType()}),d=function(e,t){return function(n){var r=m(g(e,t));r.promise.then(function(e){return n.update(s.LoadSuccess({}))}).catch(function(e){e.isCanceled||n.update(s.LoadError({msg:\"Failed to load\"}))}),n.promiseCache.loading=r}},f=function(e){e.promiseCache.buffering.cancel()},p=function(e){function r(t){var n=e.call(this,t)||this;return n.promiseCache={},n.initialState=u.NotAsked(),n.state=n.initialState,n.update=n.update.bind(n),n}return function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(r,e),r.reducer=function(e,t,n){return s.match(e,{ViewChanged:function(e){return!0===e.inView?n.src?u.match(t,{NotAsked:function(){return n.debounceDurationMs?{nextState:u.Buffering(),cmd:(e=n.debounceDurationMs,function(t){var n=m(l(e));n.promise.then(function(){return t.update(s.BufferingEnded())}).catch(function(e){}),t.promiseCache.buffering=n})}:{nextState:u.Loading(),cmd:d(n,n.experimentalDecode)};var e},default:function(){return{nextState:t}}}):{nextState:u.LoadSuccess()}:u.match(t,{Buffering:function(){return{nextState:u.NotAsked(),cmd:f}},default:function(){return{nextState:t}}})},BufferingEnded:function(){return{nextState:u.Loading(),cmd:d(n,n.experimentalDecode)}},LoadSuccess:function(){return{nextState:u.LoadSuccess()}},LoadError:function(e){return{nextState:u.LoadError(e)}}})},r.prototype.update=function(e){var t=this,n=r.reducer(e,this.state,this.props),o=n.nextState,a=n.cmd;this.props.debugActions&&( false&&0,console.log({action:e,prevState:this.state,nextState:o})),this.setState(o,function(){return a&&a(t)})},r.prototype.componentWillUnmount=function(){this.promiseCache.loading&&this.promiseCache.loading.cancel(),this.promiseCache.buffering&&this.promiseCache.buffering.cancel(),this.promiseCache={}},r.prototype.render=function(){var e=this,r=this.props,o=r.children,a=r.loadEagerly,d=r.observerProps,f=c(r,[\"children\",\"loadEagerly\",\"observerProps\",\"experimentalDecode\",\"debounceDurationMs\",\"debugActions\"]);return a?o({imageState:u.LoadSuccess().tag,imageProps:f}):t.createElement(n,i({rootMargin:\"50px 0px\",threshold:.01},d,{onChange:function(t){return e.update(s.ViewChanged({inView:t}))}}),function(t){return o({imageState:\"Buffering\"===e.state.tag?exports.ImageState.Loading:e.state.tag,imageProps:f,ref:t.ref})})},r.displayName=\"LazyImageFull\",r}(t.Component),g=function(e,t){var n=e.src,r=e.srcSet,o=e.alt,a=e.sizes;return void 0===t&&(t=!1),new Promise(function(e,i){var c=new Image;if(r&&(c.srcset=r),o&&(c.alt=o),a&&(c.sizes=a),c.src=n,t&&\"decode\"in c)return c.decode().then(function(t){return e(t)}).catch(function(e){return i(e)});c.onload=e,c.onerror=i})},l=function(e){return new Promise(function(t){return setTimeout(t,e)})},m=function(e){var t=!1;return{promise:new Promise(function(n,r){e.then(function(e){return t?r({isCanceled:!0}):n(e)}),e.catch(function(e){return r(t?{isCanceled:!0}:e)})}),cancel:function(){t=!0}}},h=function(e){var n=e.actual,r=e.placeholder,o=e.loading,a=e.error,u=c(e,[\"actual\",\"placeholder\",\"loading\",\"error\"]);return t.createElement(p,i({},u),function(e){var t=e.imageProps,i=e.ref;switch(e.imageState){case exports.ImageState.NotAsked:return!!r&&r({imageProps:t,ref:i});case exports.ImageState.Loading:return o?o():!!r&&r({imageProps:t,ref:i});case exports.ImageState.LoadSuccess:return n({imageProps:t});case exports.ImageState.LoadError:return a?a():n({imageProps:t})}})};h.displayName=\"LazyImage\",exports.LazyImage=h,exports.LazyImageFull=p;\n//# sourceMappingURL=react-lazy-images.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3Qtbm90aW9uLXgvbm9kZV9tb2R1bGVzL3JlYWN0LWxhenktaW1hZ2VzL2Rpc3QvcmVhY3QtbGF6eS1pbWFnZXMuanMuanMiLCJtYXBwaW5ncyI6IkFBQUEsY0FBYyx3REFBd0QsUUFBUSxtQkFBTyxDQUFDLG9CQUFPLE9BQU8sbUJBQU8sQ0FBQyxnRUFBNkIsS0FBSyxtQkFBTyxDQUFDLDBCQUFVLGtCQUFrQixpQ0FBaUMsYUFBYSxnQ0FBZ0MsY0FBYyxnQkFBZ0IsZ0RBQWdELFFBQVEsbUJBQW1CLG9DQUFvQyxpQ0FBaUMsSUFBSSx1RkFBdUYsU0FBUyx5QkFBeUIsZ0JBQWdCLFNBQVMsc0ZBQXNGLDZEQUE2RCxRQUFRLHNDQUFzQyxXQUFXLHlDQUF5QyxTQUFTLHdCQUF3QixrQkFBa0IsR0FBRywrRkFBK0Ysa0JBQWtCLFdBQVcsYUFBYSxXQUFXLGVBQWUsc0JBQXNCLGdCQUFnQix3Q0FBd0MsZUFBZSxzQkFBc0Isa0JBQWtCLG1CQUFtQixnQkFBZ0IsMkJBQTJCLGdDQUFnQyxHQUFHLG9CQUFvQixvQ0FBb0MscUJBQXFCLEdBQUcsNEJBQTRCLGVBQWUsa0NBQWtDLGVBQWUsY0FBYywyQkFBMkIsd0JBQXdCLGdGQUFnRixxQkFBcUIsYUFBYSxtQkFBbUIsNkVBQTZFLGdDQUFnQyxrQkFBa0Isd0JBQXdCLHFDQUFxQyxvQkFBb0IsNkJBQTZCLGdFQUFnRSxjQUFjLDBCQUEwQixvQ0FBb0MscUJBQXFCLDZCQUE2QixFQUFFLEVBQUUscURBQXFELE1BQU0sb0JBQW9CLE9BQU8sY0FBYyxHQUFHLDBCQUEwQixZQUFZLHFCQUFxQixPQUFPLDhCQUE4QixvQkFBb0IsT0FBTyxjQUFjLEVBQUUsMkJBQTJCLE9BQU8scURBQXFELHdCQUF3QixPQUFPLDJCQUEyQix1QkFBdUIsT0FBTywyQkFBMkIsRUFBRSxnQ0FBZ0Msc0VBQXNFLDBCQUEwQixNQUFtQyxFQUFFLENBQTJILGNBQWMsMENBQTBDLDhCQUE4QixlQUFlLEVBQUUsNkNBQTZDLHFKQUFxSiwrQkFBK0Isa0xBQWtMLFlBQVksNENBQTRDLHVCQUF1QixvQ0FBb0MsSUFBSSxxQkFBcUIsK0JBQStCLFNBQVMsSUFBSSxjQUFjLFVBQVUsbUdBQW1HLEVBQUUsRUFBRSxpQ0FBaUMsOEJBQThCLHlDQUF5QyxvREFBb0QsZ0JBQWdCLDBHQUEwRyxZQUFZLG9CQUFvQixZQUFZLEVBQUUsdUJBQXVCLEVBQUUsZUFBZSwrQkFBK0IsdUJBQXVCLEVBQUUsZUFBZSxTQUFTLE9BQU8sa0NBQWtDLG1CQUFtQixZQUFZLGNBQWMsT0FBTyxzQkFBc0IsWUFBWSxjQUFjLElBQUksRUFBRSxvQkFBb0IsT0FBTyxlQUFlLHVHQUF1Ryw2QkFBNkIsZ0JBQWdCLDJCQUEyQixxQkFBcUIsK0NBQStDLG1CQUFtQixFQUFFLHFEQUFxRCxtQkFBbUIsRUFBRSw4Q0FBOEMsYUFBYSxFQUFFLGtEQUFrRCxhQUFhLEdBQUcsR0FBRywwQkFBMEIsaUJBQWlCLEdBQUcscUJBQXFCO0FBQ3hySiIsInNvdXJjZXMiOlsid2VicGFjazovL25leHRqcy1ub3Rpb24tc3RhcnRlci1raXQvLi9ub2RlX21vZHVsZXMvcmVhY3Qtbm90aW9uLXgvbm9kZV9tb2R1bGVzL3JlYWN0LWxhenktaW1hZ2VzL2Rpc3QvcmVhY3QtbGF6eS1pbWFnZXMuanM/ODdhZSJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBlKGUpe3JldHVybiBlJiZcIm9iamVjdFwiPT10eXBlb2YgZSYmXCJkZWZhdWx0XCJpbiBlP2UuZGVmYXVsdDplfXZhciB0PWUocmVxdWlyZShcInJlYWN0XCIpKSxuPWUocmVxdWlyZShcInJlYWN0LWludGVyc2VjdGlvbi1vYnNlcnZlclwiKSkscj1yZXF1aXJlKFwidW5pb25pemVcIiksbz1mdW5jdGlvbihlLHQpe3JldHVybihvPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbihlLHQpe2UuX19wcm90b19fPXR9fHxmdW5jdGlvbihlLHQpe2Zvcih2YXIgbiBpbiB0KXQuaGFzT3duUHJvcGVydHkobikmJihlW25dPXRbbl0pfSkoZSx0KX07dmFyIGEsaT1mdW5jdGlvbigpe3JldHVybihpPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxuPTEscj1hcmd1bWVudHMubGVuZ3RoO248cjtuKyspZm9yKHZhciBvIGluIHQ9YXJndW1lbnRzW25dKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LG8pJiYoZVtvXT10W29dKTtyZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07ZnVuY3Rpb24gYyhlLHQpe3ZhciBuPXt9O2Zvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiZ0LmluZGV4T2Yocik8MCYmKG5bcl09ZVtyXSk7aWYobnVsbCE9ZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIG89MDtmb3Iocj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO288ci5sZW5ndGg7bysrKXQuaW5kZXhPZihyW29dKTwwJiYobltyW29dXT1lW3Jbb11dKX1yZXR1cm4gbn0oYT1leHBvcnRzLkltYWdlU3RhdGV8fChleHBvcnRzLkltYWdlU3RhdGU9e30pKS5Ob3RBc2tlZD1cIk5vdEFza2VkXCIsYS5Mb2FkaW5nPVwiTG9hZGluZ1wiLGEuTG9hZFN1Y2Nlc3M9XCJMb2FkU3VjY2Vzc1wiLGEuTG9hZEVycm9yPVwiTG9hZEVycm9yXCI7dmFyIHU9ci51bmlvbml6ZSh7Tm90QXNrZWQ6e30sQnVmZmVyaW5nOnt9LExvYWRpbmc6e30sTG9hZFN1Y2Nlc3M6e30sTG9hZEVycm9yOnIub2ZUeXBlKCl9KSxzPXIudW5pb25pemUoe1ZpZXdDaGFuZ2VkOnIub2ZUeXBlKCksQnVmZmVyaW5nRW5kZWQ6e30sTG9hZFN1Y2Nlc3M6e30sTG9hZEVycm9yOnIub2ZUeXBlKCl9KSxkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKG4pe3ZhciByPW0oZyhlLHQpKTtyLnByb21pc2UudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gbi51cGRhdGUocy5Mb2FkU3VjY2Vzcyh7fSkpfSkuY2F0Y2goZnVuY3Rpb24oZSl7ZS5pc0NhbmNlbGVkfHxuLnVwZGF0ZShzLkxvYWRFcnJvcih7bXNnOlwiRmFpbGVkIHRvIGxvYWRcIn0pKX0pLG4ucHJvbWlzZUNhY2hlLmxvYWRpbmc9cn19LGY9ZnVuY3Rpb24oZSl7ZS5wcm9taXNlQ2FjaGUuYnVmZmVyaW5nLmNhbmNlbCgpfSxwPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHIodCl7dmFyIG49ZS5jYWxsKHRoaXMsdCl8fHRoaXM7cmV0dXJuIG4ucHJvbWlzZUNhY2hlPXt9LG4uaW5pdGlhbFN0YXRlPXUuTm90QXNrZWQoKSxuLnN0YXRlPW4uaW5pdGlhbFN0YXRlLG4udXBkYXRlPW4udXBkYXRlLmJpbmQobiksbn1yZXR1cm4gZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj1lfW8oZSx0KSxlLnByb3RvdHlwZT1udWxsPT09dD9PYmplY3QuY3JlYXRlKHQpOihuLnByb3RvdHlwZT10LnByb3RvdHlwZSxuZXcgbil9KHIsZSksci5yZWR1Y2VyPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gcy5tYXRjaChlLHtWaWV3Q2hhbmdlZDpmdW5jdGlvbihlKXtyZXR1cm4hMD09PWUuaW5WaWV3P24uc3JjP3UubWF0Y2godCx7Tm90QXNrZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gbi5kZWJvdW5jZUR1cmF0aW9uTXM/e25leHRTdGF0ZTp1LkJ1ZmZlcmluZygpLGNtZDooZT1uLmRlYm91bmNlRHVyYXRpb25NcyxmdW5jdGlvbih0KXt2YXIgbj1tKGwoZSkpO24ucHJvbWlzZS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIHQudXBkYXRlKHMuQnVmZmVyaW5nRW5kZWQoKSl9KS5jYXRjaChmdW5jdGlvbihlKXt9KSx0LnByb21pc2VDYWNoZS5idWZmZXJpbmc9bn0pfTp7bmV4dFN0YXRlOnUuTG9hZGluZygpLGNtZDpkKG4sbi5leHBlcmltZW50YWxEZWNvZGUpfTt2YXIgZX0sZGVmYXVsdDpmdW5jdGlvbigpe3JldHVybntuZXh0U3RhdGU6dH19fSk6e25leHRTdGF0ZTp1LkxvYWRTdWNjZXNzKCl9OnUubWF0Y2godCx7QnVmZmVyaW5nOmZ1bmN0aW9uKCl7cmV0dXJue25leHRTdGF0ZTp1Lk5vdEFza2VkKCksY21kOmZ9fSxkZWZhdWx0OmZ1bmN0aW9uKCl7cmV0dXJue25leHRTdGF0ZTp0fX19KX0sQnVmZmVyaW5nRW5kZWQ6ZnVuY3Rpb24oKXtyZXR1cm57bmV4dFN0YXRlOnUuTG9hZGluZygpLGNtZDpkKG4sbi5leHBlcmltZW50YWxEZWNvZGUpfX0sTG9hZFN1Y2Nlc3M6ZnVuY3Rpb24oKXtyZXR1cm57bmV4dFN0YXRlOnUuTG9hZFN1Y2Nlc3MoKX19LExvYWRFcnJvcjpmdW5jdGlvbihlKXtyZXR1cm57bmV4dFN0YXRlOnUuTG9hZEVycm9yKGUpfX19KX0sci5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMsbj1yLnJlZHVjZXIoZSx0aGlzLnN0YXRlLHRoaXMucHJvcHMpLG89bi5uZXh0U3RhdGUsYT1uLmNtZDt0aGlzLnByb3BzLmRlYnVnQWN0aW9ucyYmKFwicHJvZHVjdGlvblwiPT09cHJvY2Vzcy5lbnYuTk9ERV9FTlYmJmNvbnNvbGUud2FybignWW91IGFyZSBydW5uaW5nIExhenlJbWFnZSB3aXRoIGRlYnVnQWN0aW9ucz1cInRydWVcIiBpbiBwcm9kdWN0aW9uLiBUaGlzIG1pZ2h0IGhhdmUgcGVyZm9ybWFuY2UgaW1wbGljYXRpb25zLicpLGNvbnNvbGUubG9nKHthY3Rpb246ZSxwcmV2U3RhdGU6dGhpcy5zdGF0ZSxuZXh0U3RhdGU6b30pKSx0aGlzLnNldFN0YXRlKG8sZnVuY3Rpb24oKXtyZXR1cm4gYSYmYSh0KX0pfSxyLnByb3RvdHlwZS5jb21wb25lbnRXaWxsVW5tb3VudD1mdW5jdGlvbigpe3RoaXMucHJvbWlzZUNhY2hlLmxvYWRpbmcmJnRoaXMucHJvbWlzZUNhY2hlLmxvYWRpbmcuY2FuY2VsKCksdGhpcy5wcm9taXNlQ2FjaGUuYnVmZmVyaW5nJiZ0aGlzLnByb21pc2VDYWNoZS5idWZmZXJpbmcuY2FuY2VsKCksdGhpcy5wcm9taXNlQ2FjaGU9e319LHIucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbigpe3ZhciBlPXRoaXMscj10aGlzLnByb3BzLG89ci5jaGlsZHJlbixhPXIubG9hZEVhZ2VybHksZD1yLm9ic2VydmVyUHJvcHMsZj1jKHIsW1wiY2hpbGRyZW5cIixcImxvYWRFYWdlcmx5XCIsXCJvYnNlcnZlclByb3BzXCIsXCJleHBlcmltZW50YWxEZWNvZGVcIixcImRlYm91bmNlRHVyYXRpb25Nc1wiLFwiZGVidWdBY3Rpb25zXCJdKTtyZXR1cm4gYT9vKHtpbWFnZVN0YXRlOnUuTG9hZFN1Y2Nlc3MoKS50YWcsaW1hZ2VQcm9wczpmfSk6dC5jcmVhdGVFbGVtZW50KG4saSh7cm9vdE1hcmdpbjpcIjUwcHggMHB4XCIsdGhyZXNob2xkOi4wMX0sZCx7b25DaGFuZ2U6ZnVuY3Rpb24odCl7cmV0dXJuIGUudXBkYXRlKHMuVmlld0NoYW5nZWQoe2luVmlldzp0fSkpfX0pLGZ1bmN0aW9uKHQpe3JldHVybiBvKHtpbWFnZVN0YXRlOlwiQnVmZmVyaW5nXCI9PT1lLnN0YXRlLnRhZz9leHBvcnRzLkltYWdlU3RhdGUuTG9hZGluZzplLnN0YXRlLnRhZyxpbWFnZVByb3BzOmYscmVmOnQucmVmfSl9KX0sci5kaXNwbGF5TmFtZT1cIkxhenlJbWFnZUZ1bGxcIixyfSh0LkNvbXBvbmVudCksZz1mdW5jdGlvbihlLHQpe3ZhciBuPWUuc3JjLHI9ZS5zcmNTZXQsbz1lLmFsdCxhPWUuc2l6ZXM7cmV0dXJuIHZvaWQgMD09PXQmJih0PSExKSxuZXcgUHJvbWlzZShmdW5jdGlvbihlLGkpe3ZhciBjPW5ldyBJbWFnZTtpZihyJiYoYy5zcmNzZXQ9ciksbyYmKGMuYWx0PW8pLGEmJihjLnNpemVzPWEpLGMuc3JjPW4sdCYmXCJkZWNvZGVcImluIGMpcmV0dXJuIGMuZGVjb2RlKCkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gZSh0KX0pLmNhdGNoKGZ1bmN0aW9uKGUpe3JldHVybiBpKGUpfSk7Yy5vbmxvYWQ9ZSxjLm9uZXJyb3I9aX0pfSxsPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbih0KXtyZXR1cm4gc2V0VGltZW91dCh0LGUpfSl9LG09ZnVuY3Rpb24oZSl7dmFyIHQ9ITE7cmV0dXJue3Byb21pc2U6bmV3IFByb21pc2UoZnVuY3Rpb24obixyKXtlLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIHQ/cih7aXNDYW5jZWxlZDohMH0pOm4oZSl9KSxlLmNhdGNoKGZ1bmN0aW9uKGUpe3JldHVybiByKHQ/e2lzQ2FuY2VsZWQ6ITB9OmUpfSl9KSxjYW5jZWw6ZnVuY3Rpb24oKXt0PSEwfX19LGg9ZnVuY3Rpb24oZSl7dmFyIG49ZS5hY3R1YWwscj1lLnBsYWNlaG9sZGVyLG89ZS5sb2FkaW5nLGE9ZS5lcnJvcix1PWMoZSxbXCJhY3R1YWxcIixcInBsYWNlaG9sZGVyXCIsXCJsb2FkaW5nXCIsXCJlcnJvclwiXSk7cmV0dXJuIHQuY3JlYXRlRWxlbWVudChwLGkoe30sdSksZnVuY3Rpb24oZSl7dmFyIHQ9ZS5pbWFnZVByb3BzLGk9ZS5yZWY7c3dpdGNoKGUuaW1hZ2VTdGF0ZSl7Y2FzZSBleHBvcnRzLkltYWdlU3RhdGUuTm90QXNrZWQ6cmV0dXJuISFyJiZyKHtpbWFnZVByb3BzOnQscmVmOml9KTtjYXNlIGV4cG9ydHMuSW1hZ2VTdGF0ZS5Mb2FkaW5nOnJldHVybiBvP28oKTohIXImJnIoe2ltYWdlUHJvcHM6dCxyZWY6aX0pO2Nhc2UgZXhwb3J0cy5JbWFnZVN0YXRlLkxvYWRTdWNjZXNzOnJldHVybiBuKHtpbWFnZVByb3BzOnR9KTtjYXNlIGV4cG9ydHMuSW1hZ2VTdGF0ZS5Mb2FkRXJyb3I6cmV0dXJuIGE/YSgpOm4oe2ltYWdlUHJvcHM6dH0pfX0pfTtoLmRpc3BsYXlOYW1lPVwiTGF6eUltYWdlXCIsZXhwb3J0cy5MYXp5SW1hZ2U9aCxleHBvcnRzLkxhenlJbWFnZUZ1bGw9cDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlYWN0LWxhenktaW1hZ2VzLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/react-notion-x/node_modules/react-lazy-images/dist/react-lazy-images.js\n");

/***/ }),

/***/ "./node_modules/react-notion-x/build/third-party/collection.js":
/*!*********************************************************************!*\
  !*** ./node_modules/react-notion-x/build/third-party/collection.js ***!
  \*********************************************************************/
/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Collection\": () => (/* binding */ Collection),\n/* harmony export */   \"Property\": () => (/* binding */ PropertyImplMemo)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var notion_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! notion-utils */ \"notion-utils\");\n/* harmony import */ var react_use__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-use */ \"react-use\");\n/* harmony import */ var _radix_ui_react_dropdown_menu__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @radix-ui/react-dropdown-menu */ \"@radix-ui/react-dropdown-menu\");\n/* harmony import */ var react_fast_compare__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-fast-compare */ \"react-fast-compare\");\n/* harmony import */ var react_lazy_images__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react-lazy-images */ \"./node_modules/react-notion-x/node_modules/react-lazy-images/dist/react-lazy-images.js\");\n/* harmony import */ var react_image__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react-image */ \"react-image\");\n/* harmony import */ var react_hotkeys_hook__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react-hotkeys-hook */ \"react-hotkeys-hook\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([notion_utils__WEBPACK_IMPORTED_MODULE_1__]);\nnotion_utils__WEBPACK_IMPORTED_MODULE_1__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\nvar __create = Object.create;\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __getProtoOf = Object.getPrototypeOf;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nvar __objRest = (source, exclude) => {\n  var target = {};\n  for (var prop in source)\n    if (__hasOwnProp.call(source, prop) && exclude.indexOf(prop) < 0)\n      target[prop] = source[prop];\n  if (source != null && __getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(source)) {\n      if (exclude.indexOf(prop) < 0 && __propIsEnum.call(source, prop))\n        target[prop] = source[prop];\n    }\n  return target;\n};\nvar __commonJS = (cb, mod) => function __require() {\n  return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(isNodeMode || !mod || !mod.__esModule ? __defProp(target, \"default\", { value: mod, enumerable: true }) : target, mod));\nvar __async = (__this, __arguments, generator) => {\n  return new Promise((resolve, reject) => {\n    var fulfilled = (value) => {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var rejected = (value) => {\n      try {\n        step(generator.throw(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);\n    step((generator = generator.apply(__this, __arguments)).next());\n  });\n};\n\n// ../../node_modules/format-number/index.js\nvar require_format_number = __commonJS({\n  \"../../node_modules/format-number/index.js\"(exports, module) {\n    module.exports = formatter;\n    module.exports.default = formatter;\n    function formatter(options) {\n      options = options || {};\n      options.negativeType = options.negativeType || (options.negative === \"R\" ? \"right\" : \"left\");\n      if (typeof options.negativeLeftSymbol !== \"string\") {\n        switch (options.negativeType) {\n          case \"left\":\n            options.negativeLeftSymbol = \"-\";\n            break;\n          case \"brackets\":\n            options.negativeLeftSymbol = \"(\";\n            break;\n          default:\n            options.negativeLeftSymbol = \"\";\n        }\n      }\n      if (typeof options.negativeRightSymbol !== \"string\") {\n        switch (options.negativeType) {\n          case \"right\":\n            options.negativeRightSymbol = \"-\";\n            break;\n          case \"brackets\":\n            options.negativeRightSymbol = \")\";\n            break;\n          default:\n            options.negativeRightSymbol = \"\";\n        }\n      }\n      if (typeof options.negativeLeftOut !== \"boolean\") {\n        options.negativeLeftOut = options.negativeOut === false ? false : true;\n      }\n      if (typeof options.negativeRightOut !== \"boolean\") {\n        options.negativeRightOut = options.negativeOut === false ? false : true;\n      }\n      options.prefix = options.prefix || \"\";\n      options.suffix = options.suffix || \"\";\n      if (typeof options.integerSeparator !== \"string\") {\n        options.integerSeparator = typeof options.separator === \"string\" ? options.separator : \",\";\n      }\n      options.decimalsSeparator = typeof options.decimalsSeparator === \"string\" ? options.decimalsSeparator : \"\";\n      options.decimal = options.decimal || \".\";\n      options.padLeft = options.padLeft || -1;\n      options.padRight = options.padRight || -1;\n      function format4(number, overrideOptions) {\n        overrideOptions = overrideOptions || {};\n        if (number || number === 0) {\n          number = \"\" + number;\n        } else {\n          return \"\";\n        }\n        var output = [];\n        var negative = number.charAt(0) === \"-\";\n        number = number.replace(/^\\-/g, \"\");\n        if (!options.negativeLeftOut && !overrideOptions.noUnits) {\n          output.push(options.prefix);\n        }\n        if (negative) {\n          output.push(options.negativeLeftSymbol);\n        }\n        if (options.negativeLeftOut && !overrideOptions.noUnits) {\n          output.push(options.prefix);\n        }\n        number = number.split(\".\");\n        if (options.round != null)\n          round(number, options.round);\n        if (options.truncate != null)\n          number[1] = truncate(number[1], options.truncate);\n        if (options.padLeft > 0)\n          number[0] = padLeft(number[0], options.padLeft);\n        if (options.padRight > 0)\n          number[1] = padRight(number[1], options.padRight);\n        if (!overrideOptions.noSeparator && number[1])\n          number[1] = addDecimalSeparators(number[1], options.decimalsSeparator);\n        if (!overrideOptions.noSeparator && number[0])\n          number[0] = addIntegerSeparators(number[0], options.integerSeparator);\n        output.push(number[0]);\n        if (number[1]) {\n          output.push(options.decimal);\n          output.push(number[1]);\n        }\n        if (options.negativeRightOut && !overrideOptions.noUnits) {\n          output.push(options.suffix);\n        }\n        if (negative) {\n          output.push(options.negativeRightSymbol);\n        }\n        if (!options.negativeRightOut && !overrideOptions.noUnits) {\n          output.push(options.suffix);\n        }\n        return output.join(\"\");\n      }\n      format4.negative = options.negative;\n      format4.negativeOut = options.negativeOut;\n      format4.negativeType = options.negativeType;\n      format4.negativeLeftOut = options.negativeLeftOut;\n      format4.negativeLeftSymbol = options.negativeLeftSymbol;\n      format4.negativeRightOut = options.negativeRightOut;\n      format4.negativeRightSymbol = options.negativeRightSymbol;\n      format4.prefix = options.prefix;\n      format4.suffix = options.suffix;\n      format4.separate = options.separate;\n      format4.integerSeparator = options.integerSeparator;\n      format4.decimalsSeparator = options.decimalsSeparator;\n      format4.decimal = options.decimal;\n      format4.padLeft = options.padLeft;\n      format4.padRight = options.padRight;\n      format4.truncate = options.truncate;\n      format4.round = options.round;\n      function unformat(number, allowedSeparators) {\n        allowedSeparators = allowedSeparators || [];\n        if (options.allowedSeparators) {\n          options.allowedSeparators.forEach(function(s) {\n            allowedSeparators.push(s);\n          });\n        }\n        allowedSeparators.push(options.integerSeparator);\n        allowedSeparators.push(options.decimalsSeparator);\n        number = number.replace(options.prefix, \"\");\n        number = number.replace(options.suffix, \"\");\n        var newNumber = number;\n        do {\n          number = newNumber;\n          for (var i = 0; i < allowedSeparators.length; i++) {\n            newNumber = newNumber.replace(allowedSeparators[i], \"\");\n          }\n        } while (newNumber != number);\n        return number;\n      }\n      format4.unformat = unformat;\n      function validate(number, allowedSeparators) {\n        number = unformat(number, allowedSeparators);\n        number = number.split(options.decimal);\n        if (number.length > 2) {\n          return false;\n        } else if (options.truncate != null && number[1] && number[1].length > options.truncate) {\n          return false;\n        } else if (options.round != null && number[1] && number[1].length > options.round) {\n          return false;\n        } else {\n          return /^-?\\d+\\.?\\d*$/.test(number);\n        }\n      }\n      return format4;\n    }\n    function addIntegerSeparators(x, separator) {\n      x += \"\";\n      if (!separator)\n        return x;\n      var rgx = /(\\d+)(\\d{3})/;\n      while (rgx.test(x)) {\n        x = x.replace(rgx, \"$1\" + separator + \"$2\");\n      }\n      return x;\n    }\n    function addDecimalSeparators(x, separator) {\n      x += \"\";\n      if (!separator)\n        return x;\n      var rgx = /(\\d{3})(\\d+)/;\n      while (rgx.test(x)) {\n        x = x.replace(rgx, \"$1\" + separator + \"$2\");\n      }\n      return x;\n    }\n    function padLeft(x, padding) {\n      x = x + \"\";\n      var buf = [];\n      while (buf.length + x.length < padding) {\n        buf.push(\"0\");\n      }\n      return buf.join(\"\") + x;\n    }\n    function padRight(x, padding) {\n      if (x) {\n        x += \"\";\n      } else {\n        x = \"\";\n      }\n      var buf = [];\n      while (buf.length + x.length < padding) {\n        buf.push(\"0\");\n      }\n      return x + buf.join(\"\");\n    }\n    function truncate(x, length) {\n      if (x) {\n        x += \"\";\n      }\n      if (x && x.length > length) {\n        return x.substr(0, length);\n      } else {\n        return x;\n      }\n    }\n    function round(number, places) {\n      if (number[1] && places >= 0 && number[1].length > places) {\n        var decim = number[1].slice(0, places);\n        if (+number[1].substr(places, 1) >= 5) {\n          var leadingzeros = \"\";\n          while (decim.charAt(0) === \"0\") {\n            leadingzeros = leadingzeros + \"0\";\n            decim = decim.substr(1);\n          }\n          decim = +decim + 1 + \"\";\n          decim = leadingzeros + decim;\n          if (decim.length > places) {\n            number[0] = +number[0] + +decim.charAt(0) + \"\";\n            decim = decim.substring(1);\n          }\n        }\n        number[1] = decim;\n      }\n      return number;\n    }\n  }\n});\n\n// ../../node_modules/date-fns/_lib/requiredArgs/index.js\nvar require_requiredArgs = __commonJS({\n  \"../../node_modules/date-fns/_lib/requiredArgs/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = requiredArgs;\n    function requiredArgs(required, args) {\n      if (args.length < required) {\n        throw new TypeError(required + \" argument\" + (required > 1 ? \"s\" : \"\") + \" required, but only \" + args.length + \" present\");\n      }\n    }\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/isDate/index.js\nvar require_isDate = __commonJS({\n  \"../../node_modules/date-fns/isDate/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = isDate;\n    var _index = _interopRequireDefault(require_requiredArgs());\n    function _interopRequireDefault(obj) {\n      return obj && obj.__esModule ? obj : { default: obj };\n    }\n    function isDate(value) {\n      (0, _index.default)(1, arguments);\n      return value instanceof Date || typeof value === \"object\" && Object.prototype.toString.call(value) === \"[object Date]\";\n    }\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/toDate/index.js\nvar require_toDate = __commonJS({\n  \"../../node_modules/date-fns/toDate/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = toDate;\n    var _index = _interopRequireDefault(require_requiredArgs());\n    function _interopRequireDefault(obj) {\n      return obj && obj.__esModule ? obj : { default: obj };\n    }\n    function toDate(argument) {\n      (0, _index.default)(1, arguments);\n      var argStr = Object.prototype.toString.call(argument);\n      if (argument instanceof Date || typeof argument === \"object\" && argStr === \"[object Date]\") {\n        return new Date(argument.getTime());\n      } else if (typeof argument === \"number\" || argStr === \"[object Number]\") {\n        return new Date(argument);\n      } else {\n        if ((typeof argument === \"string\" || argStr === \"[object String]\") && typeof console !== \"undefined\") {\n          console.warn(\"Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule\");\n          console.warn(new Error().stack);\n        }\n        return new Date(NaN);\n      }\n    }\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/isValid/index.js\nvar require_isValid = __commonJS({\n  \"../../node_modules/date-fns/isValid/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = isValid;\n    var _index = _interopRequireDefault(require_isDate());\n    var _index2 = _interopRequireDefault(require_toDate());\n    var _index3 = _interopRequireDefault(require_requiredArgs());\n    function _interopRequireDefault(obj) {\n      return obj && obj.__esModule ? obj : { default: obj };\n    }\n    function isValid(dirtyDate) {\n      (0, _index3.default)(1, arguments);\n      if (!(0, _index.default)(dirtyDate) && typeof dirtyDate !== \"number\") {\n        return false;\n      }\n      var date = (0, _index2.default)(dirtyDate);\n      return !isNaN(Number(date));\n    }\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/locale/en-US/_lib/formatDistance/index.js\nvar require_formatDistance = __commonJS({\n  \"../../node_modules/date-fns/locale/en-US/_lib/formatDistance/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = void 0;\n    var formatDistanceLocale = {\n      lessThanXSeconds: {\n        one: \"less than a second\",\n        other: \"less than {{count}} seconds\"\n      },\n      xSeconds: {\n        one: \"1 second\",\n        other: \"{{count}} seconds\"\n      },\n      halfAMinute: \"half a minute\",\n      lessThanXMinutes: {\n        one: \"less than a minute\",\n        other: \"less than {{count}} minutes\"\n      },\n      xMinutes: {\n        one: \"1 minute\",\n        other: \"{{count}} minutes\"\n      },\n      aboutXHours: {\n        one: \"about 1 hour\",\n        other: \"about {{count}} hours\"\n      },\n      xHours: {\n        one: \"1 hour\",\n        other: \"{{count}} hours\"\n      },\n      xDays: {\n        one: \"1 day\",\n        other: \"{{count}} days\"\n      },\n      aboutXWeeks: {\n        one: \"about 1 week\",\n        other: \"about {{count}} weeks\"\n      },\n      xWeeks: {\n        one: \"1 week\",\n        other: \"{{count}} weeks\"\n      },\n      aboutXMonths: {\n        one: \"about 1 month\",\n        other: \"about {{count}} months\"\n      },\n      xMonths: {\n        one: \"1 month\",\n        other: \"{{count}} months\"\n      },\n      aboutXYears: {\n        one: \"about 1 year\",\n        other: \"about {{count}} years\"\n      },\n      xYears: {\n        one: \"1 year\",\n        other: \"{{count}} years\"\n      },\n      overXYears: {\n        one: \"over 1 year\",\n        other: \"over {{count}} years\"\n      },\n      almostXYears: {\n        one: \"almost 1 year\",\n        other: \"almost {{count}} years\"\n      }\n    };\n    var formatDistance = function(token, count, options) {\n      var result;\n      var tokenValue = formatDistanceLocale[token];\n      if (typeof tokenValue === \"string\") {\n        result = tokenValue;\n      } else if (count === 1) {\n        result = tokenValue.one;\n      } else {\n        result = tokenValue.other.replace(\"{{count}}\", count.toString());\n      }\n      if (options !== null && options !== void 0 && options.addSuffix) {\n        if (options.comparison && options.comparison > 0) {\n          return \"in \" + result;\n        } else {\n          return result + \" ago\";\n        }\n      }\n      return result;\n    };\n    var _default = formatDistance;\n    exports.default = _default;\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/locale/_lib/buildFormatLongFn/index.js\nvar require_buildFormatLongFn = __commonJS({\n  \"../../node_modules/date-fns/locale/_lib/buildFormatLongFn/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = buildFormatLongFn;\n    function buildFormatLongFn(args) {\n      return function() {\n        var options = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};\n        var width = options.width ? String(options.width) : args.defaultWidth;\n        var format4 = args.formats[width] || args.formats[args.defaultWidth];\n        return format4;\n      };\n    }\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/locale/en-US/_lib/formatLong/index.js\nvar require_formatLong = __commonJS({\n  \"../../node_modules/date-fns/locale/en-US/_lib/formatLong/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = void 0;\n    var _index = _interopRequireDefault(require_buildFormatLongFn());\n    function _interopRequireDefault(obj) {\n      return obj && obj.__esModule ? obj : { default: obj };\n    }\n    var dateFormats = {\n      full: \"EEEE, MMMM do, y\",\n      long: \"MMMM do, y\",\n      medium: \"MMM d, y\",\n      short: \"MM/dd/yyyy\"\n    };\n    var timeFormats = {\n      full: \"h:mm:ss a zzzz\",\n      long: \"h:mm:ss a z\",\n      medium: \"h:mm:ss a\",\n      short: \"h:mm a\"\n    };\n    var dateTimeFormats = {\n      full: \"{{date}} 'at' {{time}}\",\n      long: \"{{date}} 'at' {{time}}\",\n      medium: \"{{date}}, {{time}}\",\n      short: \"{{date}}, {{time}}\"\n    };\n    var formatLong = {\n      date: (0, _index.default)({\n        formats: dateFormats,\n        defaultWidth: \"full\"\n      }),\n      time: (0, _index.default)({\n        formats: timeFormats,\n        defaultWidth: \"full\"\n      }),\n      dateTime: (0, _index.default)({\n        formats: dateTimeFormats,\n        defaultWidth: \"full\"\n      })\n    };\n    var _default = formatLong;\n    exports.default = _default;\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/locale/en-US/_lib/formatRelative/index.js\nvar require_formatRelative = __commonJS({\n  \"../../node_modules/date-fns/locale/en-US/_lib/formatRelative/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = void 0;\n    var formatRelativeLocale = {\n      lastWeek: \"'last' eeee 'at' p\",\n      yesterday: \"'yesterday at' p\",\n      today: \"'today at' p\",\n      tomorrow: \"'tomorrow at' p\",\n      nextWeek: \"eeee 'at' p\",\n      other: \"P\"\n    };\n    var formatRelative = function(token, _date, _baseDate, _options) {\n      return formatRelativeLocale[token];\n    };\n    var _default = formatRelative;\n    exports.default = _default;\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/locale/_lib/buildLocalizeFn/index.js\nvar require_buildLocalizeFn = __commonJS({\n  \"../../node_modules/date-fns/locale/_lib/buildLocalizeFn/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = buildLocalizeFn;\n    function buildLocalizeFn(args) {\n      return function(dirtyIndex, dirtyOptions) {\n        var options = dirtyOptions || {};\n        var context = options.context ? String(options.context) : \"standalone\";\n        var valuesArray;\n        if (context === \"formatting\" && args.formattingValues) {\n          var defaultWidth = args.defaultFormattingWidth || args.defaultWidth;\n          var width = options.width ? String(options.width) : defaultWidth;\n          valuesArray = args.formattingValues[width] || args.formattingValues[defaultWidth];\n        } else {\n          var _defaultWidth = args.defaultWidth;\n          var _width = options.width ? String(options.width) : args.defaultWidth;\n          valuesArray = args.values[_width] || args.values[_defaultWidth];\n        }\n        var index = args.argumentCallback ? args.argumentCallback(dirtyIndex) : dirtyIndex;\n        return valuesArray[index];\n      };\n    }\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/locale/en-US/_lib/localize/index.js\nvar require_localize = __commonJS({\n  \"../../node_modules/date-fns/locale/en-US/_lib/localize/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = void 0;\n    var _index = _interopRequireDefault(require_buildLocalizeFn());\n    function _interopRequireDefault(obj) {\n      return obj && obj.__esModule ? obj : { default: obj };\n    }\n    var eraValues = {\n      narrow: [\"B\", \"A\"],\n      abbreviated: [\"BC\", \"AD\"],\n      wide: [\"Before Christ\", \"Anno Domini\"]\n    };\n    var quarterValues = {\n      narrow: [\"1\", \"2\", \"3\", \"4\"],\n      abbreviated: [\"Q1\", \"Q2\", \"Q3\", \"Q4\"],\n      wide: [\"1st quarter\", \"2nd quarter\", \"3rd quarter\", \"4th quarter\"]\n    };\n    var monthValues = {\n      narrow: [\"J\", \"F\", \"M\", \"A\", \"M\", \"J\", \"J\", \"A\", \"S\", \"O\", \"N\", \"D\"],\n      abbreviated: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"],\n      wide: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"]\n    };\n    var dayValues = {\n      narrow: [\"S\", \"M\", \"T\", \"W\", \"T\", \"F\", \"S\"],\n      short: [\"Su\", \"Mo\", \"Tu\", \"We\", \"Th\", \"Fr\", \"Sa\"],\n      abbreviated: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n      wide: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"]\n    };\n    var dayPeriodValues = {\n      narrow: {\n        am: \"a\",\n        pm: \"p\",\n        midnight: \"mi\",\n        noon: \"n\",\n        morning: \"morning\",\n        afternoon: \"afternoon\",\n        evening: \"evening\",\n        night: \"night\"\n      },\n      abbreviated: {\n        am: \"AM\",\n        pm: \"PM\",\n        midnight: \"midnight\",\n        noon: \"noon\",\n        morning: \"morning\",\n        afternoon: \"afternoon\",\n        evening: \"evening\",\n        night: \"night\"\n      },\n      wide: {\n        am: \"a.m.\",\n        pm: \"p.m.\",\n        midnight: \"midnight\",\n        noon: \"noon\",\n        morning: \"morning\",\n        afternoon: \"afternoon\",\n        evening: \"evening\",\n        night: \"night\"\n      }\n    };\n    var formattingDayPeriodValues = {\n      narrow: {\n        am: \"a\",\n        pm: \"p\",\n        midnight: \"mi\",\n        noon: \"n\",\n        morning: \"in the morning\",\n        afternoon: \"in the afternoon\",\n        evening: \"in the evening\",\n        night: \"at night\"\n      },\n      abbreviated: {\n        am: \"AM\",\n        pm: \"PM\",\n        midnight: \"midnight\",\n        noon: \"noon\",\n        morning: \"in the morning\",\n        afternoon: \"in the afternoon\",\n        evening: \"in the evening\",\n        night: \"at night\"\n      },\n      wide: {\n        am: \"a.m.\",\n        pm: \"p.m.\",\n        midnight: \"midnight\",\n        noon: \"noon\",\n        morning: \"in the morning\",\n        afternoon: \"in the afternoon\",\n        evening: \"in the evening\",\n        night: \"at night\"\n      }\n    };\n    var ordinalNumber = function(dirtyNumber, _options) {\n      var number = Number(dirtyNumber);\n      var rem100 = number % 100;\n      if (rem100 > 20 || rem100 < 10) {\n        switch (rem100 % 10) {\n          case 1:\n            return number + \"st\";\n          case 2:\n            return number + \"nd\";\n          case 3:\n            return number + \"rd\";\n        }\n      }\n      return number + \"th\";\n    };\n    var localize = {\n      ordinalNumber,\n      era: (0, _index.default)({\n        values: eraValues,\n        defaultWidth: \"wide\"\n      }),\n      quarter: (0, _index.default)({\n        values: quarterValues,\n        defaultWidth: \"wide\",\n        argumentCallback: function(quarter) {\n          return quarter - 1;\n        }\n      }),\n      month: (0, _index.default)({\n        values: monthValues,\n        defaultWidth: \"wide\"\n      }),\n      day: (0, _index.default)({\n        values: dayValues,\n        defaultWidth: \"wide\"\n      }),\n      dayPeriod: (0, _index.default)({\n        values: dayPeriodValues,\n        defaultWidth: \"wide\",\n        formattingValues: formattingDayPeriodValues,\n        defaultFormattingWidth: \"wide\"\n      })\n    };\n    var _default = localize;\n    exports.default = _default;\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/locale/_lib/buildMatchFn/index.js\nvar require_buildMatchFn = __commonJS({\n  \"../../node_modules/date-fns/locale/_lib/buildMatchFn/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = buildMatchFn;\n    function buildMatchFn(args) {\n      return function(string) {\n        var options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n        var width = options.width;\n        var matchPattern = width && args.matchPatterns[width] || args.matchPatterns[args.defaultMatchWidth];\n        var matchResult = string.match(matchPattern);\n        if (!matchResult) {\n          return null;\n        }\n        var matchedString = matchResult[0];\n        var parsePatterns = width && args.parsePatterns[width] || args.parsePatterns[args.defaultParseWidth];\n        var key = Array.isArray(parsePatterns) ? findIndex(parsePatterns, function(pattern) {\n          return pattern.test(matchedString);\n        }) : findKey(parsePatterns, function(pattern) {\n          return pattern.test(matchedString);\n        });\n        var value;\n        value = args.valueCallback ? args.valueCallback(key) : key;\n        value = options.valueCallback ? options.valueCallback(value) : value;\n        var rest = string.slice(matchedString.length);\n        return {\n          value,\n          rest\n        };\n      };\n    }\n    function findKey(object, predicate) {\n      for (var key in object) {\n        if (object.hasOwnProperty(key) && predicate(object[key])) {\n          return key;\n        }\n      }\n      return void 0;\n    }\n    function findIndex(array, predicate) {\n      for (var key = 0; key < array.length; key++) {\n        if (predicate(array[key])) {\n          return key;\n        }\n      }\n      return void 0;\n    }\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/locale/_lib/buildMatchPatternFn/index.js\nvar require_buildMatchPatternFn = __commonJS({\n  \"../../node_modules/date-fns/locale/_lib/buildMatchPatternFn/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = buildMatchPatternFn;\n    function buildMatchPatternFn(args) {\n      return function(string) {\n        var options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n        var matchResult = string.match(args.matchPattern);\n        if (!matchResult)\n          return null;\n        var matchedString = matchResult[0];\n        var parseResult = string.match(args.parsePattern);\n        if (!parseResult)\n          return null;\n        var value = args.valueCallback ? args.valueCallback(parseResult[0]) : parseResult[0];\n        value = options.valueCallback ? options.valueCallback(value) : value;\n        var rest = string.slice(matchedString.length);\n        return {\n          value,\n          rest\n        };\n      };\n    }\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/locale/en-US/_lib/match/index.js\nvar require_match = __commonJS({\n  \"../../node_modules/date-fns/locale/en-US/_lib/match/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = void 0;\n    var _index = _interopRequireDefault(require_buildMatchFn());\n    var _index2 = _interopRequireDefault(require_buildMatchPatternFn());\n    function _interopRequireDefault(obj) {\n      return obj && obj.__esModule ? obj : { default: obj };\n    }\n    var matchOrdinalNumberPattern = /^(\\d+)(th|st|nd|rd)?/i;\n    var parseOrdinalNumberPattern = /\\d+/i;\n    var matchEraPatterns = {\n      narrow: /^(b|a)/i,\n      abbreviated: /^(b\\.?\\s?c\\.?|b\\.?\\s?c\\.?\\s?e\\.?|a\\.?\\s?d\\.?|c\\.?\\s?e\\.?)/i,\n      wide: /^(before christ|before common era|anno domini|common era)/i\n    };\n    var parseEraPatterns = {\n      any: [/^b/i, /^(a|c)/i]\n    };\n    var matchQuarterPatterns = {\n      narrow: /^[1234]/i,\n      abbreviated: /^q[1234]/i,\n      wide: /^[1234](th|st|nd|rd)? quarter/i\n    };\n    var parseQuarterPatterns = {\n      any: [/1/i, /2/i, /3/i, /4/i]\n    };\n    var matchMonthPatterns = {\n      narrow: /^[jfmasond]/i,\n      abbreviated: /^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,\n      wide: /^(january|february|march|april|may|june|july|august|september|october|november|december)/i\n    };\n    var parseMonthPatterns = {\n      narrow: [/^j/i, /^f/i, /^m/i, /^a/i, /^m/i, /^j/i, /^j/i, /^a/i, /^s/i, /^o/i, /^n/i, /^d/i],\n      any: [/^ja/i, /^f/i, /^mar/i, /^ap/i, /^may/i, /^jun/i, /^jul/i, /^au/i, /^s/i, /^o/i, /^n/i, /^d/i]\n    };\n    var matchDayPatterns = {\n      narrow: /^[smtwf]/i,\n      short: /^(su|mo|tu|we|th|fr|sa)/i,\n      abbreviated: /^(sun|mon|tue|wed|thu|fri|sat)/i,\n      wide: /^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i\n    };\n    var parseDayPatterns = {\n      narrow: [/^s/i, /^m/i, /^t/i, /^w/i, /^t/i, /^f/i, /^s/i],\n      any: [/^su/i, /^m/i, /^tu/i, /^w/i, /^th/i, /^f/i, /^sa/i]\n    };\n    var matchDayPeriodPatterns = {\n      narrow: /^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,\n      any: /^([ap]\\.?\\s?m\\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i\n    };\n    var parseDayPeriodPatterns = {\n      any: {\n        am: /^a/i,\n        pm: /^p/i,\n        midnight: /^mi/i,\n        noon: /^no/i,\n        morning: /morning/i,\n        afternoon: /afternoon/i,\n        evening: /evening/i,\n        night: /night/i\n      }\n    };\n    var match = {\n      ordinalNumber: (0, _index2.default)({\n        matchPattern: matchOrdinalNumberPattern,\n        parsePattern: parseOrdinalNumberPattern,\n        valueCallback: function(value) {\n          return parseInt(value, 10);\n        }\n      }),\n      era: (0, _index.default)({\n        matchPatterns: matchEraPatterns,\n        defaultMatchWidth: \"wide\",\n        parsePatterns: parseEraPatterns,\n        defaultParseWidth: \"any\"\n      }),\n      quarter: (0, _index.default)({\n        matchPatterns: matchQuarterPatterns,\n        defaultMatchWidth: \"wide\",\n        parsePatterns: parseQuarterPatterns,\n        defaultParseWidth: \"any\",\n        valueCallback: function(index) {\n          return index + 1;\n        }\n      }),\n      month: (0, _index.default)({\n        matchPatterns: matchMonthPatterns,\n        defaultMatchWidth: \"wide\",\n        parsePatterns: parseMonthPatterns,\n        defaultParseWidth: \"any\"\n      }),\n      day: (0, _index.default)({\n        matchPatterns: matchDayPatterns,\n        defaultMatchWidth: \"wide\",\n        parsePatterns: parseDayPatterns,\n        defaultParseWidth: \"any\"\n      }),\n      dayPeriod: (0, _index.default)({\n        matchPatterns: matchDayPeriodPatterns,\n        defaultMatchWidth: \"any\",\n        parsePatterns: parseDayPeriodPatterns,\n        defaultParseWidth: \"any\"\n      })\n    };\n    var _default = match;\n    exports.default = _default;\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/locale/en-US/index.js\nvar require_en_US = __commonJS({\n  \"../../node_modules/date-fns/locale/en-US/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = void 0;\n    var _index = _interopRequireDefault(require_formatDistance());\n    var _index2 = _interopRequireDefault(require_formatLong());\n    var _index3 = _interopRequireDefault(require_formatRelative());\n    var _index4 = _interopRequireDefault(require_localize());\n    var _index5 = _interopRequireDefault(require_match());\n    function _interopRequireDefault(obj) {\n      return obj && obj.__esModule ? obj : { default: obj };\n    }\n    var locale = {\n      code: \"en-US\",\n      formatDistance: _index.default,\n      formatLong: _index2.default,\n      formatRelative: _index3.default,\n      localize: _index4.default,\n      match: _index5.default,\n      options: {\n        weekStartsOn: 0,\n        firstWeekContainsDate: 1\n      }\n    };\n    var _default = locale;\n    exports.default = _default;\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/_lib/toInteger/index.js\nvar require_toInteger = __commonJS({\n  \"../../node_modules/date-fns/_lib/toInteger/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = toInteger;\n    function toInteger(dirtyNumber) {\n      if (dirtyNumber === null || dirtyNumber === true || dirtyNumber === false) {\n        return NaN;\n      }\n      var number = Number(dirtyNumber);\n      if (isNaN(number)) {\n        return number;\n      }\n      return number < 0 ? Math.ceil(number) : Math.floor(number);\n    }\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/addMilliseconds/index.js\nvar require_addMilliseconds = __commonJS({\n  \"../../node_modules/date-fns/addMilliseconds/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = addMilliseconds;\n    var _index = _interopRequireDefault(require_toInteger());\n    var _index2 = _interopRequireDefault(require_toDate());\n    var _index3 = _interopRequireDefault(require_requiredArgs());\n    function _interopRequireDefault(obj) {\n      return obj && obj.__esModule ? obj : { default: obj };\n    }\n    function addMilliseconds(dirtyDate, dirtyAmount) {\n      (0, _index3.default)(2, arguments);\n      var timestamp = (0, _index2.default)(dirtyDate).getTime();\n      var amount = (0, _index.default)(dirtyAmount);\n      return new Date(timestamp + amount);\n    }\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/subMilliseconds/index.js\nvar require_subMilliseconds = __commonJS({\n  \"../../node_modules/date-fns/subMilliseconds/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = subMilliseconds;\n    var _index = _interopRequireDefault(require_toInteger());\n    var _index2 = _interopRequireDefault(require_addMilliseconds());\n    var _index3 = _interopRequireDefault(require_requiredArgs());\n    function _interopRequireDefault(obj) {\n      return obj && obj.__esModule ? obj : { default: obj };\n    }\n    function subMilliseconds(dirtyDate, dirtyAmount) {\n      (0, _index3.default)(2, arguments);\n      var amount = (0, _index.default)(dirtyAmount);\n      return (0, _index2.default)(dirtyDate, -amount);\n    }\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/_lib/getUTCDayOfYear/index.js\nvar require_getUTCDayOfYear = __commonJS({\n  \"../../node_modules/date-fns/_lib/getUTCDayOfYear/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = getUTCDayOfYear;\n    var _index = _interopRequireDefault(require_toDate());\n    var _index2 = _interopRequireDefault(require_requiredArgs());\n    function _interopRequireDefault(obj) {\n      return obj && obj.__esModule ? obj : { default: obj };\n    }\n    var MILLISECONDS_IN_DAY = 864e5;\n    function getUTCDayOfYear(dirtyDate) {\n      (0, _index2.default)(1, arguments);\n      var date = (0, _index.default)(dirtyDate);\n      var timestamp = date.getTime();\n      date.setUTCMonth(0, 1);\n      date.setUTCHours(0, 0, 0, 0);\n      var startOfYearTimestamp = date.getTime();\n      var difference = timestamp - startOfYearTimestamp;\n      return Math.floor(difference / MILLISECONDS_IN_DAY) + 1;\n    }\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/_lib/startOfUTCISOWeek/index.js\nvar require_startOfUTCISOWeek = __commonJS({\n  \"../../node_modules/date-fns/_lib/startOfUTCISOWeek/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = startOfUTCISOWeek;\n    var _index = _interopRequireDefault(require_toDate());\n    var _index2 = _interopRequireDefault(require_requiredArgs());\n    function _interopRequireDefault(obj) {\n      return obj && obj.__esModule ? obj : { default: obj };\n    }\n    function startOfUTCISOWeek(dirtyDate) {\n      (0, _index2.default)(1, arguments);\n      var weekStartsOn = 1;\n      var date = (0, _index.default)(dirtyDate);\n      var day = date.getUTCDay();\n      var diff = (day < weekStartsOn ? 7 : 0) + day - weekStartsOn;\n      date.setUTCDate(date.getUTCDate() - diff);\n      date.setUTCHours(0, 0, 0, 0);\n      return date;\n    }\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/_lib/getUTCISOWeekYear/index.js\nvar require_getUTCISOWeekYear = __commonJS({\n  \"../../node_modules/date-fns/_lib/getUTCISOWeekYear/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = getUTCISOWeekYear;\n    var _index = _interopRequireDefault(require_toDate());\n    var _index2 = _interopRequireDefault(require_requiredArgs());\n    var _index3 = _interopRequireDefault(require_startOfUTCISOWeek());\n    function _interopRequireDefault(obj) {\n      return obj && obj.__esModule ? obj : { default: obj };\n    }\n    function getUTCISOWeekYear(dirtyDate) {\n      (0, _index2.default)(1, arguments);\n      var date = (0, _index.default)(dirtyDate);\n      var year = date.getUTCFullYear();\n      var fourthOfJanuaryOfNextYear = new Date(0);\n      fourthOfJanuaryOfNextYear.setUTCFullYear(year + 1, 0, 4);\n      fourthOfJanuaryOfNextYear.setUTCHours(0, 0, 0, 0);\n      var startOfNextYear = (0, _index3.default)(fourthOfJanuaryOfNextYear);\n      var fourthOfJanuaryOfThisYear = new Date(0);\n      fourthOfJanuaryOfThisYear.setUTCFullYear(year, 0, 4);\n      fourthOfJanuaryOfThisYear.setUTCHours(0, 0, 0, 0);\n      var startOfThisYear = (0, _index3.default)(fourthOfJanuaryOfThisYear);\n      if (date.getTime() >= startOfNextYear.getTime()) {\n        return year + 1;\n      } else if (date.getTime() >= startOfThisYear.getTime()) {\n        return year;\n      } else {\n        return year - 1;\n      }\n    }\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/_lib/startOfUTCISOWeekYear/index.js\nvar require_startOfUTCISOWeekYear = __commonJS({\n  \"../../node_modules/date-fns/_lib/startOfUTCISOWeekYear/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = startOfUTCISOWeekYear;\n    var _index = _interopRequireDefault(require_getUTCISOWeekYear());\n    var _index2 = _interopRequireDefault(require_startOfUTCISOWeek());\n    var _index3 = _interopRequireDefault(require_requiredArgs());\n    function _interopRequireDefault(obj) {\n      return obj && obj.__esModule ? obj : { default: obj };\n    }\n    function startOfUTCISOWeekYear(dirtyDate) {\n      (0, _index3.default)(1, arguments);\n      var year = (0, _index.default)(dirtyDate);\n      var fourthOfJanuary = new Date(0);\n      fourthOfJanuary.setUTCFullYear(year, 0, 4);\n      fourthOfJanuary.setUTCHours(0, 0, 0, 0);\n      var date = (0, _index2.default)(fourthOfJanuary);\n      return date;\n    }\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/_lib/getUTCISOWeek/index.js\nvar require_getUTCISOWeek = __commonJS({\n  \"../../node_modules/date-fns/_lib/getUTCISOWeek/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = getUTCISOWeek;\n    var _index = _interopRequireDefault(require_toDate());\n    var _index2 = _interopRequireDefault(require_startOfUTCISOWeek());\n    var _index3 = _interopRequireDefault(require_startOfUTCISOWeekYear());\n    var _index4 = _interopRequireDefault(require_requiredArgs());\n    function _interopRequireDefault(obj) {\n      return obj && obj.__esModule ? obj : { default: obj };\n    }\n    var MILLISECONDS_IN_WEEK = 6048e5;\n    function getUTCISOWeek(dirtyDate) {\n      (0, _index4.default)(1, arguments);\n      var date = (0, _index.default)(dirtyDate);\n      var diff = (0, _index2.default)(date).getTime() - (0, _index3.default)(date).getTime();\n      return Math.round(diff / MILLISECONDS_IN_WEEK) + 1;\n    }\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/_lib/startOfUTCWeek/index.js\nvar require_startOfUTCWeek = __commonJS({\n  \"../../node_modules/date-fns/_lib/startOfUTCWeek/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = startOfUTCWeek;\n    var _index = _interopRequireDefault(require_toDate());\n    var _index2 = _interopRequireDefault(require_requiredArgs());\n    var _index3 = _interopRequireDefault(require_toInteger());\n    function _interopRequireDefault(obj) {\n      return obj && obj.__esModule ? obj : { default: obj };\n    }\n    function startOfUTCWeek(dirtyDate, dirtyOptions) {\n      (0, _index2.default)(1, arguments);\n      var options = dirtyOptions || {};\n      var locale = options.locale;\n      var localeWeekStartsOn = locale && locale.options && locale.options.weekStartsOn;\n      var defaultWeekStartsOn = localeWeekStartsOn == null ? 0 : (0, _index3.default)(localeWeekStartsOn);\n      var weekStartsOn = options.weekStartsOn == null ? defaultWeekStartsOn : (0, _index3.default)(options.weekStartsOn);\n      if (!(weekStartsOn >= 0 && weekStartsOn <= 6)) {\n        throw new RangeError(\"weekStartsOn must be between 0 and 6 inclusively\");\n      }\n      var date = (0, _index.default)(dirtyDate);\n      var day = date.getUTCDay();\n      var diff = (day < weekStartsOn ? 7 : 0) + day - weekStartsOn;\n      date.setUTCDate(date.getUTCDate() - diff);\n      date.setUTCHours(0, 0, 0, 0);\n      return date;\n    }\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/_lib/getUTCWeekYear/index.js\nvar require_getUTCWeekYear = __commonJS({\n  \"../../node_modules/date-fns/_lib/getUTCWeekYear/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = getUTCWeekYear;\n    var _index = _interopRequireDefault(require_toDate());\n    var _index2 = _interopRequireDefault(require_requiredArgs());\n    var _index3 = _interopRequireDefault(require_startOfUTCWeek());\n    var _index4 = _interopRequireDefault(require_toInteger());\n    function _interopRequireDefault(obj) {\n      return obj && obj.__esModule ? obj : { default: obj };\n    }\n    function getUTCWeekYear(dirtyDate, dirtyOptions) {\n      (0, _index2.default)(1, arguments);\n      var date = (0, _index.default)(dirtyDate);\n      var year = date.getUTCFullYear();\n      var options = dirtyOptions || {};\n      var locale = options.locale;\n      var localeFirstWeekContainsDate = locale && locale.options && locale.options.firstWeekContainsDate;\n      var defaultFirstWeekContainsDate = localeFirstWeekContainsDate == null ? 1 : (0, _index4.default)(localeFirstWeekContainsDate);\n      var firstWeekContainsDate = options.firstWeekContainsDate == null ? defaultFirstWeekContainsDate : (0, _index4.default)(options.firstWeekContainsDate);\n      if (!(firstWeekContainsDate >= 1 && firstWeekContainsDate <= 7)) {\n        throw new RangeError(\"firstWeekContainsDate must be between 1 and 7 inclusively\");\n      }\n      var firstWeekOfNextYear = new Date(0);\n      firstWeekOfNextYear.setUTCFullYear(year + 1, 0, firstWeekContainsDate);\n      firstWeekOfNextYear.setUTCHours(0, 0, 0, 0);\n      var startOfNextYear = (0, _index3.default)(firstWeekOfNextYear, dirtyOptions);\n      var firstWeekOfThisYear = new Date(0);\n      firstWeekOfThisYear.setUTCFullYear(year, 0, firstWeekContainsDate);\n      firstWeekOfThisYear.setUTCHours(0, 0, 0, 0);\n      var startOfThisYear = (0, _index3.default)(firstWeekOfThisYear, dirtyOptions);\n      if (date.getTime() >= startOfNextYear.getTime()) {\n        return year + 1;\n      } else if (date.getTime() >= startOfThisYear.getTime()) {\n        return year;\n      } else {\n        return year - 1;\n      }\n    }\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/_lib/startOfUTCWeekYear/index.js\nvar require_startOfUTCWeekYear = __commonJS({\n  \"../../node_modules/date-fns/_lib/startOfUTCWeekYear/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = startOfUTCWeekYear;\n    var _index = _interopRequireDefault(require_getUTCWeekYear());\n    var _index2 = _interopRequireDefault(require_requiredArgs());\n    var _index3 = _interopRequireDefault(require_startOfUTCWeek());\n    var _index4 = _interopRequireDefault(require_toInteger());\n    function _interopRequireDefault(obj) {\n      return obj && obj.__esModule ? obj : { default: obj };\n    }\n    function startOfUTCWeekYear(dirtyDate, dirtyOptions) {\n      (0, _index2.default)(1, arguments);\n      var options = dirtyOptions || {};\n      var locale = options.locale;\n      var localeFirstWeekContainsDate = locale && locale.options && locale.options.firstWeekContainsDate;\n      var defaultFirstWeekContainsDate = localeFirstWeekContainsDate == null ? 1 : (0, _index4.default)(localeFirstWeekContainsDate);\n      var firstWeekContainsDate = options.firstWeekContainsDate == null ? defaultFirstWeekContainsDate : (0, _index4.default)(options.firstWeekContainsDate);\n      var year = (0, _index.default)(dirtyDate, dirtyOptions);\n      var firstWeek = new Date(0);\n      firstWeek.setUTCFullYear(year, 0, firstWeekContainsDate);\n      firstWeek.setUTCHours(0, 0, 0, 0);\n      var date = (0, _index3.default)(firstWeek, dirtyOptions);\n      return date;\n    }\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/_lib/getUTCWeek/index.js\nvar require_getUTCWeek = __commonJS({\n  \"../../node_modules/date-fns/_lib/getUTCWeek/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = getUTCWeek;\n    var _index = _interopRequireDefault(require_toDate());\n    var _index2 = _interopRequireDefault(require_startOfUTCWeek());\n    var _index3 = _interopRequireDefault(require_startOfUTCWeekYear());\n    var _index4 = _interopRequireDefault(require_requiredArgs());\n    function _interopRequireDefault(obj) {\n      return obj && obj.__esModule ? obj : { default: obj };\n    }\n    var MILLISECONDS_IN_WEEK = 6048e5;\n    function getUTCWeek(dirtyDate, options) {\n      (0, _index4.default)(1, arguments);\n      var date = (0, _index.default)(dirtyDate);\n      var diff = (0, _index2.default)(date, options).getTime() - (0, _index3.default)(date, options).getTime();\n      return Math.round(diff / MILLISECONDS_IN_WEEK) + 1;\n    }\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/_lib/addLeadingZeros/index.js\nvar require_addLeadingZeros = __commonJS({\n  \"../../node_modules/date-fns/_lib/addLeadingZeros/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = addLeadingZeros;\n    function addLeadingZeros(number, targetLength) {\n      var sign = number < 0 ? \"-\" : \"\";\n      var output = Math.abs(number).toString();\n      while (output.length < targetLength) {\n        output = \"0\" + output;\n      }\n      return sign + output;\n    }\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/_lib/format/lightFormatters/index.js\nvar require_lightFormatters = __commonJS({\n  \"../../node_modules/date-fns/_lib/format/lightFormatters/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = void 0;\n    var _index = _interopRequireDefault(require_addLeadingZeros());\n    function _interopRequireDefault(obj) {\n      return obj && obj.__esModule ? obj : { default: obj };\n    }\n    var formatters = {\n      y: function(date, token) {\n        var signedYear = date.getUTCFullYear();\n        var year = signedYear > 0 ? signedYear : 1 - signedYear;\n        return (0, _index.default)(token === \"yy\" ? year % 100 : year, token.length);\n      },\n      M: function(date, token) {\n        var month = date.getUTCMonth();\n        return token === \"M\" ? String(month + 1) : (0, _index.default)(month + 1, 2);\n      },\n      d: function(date, token) {\n        return (0, _index.default)(date.getUTCDate(), token.length);\n      },\n      a: function(date, token) {\n        var dayPeriodEnumValue = date.getUTCHours() / 12 >= 1 ? \"pm\" : \"am\";\n        switch (token) {\n          case \"a\":\n          case \"aa\":\n            return dayPeriodEnumValue.toUpperCase();\n          case \"aaa\":\n            return dayPeriodEnumValue;\n          case \"aaaaa\":\n            return dayPeriodEnumValue[0];\n          case \"aaaa\":\n          default:\n            return dayPeriodEnumValue === \"am\" ? \"a.m.\" : \"p.m.\";\n        }\n      },\n      h: function(date, token) {\n        return (0, _index.default)(date.getUTCHours() % 12 || 12, token.length);\n      },\n      H: function(date, token) {\n        return (0, _index.default)(date.getUTCHours(), token.length);\n      },\n      m: function(date, token) {\n        return (0, _index.default)(date.getUTCMinutes(), token.length);\n      },\n      s: function(date, token) {\n        return (0, _index.default)(date.getUTCSeconds(), token.length);\n      },\n      S: function(date, token) {\n        var numberOfDigits = token.length;\n        var milliseconds = date.getUTCMilliseconds();\n        var fractionalSeconds = Math.floor(milliseconds * Math.pow(10, numberOfDigits - 3));\n        return (0, _index.default)(fractionalSeconds, token.length);\n      }\n    };\n    var _default = formatters;\n    exports.default = _default;\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/_lib/format/formatters/index.js\nvar require_formatters = __commonJS({\n  \"../../node_modules/date-fns/_lib/format/formatters/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = void 0;\n    var _index = _interopRequireDefault(require_getUTCDayOfYear());\n    var _index2 = _interopRequireDefault(require_getUTCISOWeek());\n    var _index3 = _interopRequireDefault(require_getUTCISOWeekYear());\n    var _index4 = _interopRequireDefault(require_getUTCWeek());\n    var _index5 = _interopRequireDefault(require_getUTCWeekYear());\n    var _index6 = _interopRequireDefault(require_addLeadingZeros());\n    var _index7 = _interopRequireDefault(require_lightFormatters());\n    function _interopRequireDefault(obj) {\n      return obj && obj.__esModule ? obj : { default: obj };\n    }\n    var dayPeriodEnum = {\n      am: \"am\",\n      pm: \"pm\",\n      midnight: \"midnight\",\n      noon: \"noon\",\n      morning: \"morning\",\n      afternoon: \"afternoon\",\n      evening: \"evening\",\n      night: \"night\"\n    };\n    var formatters = {\n      G: function(date, token, localize) {\n        var era = date.getUTCFullYear() > 0 ? 1 : 0;\n        switch (token) {\n          case \"G\":\n          case \"GG\":\n          case \"GGG\":\n            return localize.era(era, {\n              width: \"abbreviated\"\n            });\n          case \"GGGGG\":\n            return localize.era(era, {\n              width: \"narrow\"\n            });\n          case \"GGGG\":\n          default:\n            return localize.era(era, {\n              width: \"wide\"\n            });\n        }\n      },\n      y: function(date, token, localize) {\n        if (token === \"yo\") {\n          var signedYear = date.getUTCFullYear();\n          var year = signedYear > 0 ? signedYear : 1 - signedYear;\n          return localize.ordinalNumber(year, {\n            unit: \"year\"\n          });\n        }\n        return _index7.default.y(date, token);\n      },\n      Y: function(date, token, localize, options) {\n        var signedWeekYear = (0, _index5.default)(date, options);\n        var weekYear = signedWeekYear > 0 ? signedWeekYear : 1 - signedWeekYear;\n        if (token === \"YY\") {\n          var twoDigitYear = weekYear % 100;\n          return (0, _index6.default)(twoDigitYear, 2);\n        }\n        if (token === \"Yo\") {\n          return localize.ordinalNumber(weekYear, {\n            unit: \"year\"\n          });\n        }\n        return (0, _index6.default)(weekYear, token.length);\n      },\n      R: function(date, token) {\n        var isoWeekYear = (0, _index3.default)(date);\n        return (0, _index6.default)(isoWeekYear, token.length);\n      },\n      u: function(date, token) {\n        var year = date.getUTCFullYear();\n        return (0, _index6.default)(year, token.length);\n      },\n      Q: function(date, token, localize) {\n        var quarter = Math.ceil((date.getUTCMonth() + 1) / 3);\n        switch (token) {\n          case \"Q\":\n            return String(quarter);\n          case \"QQ\":\n            return (0, _index6.default)(quarter, 2);\n          case \"Qo\":\n            return localize.ordinalNumber(quarter, {\n              unit: \"quarter\"\n            });\n          case \"QQQ\":\n            return localize.quarter(quarter, {\n              width: \"abbreviated\",\n              context: \"formatting\"\n            });\n          case \"QQQQQ\":\n            return localize.quarter(quarter, {\n              width: \"narrow\",\n              context: \"formatting\"\n            });\n          case \"QQQQ\":\n          default:\n            return localize.quarter(quarter, {\n              width: \"wide\",\n              context: \"formatting\"\n            });\n        }\n      },\n      q: function(date, token, localize) {\n        var quarter = Math.ceil((date.getUTCMonth() + 1) / 3);\n        switch (token) {\n          case \"q\":\n            return String(quarter);\n          case \"qq\":\n            return (0, _index6.default)(quarter, 2);\n          case \"qo\":\n            return localize.ordinalNumber(quarter, {\n              unit: \"quarter\"\n            });\n          case \"qqq\":\n            return localize.quarter(quarter, {\n              width: \"abbreviated\",\n              context: \"standalone\"\n            });\n          case \"qqqqq\":\n            return localize.quarter(quarter, {\n              width: \"narrow\",\n              context: \"standalone\"\n            });\n          case \"qqqq\":\n          default:\n            return localize.quarter(quarter, {\n              width: \"wide\",\n              context: \"standalone\"\n            });\n        }\n      },\n      M: function(date, token, localize) {\n        var month = date.getUTCMonth();\n        switch (token) {\n          case \"M\":\n          case \"MM\":\n            return _index7.default.M(date, token);\n          case \"Mo\":\n            return localize.ordinalNumber(month + 1, {\n              unit: \"month\"\n            });\n          case \"MMM\":\n            return localize.month(month, {\n              width: \"abbreviated\",\n              context: \"formatting\"\n            });\n          case \"MMMMM\":\n            return localize.month(month, {\n              width: \"narrow\",\n              context: \"formatting\"\n            });\n          case \"MMMM\":\n          default:\n            return localize.month(month, {\n              width: \"wide\",\n              context: \"formatting\"\n            });\n        }\n      },\n      L: function(date, token, localize) {\n        var month = date.getUTCMonth();\n        switch (token) {\n          case \"L\":\n            return String(month + 1);\n          case \"LL\":\n            return (0, _index6.default)(month + 1, 2);\n          case \"Lo\":\n            return localize.ordinalNumber(month + 1, {\n              unit: \"month\"\n            });\n          case \"LLL\":\n            return localize.month(month, {\n              width: \"abbreviated\",\n              context: \"standalone\"\n            });\n          case \"LLLLL\":\n            return localize.month(month, {\n              width: \"narrow\",\n              context: \"standalone\"\n            });\n          case \"LLLL\":\n          default:\n            return localize.month(month, {\n              width: \"wide\",\n              context: \"standalone\"\n            });\n        }\n      },\n      w: function(date, token, localize, options) {\n        var week = (0, _index4.default)(date, options);\n        if (token === \"wo\") {\n          return localize.ordinalNumber(week, {\n            unit: \"week\"\n          });\n        }\n        return (0, _index6.default)(week, token.length);\n      },\n      I: function(date, token, localize) {\n        var isoWeek = (0, _index2.default)(date);\n        if (token === \"Io\") {\n          return localize.ordinalNumber(isoWeek, {\n            unit: \"week\"\n          });\n        }\n        return (0, _index6.default)(isoWeek, token.length);\n      },\n      d: function(date, token, localize) {\n        if (token === \"do\") {\n          return localize.ordinalNumber(date.getUTCDate(), {\n            unit: \"date\"\n          });\n        }\n        return _index7.default.d(date, token);\n      },\n      D: function(date, token, localize) {\n        var dayOfYear = (0, _index.default)(date);\n        if (token === \"Do\") {\n          return localize.ordinalNumber(dayOfYear, {\n            unit: \"dayOfYear\"\n          });\n        }\n        return (0, _index6.default)(dayOfYear, token.length);\n      },\n      E: function(date, token, localize) {\n        var dayOfWeek = date.getUTCDay();\n        switch (token) {\n          case \"E\":\n          case \"EE\":\n          case \"EEE\":\n            return localize.day(dayOfWeek, {\n              width: \"abbreviated\",\n              context: \"formatting\"\n            });\n          case \"EEEEE\":\n            return localize.day(dayOfWeek, {\n              width: \"narrow\",\n              context: \"formatting\"\n            });\n          case \"EEEEEE\":\n            return localize.day(dayOfWeek, {\n              width: \"short\",\n              context: \"formatting\"\n            });\n          case \"EEEE\":\n          default:\n            return localize.day(dayOfWeek, {\n              width: \"wide\",\n              context: \"formatting\"\n            });\n        }\n      },\n      e: function(date, token, localize, options) {\n        var dayOfWeek = date.getUTCDay();\n        var localDayOfWeek = (dayOfWeek - options.weekStartsOn + 8) % 7 || 7;\n        switch (token) {\n          case \"e\":\n            return String(localDayOfWeek);\n          case \"ee\":\n            return (0, _index6.default)(localDayOfWeek, 2);\n          case \"eo\":\n            return localize.ordinalNumber(localDayOfWeek, {\n              unit: \"day\"\n            });\n          case \"eee\":\n            return localize.day(dayOfWeek, {\n              width: \"abbreviated\",\n              context: \"formatting\"\n            });\n          case \"eeeee\":\n            return localize.day(dayOfWeek, {\n              width: \"narrow\",\n              context: \"formatting\"\n            });\n          case \"eeeeee\":\n            return localize.day(dayOfWeek, {\n              width: \"short\",\n              context: \"formatting\"\n            });\n          case \"eeee\":\n          default:\n            return localize.day(dayOfWeek, {\n              width: \"wide\",\n              context: \"formatting\"\n            });\n        }\n      },\n      c: function(date, token, localize, options) {\n        var dayOfWeek = date.getUTCDay();\n        var localDayOfWeek = (dayOfWeek - options.weekStartsOn + 8) % 7 || 7;\n        switch (token) {\n          case \"c\":\n            return String(localDayOfWeek);\n          case \"cc\":\n            return (0, _index6.default)(localDayOfWeek, token.length);\n          case \"co\":\n            return localize.ordinalNumber(localDayOfWeek, {\n              unit: \"day\"\n            });\n          case \"ccc\":\n            return localize.day(dayOfWeek, {\n              width: \"abbreviated\",\n              context: \"standalone\"\n            });\n          case \"ccccc\":\n            return localize.day(dayOfWeek, {\n              width: \"narrow\",\n              context: \"standalone\"\n            });\n          case \"cccccc\":\n            return localize.day(dayOfWeek, {\n              width: \"short\",\n              context: \"standalone\"\n            });\n          case \"cccc\":\n          default:\n            return localize.day(dayOfWeek, {\n              width: \"wide\",\n              context: \"standalone\"\n            });\n        }\n      },\n      i: function(date, token, localize) {\n        var dayOfWeek = date.getUTCDay();\n        var isoDayOfWeek = dayOfWeek === 0 ? 7 : dayOfWeek;\n        switch (token) {\n          case \"i\":\n            return String(isoDayOfWeek);\n          case \"ii\":\n            return (0, _index6.default)(isoDayOfWeek, token.length);\n          case \"io\":\n            return localize.ordinalNumber(isoDayOfWeek, {\n              unit: \"day\"\n            });\n          case \"iii\":\n            return localize.day(dayOfWeek, {\n              width: \"abbreviated\",\n              context: \"formatting\"\n            });\n          case \"iiiii\":\n            return localize.day(dayOfWeek, {\n              width: \"narrow\",\n              context: \"formatting\"\n            });\n          case \"iiiiii\":\n            return localize.day(dayOfWeek, {\n              width: \"short\",\n              context: \"formatting\"\n            });\n          case \"iiii\":\n          default:\n            return localize.day(dayOfWeek, {\n              width: \"wide\",\n              context: \"formatting\"\n            });\n        }\n      },\n      a: function(date, token, localize) {\n        var hours = date.getUTCHours();\n        var dayPeriodEnumValue = hours / 12 >= 1 ? \"pm\" : \"am\";\n        switch (token) {\n          case \"a\":\n          case \"aa\":\n            return localize.dayPeriod(dayPeriodEnumValue, {\n              width: \"abbreviated\",\n              context: \"formatting\"\n            });\n          case \"aaa\":\n            return localize.dayPeriod(dayPeriodEnumValue, {\n              width: \"abbreviated\",\n              context: \"formatting\"\n            }).toLowerCase();\n          case \"aaaaa\":\n            return localize.dayPeriod(dayPeriodEnumValue, {\n              width: \"narrow\",\n              context: \"formatting\"\n            });\n          case \"aaaa\":\n          default:\n            return localize.dayPeriod(dayPeriodEnumValue, {\n              width: \"wide\",\n              context: \"formatting\"\n            });\n        }\n      },\n      b: function(date, token, localize) {\n        var hours = date.getUTCHours();\n        var dayPeriodEnumValue;\n        if (hours === 12) {\n          dayPeriodEnumValue = dayPeriodEnum.noon;\n        } else if (hours === 0) {\n          dayPeriodEnumValue = dayPeriodEnum.midnight;\n        } else {\n          dayPeriodEnumValue = hours / 12 >= 1 ? \"pm\" : \"am\";\n        }\n        switch (token) {\n          case \"b\":\n          case \"bb\":\n            return localize.dayPeriod(dayPeriodEnumValue, {\n              width: \"abbreviated\",\n              context: \"formatting\"\n            });\n          case \"bbb\":\n            return localize.dayPeriod(dayPeriodEnumValue, {\n              width: \"abbreviated\",\n              context: \"formatting\"\n            }).toLowerCase();\n          case \"bbbbb\":\n            return localize.dayPeriod(dayPeriodEnumValue, {\n              width: \"narrow\",\n              context: \"formatting\"\n            });\n          case \"bbbb\":\n          default:\n            return localize.dayPeriod(dayPeriodEnumValue, {\n              width: \"wide\",\n              context: \"formatting\"\n            });\n        }\n      },\n      B: function(date, token, localize) {\n        var hours = date.getUTCHours();\n        var dayPeriodEnumValue;\n        if (hours >= 17) {\n          dayPeriodEnumValue = dayPeriodEnum.evening;\n        } else if (hours >= 12) {\n          dayPeriodEnumValue = dayPeriodEnum.afternoon;\n        } else if (hours >= 4) {\n          dayPeriodEnumValue = dayPeriodEnum.morning;\n        } else {\n          dayPeriodEnumValue = dayPeriodEnum.night;\n        }\n        switch (token) {\n          case \"B\":\n          case \"BB\":\n          case \"BBB\":\n            return localize.dayPeriod(dayPeriodEnumValue, {\n              width: \"abbreviated\",\n              context: \"formatting\"\n            });\n          case \"BBBBB\":\n            return localize.dayPeriod(dayPeriodEnumValue, {\n              width: \"narrow\",\n              context: \"formatting\"\n            });\n          case \"BBBB\":\n          default:\n            return localize.dayPeriod(dayPeriodEnumValue, {\n              width: \"wide\",\n              context: \"formatting\"\n            });\n        }\n      },\n      h: function(date, token, localize) {\n        if (token === \"ho\") {\n          var hours = date.getUTCHours() % 12;\n          if (hours === 0)\n            hours = 12;\n          return localize.ordinalNumber(hours, {\n            unit: \"hour\"\n          });\n        }\n        return _index7.default.h(date, token);\n      },\n      H: function(date, token, localize) {\n        if (token === \"Ho\") {\n          return localize.ordinalNumber(date.getUTCHours(), {\n            unit: \"hour\"\n          });\n        }\n        return _index7.default.H(date, token);\n      },\n      K: function(date, token, localize) {\n        var hours = date.getUTCHours() % 12;\n        if (token === \"Ko\") {\n          return localize.ordinalNumber(hours, {\n            unit: \"hour\"\n          });\n        }\n        return (0, _index6.default)(hours, token.length);\n      },\n      k: function(date, token, localize) {\n        var hours = date.getUTCHours();\n        if (hours === 0)\n          hours = 24;\n        if (token === \"ko\") {\n          return localize.ordinalNumber(hours, {\n            unit: \"hour\"\n          });\n        }\n        return (0, _index6.default)(hours, token.length);\n      },\n      m: function(date, token, localize) {\n        if (token === \"mo\") {\n          return localize.ordinalNumber(date.getUTCMinutes(), {\n            unit: \"minute\"\n          });\n        }\n        return _index7.default.m(date, token);\n      },\n      s: function(date, token, localize) {\n        if (token === \"so\") {\n          return localize.ordinalNumber(date.getUTCSeconds(), {\n            unit: \"second\"\n          });\n        }\n        return _index7.default.s(date, token);\n      },\n      S: function(date, token) {\n        return _index7.default.S(date, token);\n      },\n      X: function(date, token, _localize, options) {\n        var originalDate = options._originalDate || date;\n        var timezoneOffset = originalDate.getTimezoneOffset();\n        if (timezoneOffset === 0) {\n          return \"Z\";\n        }\n        switch (token) {\n          case \"X\":\n            return formatTimezoneWithOptionalMinutes(timezoneOffset);\n          case \"XXXX\":\n          case \"XX\":\n            return formatTimezone(timezoneOffset);\n          case \"XXXXX\":\n          case \"XXX\":\n          default:\n            return formatTimezone(timezoneOffset, \":\");\n        }\n      },\n      x: function(date, token, _localize, options) {\n        var originalDate = options._originalDate || date;\n        var timezoneOffset = originalDate.getTimezoneOffset();\n        switch (token) {\n          case \"x\":\n            return formatTimezoneWithOptionalMinutes(timezoneOffset);\n          case \"xxxx\":\n          case \"xx\":\n            return formatTimezone(timezoneOffset);\n          case \"xxxxx\":\n          case \"xxx\":\n          default:\n            return formatTimezone(timezoneOffset, \":\");\n        }\n      },\n      O: function(date, token, _localize, options) {\n        var originalDate = options._originalDate || date;\n        var timezoneOffset = originalDate.getTimezoneOffset();\n        switch (token) {\n          case \"O\":\n          case \"OO\":\n          case \"OOO\":\n            return \"GMT\" + formatTimezoneShort(timezoneOffset, \":\");\n          case \"OOOO\":\n          default:\n            return \"GMT\" + formatTimezone(timezoneOffset, \":\");\n        }\n      },\n      z: function(date, token, _localize, options) {\n        var originalDate = options._originalDate || date;\n        var timezoneOffset = originalDate.getTimezoneOffset();\n        switch (token) {\n          case \"z\":\n          case \"zz\":\n          case \"zzz\":\n            return \"GMT\" + formatTimezoneShort(timezoneOffset, \":\");\n          case \"zzzz\":\n          default:\n            return \"GMT\" + formatTimezone(timezoneOffset, \":\");\n        }\n      },\n      t: function(date, token, _localize, options) {\n        var originalDate = options._originalDate || date;\n        var timestamp = Math.floor(originalDate.getTime() / 1e3);\n        return (0, _index6.default)(timestamp, token.length);\n      },\n      T: function(date, token, _localize, options) {\n        var originalDate = options._originalDate || date;\n        var timestamp = originalDate.getTime();\n        return (0, _index6.default)(timestamp, token.length);\n      }\n    };\n    function formatTimezoneShort(offset, dirtyDelimiter) {\n      var sign = offset > 0 ? \"-\" : \"+\";\n      var absOffset = Math.abs(offset);\n      var hours = Math.floor(absOffset / 60);\n      var minutes = absOffset % 60;\n      if (minutes === 0) {\n        return sign + String(hours);\n      }\n      var delimiter = dirtyDelimiter || \"\";\n      return sign + String(hours) + delimiter + (0, _index6.default)(minutes, 2);\n    }\n    function formatTimezoneWithOptionalMinutes(offset, dirtyDelimiter) {\n      if (offset % 60 === 0) {\n        var sign = offset > 0 ? \"-\" : \"+\";\n        return sign + (0, _index6.default)(Math.abs(offset) / 60, 2);\n      }\n      return formatTimezone(offset, dirtyDelimiter);\n    }\n    function formatTimezone(offset, dirtyDelimiter) {\n      var delimiter = dirtyDelimiter || \"\";\n      var sign = offset > 0 ? \"-\" : \"+\";\n      var absOffset = Math.abs(offset);\n      var hours = (0, _index6.default)(Math.floor(absOffset / 60), 2);\n      var minutes = (0, _index6.default)(absOffset % 60, 2);\n      return sign + hours + delimiter + minutes;\n    }\n    var _default = formatters;\n    exports.default = _default;\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/_lib/format/longFormatters/index.js\nvar require_longFormatters = __commonJS({\n  \"../../node_modules/date-fns/_lib/format/longFormatters/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = void 0;\n    function dateLongFormatter(pattern, formatLong) {\n      switch (pattern) {\n        case \"P\":\n          return formatLong.date({\n            width: \"short\"\n          });\n        case \"PP\":\n          return formatLong.date({\n            width: \"medium\"\n          });\n        case \"PPP\":\n          return formatLong.date({\n            width: \"long\"\n          });\n        case \"PPPP\":\n        default:\n          return formatLong.date({\n            width: \"full\"\n          });\n      }\n    }\n    function timeLongFormatter(pattern, formatLong) {\n      switch (pattern) {\n        case \"p\":\n          return formatLong.time({\n            width: \"short\"\n          });\n        case \"pp\":\n          return formatLong.time({\n            width: \"medium\"\n          });\n        case \"ppp\":\n          return formatLong.time({\n            width: \"long\"\n          });\n        case \"pppp\":\n        default:\n          return formatLong.time({\n            width: \"full\"\n          });\n      }\n    }\n    function dateTimeLongFormatter(pattern, formatLong) {\n      var matchResult = pattern.match(/(P+)(p+)?/) || [];\n      var datePattern = matchResult[1];\n      var timePattern = matchResult[2];\n      if (!timePattern) {\n        return dateLongFormatter(pattern, formatLong);\n      }\n      var dateTimeFormat;\n      switch (datePattern) {\n        case \"P\":\n          dateTimeFormat = formatLong.dateTime({\n            width: \"short\"\n          });\n          break;\n        case \"PP\":\n          dateTimeFormat = formatLong.dateTime({\n            width: \"medium\"\n          });\n          break;\n        case \"PPP\":\n          dateTimeFormat = formatLong.dateTime({\n            width: \"long\"\n          });\n          break;\n        case \"PPPP\":\n        default:\n          dateTimeFormat = formatLong.dateTime({\n            width: \"full\"\n          });\n          break;\n      }\n      return dateTimeFormat.replace(\"{{date}}\", dateLongFormatter(datePattern, formatLong)).replace(\"{{time}}\", timeLongFormatter(timePattern, formatLong));\n    }\n    var longFormatters = {\n      p: timeLongFormatter,\n      P: dateTimeLongFormatter\n    };\n    var _default = longFormatters;\n    exports.default = _default;\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/_lib/getTimezoneOffsetInMilliseconds/index.js\nvar require_getTimezoneOffsetInMilliseconds = __commonJS({\n  \"../../node_modules/date-fns/_lib/getTimezoneOffsetInMilliseconds/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = getTimezoneOffsetInMilliseconds;\n    function getTimezoneOffsetInMilliseconds(date) {\n      var utcDate = new Date(Date.UTC(date.getFullYear(), date.getMonth(), date.getDate(), date.getHours(), date.getMinutes(), date.getSeconds(), date.getMilliseconds()));\n      utcDate.setUTCFullYear(date.getFullYear());\n      return date.getTime() - utcDate.getTime();\n    }\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/_lib/protectedTokens/index.js\nvar require_protectedTokens = __commonJS({\n  \"../../node_modules/date-fns/_lib/protectedTokens/index.js\"(exports) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.isProtectedDayOfYearToken = isProtectedDayOfYearToken;\n    exports.isProtectedWeekYearToken = isProtectedWeekYearToken;\n    exports.throwProtectedError = throwProtectedError;\n    var protectedDayOfYearTokens = [\"D\", \"DD\"];\n    var protectedWeekYearTokens = [\"YY\", \"YYYY\"];\n    function isProtectedDayOfYearToken(token) {\n      return protectedDayOfYearTokens.indexOf(token) !== -1;\n    }\n    function isProtectedWeekYearToken(token) {\n      return protectedWeekYearTokens.indexOf(token) !== -1;\n    }\n    function throwProtectedError(token, format4, input) {\n      if (token === \"YYYY\") {\n        throw new RangeError(\"Use `yyyy` instead of `YYYY` (in `\".concat(format4, \"`) for formatting years to the input `\").concat(input, \"`; see: https://git.io/fxCyr\"));\n      } else if (token === \"YY\") {\n        throw new RangeError(\"Use `yy` instead of `YY` (in `\".concat(format4, \"`) for formatting years to the input `\").concat(input, \"`; see: https://git.io/fxCyr\"));\n      } else if (token === \"D\") {\n        throw new RangeError(\"Use `d` instead of `D` (in `\".concat(format4, \"`) for formatting days of the month to the input `\").concat(input, \"`; see: https://git.io/fxCyr\"));\n      } else if (token === \"DD\") {\n        throw new RangeError(\"Use `dd` instead of `DD` (in `\".concat(format4, \"`) for formatting days of the month to the input `\").concat(input, \"`; see: https://git.io/fxCyr\"));\n      }\n    }\n  }\n});\n\n// ../../node_modules/date-fns/format/index.js\nvar require_format = __commonJS({\n  \"../../node_modules/date-fns/format/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = format4;\n    var _index = _interopRequireDefault(require_isValid());\n    var _index2 = _interopRequireDefault(require_en_US());\n    var _index3 = _interopRequireDefault(require_subMilliseconds());\n    var _index4 = _interopRequireDefault(require_toDate());\n    var _index5 = _interopRequireDefault(require_formatters());\n    var _index6 = _interopRequireDefault(require_longFormatters());\n    var _index7 = _interopRequireDefault(require_getTimezoneOffsetInMilliseconds());\n    var _index8 = require_protectedTokens();\n    var _index9 = _interopRequireDefault(require_toInteger());\n    var _index10 = _interopRequireDefault(require_requiredArgs());\n    function _interopRequireDefault(obj) {\n      return obj && obj.__esModule ? obj : { default: obj };\n    }\n    var formattingTokensRegExp = /[yYQqMLwIdDecihHKkms]o|(\\w)\\1*|''|'(''|[^'])+('|$)|./g;\n    var longFormattingTokensRegExp = /P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;\n    var escapedStringRegExp = /^'([^]*?)'?$/;\n    var doubleQuoteRegExp = /''/g;\n    var unescapedLatinCharacterRegExp = /[a-zA-Z]/;\n    function format4(dirtyDate, dirtyFormatStr, dirtyOptions) {\n      (0, _index10.default)(2, arguments);\n      var formatStr = String(dirtyFormatStr);\n      var options = dirtyOptions || {};\n      var locale = options.locale || _index2.default;\n      var localeFirstWeekContainsDate = locale.options && locale.options.firstWeekContainsDate;\n      var defaultFirstWeekContainsDate = localeFirstWeekContainsDate == null ? 1 : (0, _index9.default)(localeFirstWeekContainsDate);\n      var firstWeekContainsDate = options.firstWeekContainsDate == null ? defaultFirstWeekContainsDate : (0, _index9.default)(options.firstWeekContainsDate);\n      if (!(firstWeekContainsDate >= 1 && firstWeekContainsDate <= 7)) {\n        throw new RangeError(\"firstWeekContainsDate must be between 1 and 7 inclusively\");\n      }\n      var localeWeekStartsOn = locale.options && locale.options.weekStartsOn;\n      var defaultWeekStartsOn = localeWeekStartsOn == null ? 0 : (0, _index9.default)(localeWeekStartsOn);\n      var weekStartsOn = options.weekStartsOn == null ? defaultWeekStartsOn : (0, _index9.default)(options.weekStartsOn);\n      if (!(weekStartsOn >= 0 && weekStartsOn <= 6)) {\n        throw new RangeError(\"weekStartsOn must be between 0 and 6 inclusively\");\n      }\n      if (!locale.localize) {\n        throw new RangeError(\"locale must contain localize property\");\n      }\n      if (!locale.formatLong) {\n        throw new RangeError(\"locale must contain formatLong property\");\n      }\n      var originalDate = (0, _index4.default)(dirtyDate);\n      if (!(0, _index.default)(originalDate)) {\n        throw new RangeError(\"Invalid time value\");\n      }\n      var timezoneOffset = (0, _index7.default)(originalDate);\n      var utcDate = (0, _index3.default)(originalDate, timezoneOffset);\n      var formatterOptions = {\n        firstWeekContainsDate,\n        weekStartsOn,\n        locale,\n        _originalDate: originalDate\n      };\n      var result = formatStr.match(longFormattingTokensRegExp).map(function(substring) {\n        var firstCharacter = substring[0];\n        if (firstCharacter === \"p\" || firstCharacter === \"P\") {\n          var longFormatter = _index6.default[firstCharacter];\n          return longFormatter(substring, locale.formatLong, formatterOptions);\n        }\n        return substring;\n      }).join(\"\").match(formattingTokensRegExp).map(function(substring) {\n        if (substring === \"''\") {\n          return \"'\";\n        }\n        var firstCharacter = substring[0];\n        if (firstCharacter === \"'\") {\n          return cleanEscapedString(substring);\n        }\n        var formatter = _index5.default[firstCharacter];\n        if (formatter) {\n          if (!options.useAdditionalWeekYearTokens && (0, _index8.isProtectedWeekYearToken)(substring)) {\n            (0, _index8.throwProtectedError)(substring, dirtyFormatStr, dirtyDate);\n          }\n          if (!options.useAdditionalDayOfYearTokens && (0, _index8.isProtectedDayOfYearToken)(substring)) {\n            (0, _index8.throwProtectedError)(substring, dirtyFormatStr, dirtyDate);\n          }\n          return formatter(utcDate, substring, locale.localize, formatterOptions);\n        }\n        if (firstCharacter.match(unescapedLatinCharacterRegExp)) {\n          throw new RangeError(\"Format string contains an unescaped latin alphabet character `\" + firstCharacter + \"`\");\n        }\n        return substring;\n      }).join(\"\");\n      return result;\n    }\n    function cleanEscapedString(input) {\n      return input.match(escapedStringRegExp)[1].replace(doubleQuoteRegExp, \"'\");\n    }\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/lodash.throttle/index.js\nvar require_lodash = __commonJS({\n  \"../../node_modules/lodash.throttle/index.js\"(exports, module) {\n    var FUNC_ERROR_TEXT = \"Expected a function\";\n    var NAN = 0 / 0;\n    var symbolTag = \"[object Symbol]\";\n    var reTrim = /^\\s+|\\s+$/g;\n    var reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n    var reIsBinary = /^0b[01]+$/i;\n    var reIsOctal = /^0o[0-7]+$/i;\n    var freeParseInt = parseInt;\n    var freeGlobal = typeof global == \"object\" && global && global.Object === Object && global;\n    var freeSelf = typeof self == \"object\" && self && self.Object === Object && self;\n    var root = freeGlobal || freeSelf || Function(\"return this\")();\n    var objectProto = Object.prototype;\n    var objectToString = objectProto.toString;\n    var nativeMax = Math.max;\n    var nativeMin = Math.min;\n    var now = function() {\n      return root.Date.now();\n    };\n    function debounce(func, wait, options) {\n      var lastArgs, lastThis, maxWait, result, timerId, lastCallTime, lastInvokeTime = 0, leading = false, maxing = false, trailing = true;\n      if (typeof func != \"function\") {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      wait = toNumber(wait) || 0;\n      if (isObject(options)) {\n        leading = !!options.leading;\n        maxing = \"maxWait\" in options;\n        maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n        trailing = \"trailing\" in options ? !!options.trailing : trailing;\n      }\n      function invokeFunc(time) {\n        var args = lastArgs, thisArg = lastThis;\n        lastArgs = lastThis = void 0;\n        lastInvokeTime = time;\n        result = func.apply(thisArg, args);\n        return result;\n      }\n      function leadingEdge(time) {\n        lastInvokeTime = time;\n        timerId = setTimeout(timerExpired, wait);\n        return leading ? invokeFunc(time) : result;\n      }\n      function remainingWait(time) {\n        var timeSinceLastCall = time - lastCallTime, timeSinceLastInvoke = time - lastInvokeTime, result2 = wait - timeSinceLastCall;\n        return maxing ? nativeMin(result2, maxWait - timeSinceLastInvoke) : result2;\n      }\n      function shouldInvoke(time) {\n        var timeSinceLastCall = time - lastCallTime, timeSinceLastInvoke = time - lastInvokeTime;\n        return lastCallTime === void 0 || timeSinceLastCall >= wait || timeSinceLastCall < 0 || maxing && timeSinceLastInvoke >= maxWait;\n      }\n      function timerExpired() {\n        var time = now();\n        if (shouldInvoke(time)) {\n          return trailingEdge(time);\n        }\n        timerId = setTimeout(timerExpired, remainingWait(time));\n      }\n      function trailingEdge(time) {\n        timerId = void 0;\n        if (trailing && lastArgs) {\n          return invokeFunc(time);\n        }\n        lastArgs = lastThis = void 0;\n        return result;\n      }\n      function cancel() {\n        if (timerId !== void 0) {\n          clearTimeout(timerId);\n        }\n        lastInvokeTime = 0;\n        lastArgs = lastCallTime = lastThis = timerId = void 0;\n      }\n      function flush() {\n        return timerId === void 0 ? result : trailingEdge(now());\n      }\n      function debounced() {\n        var time = now(), isInvoking = shouldInvoke(time);\n        lastArgs = arguments;\n        lastThis = this;\n        lastCallTime = time;\n        if (isInvoking) {\n          if (timerId === void 0) {\n            return leadingEdge(lastCallTime);\n          }\n          if (maxing) {\n            timerId = setTimeout(timerExpired, wait);\n            return invokeFunc(lastCallTime);\n          }\n        }\n        if (timerId === void 0) {\n          timerId = setTimeout(timerExpired, wait);\n        }\n        return result;\n      }\n      debounced.cancel = cancel;\n      debounced.flush = flush;\n      return debounced;\n    }\n    function throttle2(func, wait, options) {\n      var leading = true, trailing = true;\n      if (typeof func != \"function\") {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      if (isObject(options)) {\n        leading = \"leading\" in options ? !!options.leading : leading;\n        trailing = \"trailing\" in options ? !!options.trailing : trailing;\n      }\n      return debounce(func, wait, {\n        \"leading\": leading,\n        \"maxWait\": wait,\n        \"trailing\": trailing\n      });\n    }\n    function isObject(value) {\n      var type = typeof value;\n      return !!value && (type == \"object\" || type == \"function\");\n    }\n    function isObjectLike(value) {\n      return !!value && typeof value == \"object\";\n    }\n    function isSymbol(value) {\n      return typeof value == \"symbol\" || isObjectLike(value) && objectToString.call(value) == symbolTag;\n    }\n    function toNumber(value) {\n      if (typeof value == \"number\") {\n        return value;\n      }\n      if (isSymbol(value)) {\n        return NAN;\n      }\n      if (isObject(value)) {\n        var other = typeof value.valueOf == \"function\" ? value.valueOf() : value;\n        value = isObject(other) ? other + \"\" : other;\n      }\n      if (typeof value != \"string\") {\n        return value === 0 ? value : +value;\n      }\n      value = value.replace(reTrim, \"\");\n      var isBinary = reIsBinary.test(value);\n      return isBinary || reIsOctal.test(value) ? freeParseInt(value.slice(2), isBinary ? 2 : 8) : reIsBadHex.test(value) ? NAN : +value;\n    }\n    module.exports = throttle2;\n  }\n});\n\n// ../../node_modules/date-fns/getDate/index.js\nvar require_getDate = __commonJS({\n  \"../../node_modules/date-fns/getDate/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = getDate2;\n    var _index = _interopRequireDefault(require_toDate());\n    var _index2 = _interopRequireDefault(require_requiredArgs());\n    function _interopRequireDefault(obj) {\n      return obj && obj.__esModule ? obj : { default: obj };\n    }\n    function getDate2(dirtyDate) {\n      (0, _index2.default)(1, arguments);\n      var date = (0, _index.default)(dirtyDate);\n      var dayOfMonth = date.getDate();\n      return dayOfMonth;\n    }\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/getDay/index.js\nvar require_getDay = __commonJS({\n  \"../../node_modules/date-fns/getDay/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = getDay2;\n    var _index = _interopRequireDefault(require_toDate());\n    var _index2 = _interopRequireDefault(require_requiredArgs());\n    function _interopRequireDefault(obj) {\n      return obj && obj.__esModule ? obj : { default: obj };\n    }\n    function getDay2(dirtyDate) {\n      (0, _index2.default)(1, arguments);\n      var date = (0, _index.default)(dirtyDate);\n      var day = date.getDay();\n      return day;\n    }\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/getHours/index.js\nvar require_getHours = __commonJS({\n  \"../../node_modules/date-fns/getHours/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = getHours2;\n    var _index = _interopRequireDefault(require_toDate());\n    var _index2 = _interopRequireDefault(require_requiredArgs());\n    function _interopRequireDefault(obj) {\n      return obj && obj.__esModule ? obj : { default: obj };\n    }\n    function getHours2(dirtyDate) {\n      (0, _index2.default)(1, arguments);\n      var date = (0, _index.default)(dirtyDate);\n      var hours = date.getHours();\n      return hours;\n    }\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/getMinutes/index.js\nvar require_getMinutes = __commonJS({\n  \"../../node_modules/date-fns/getMinutes/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = getMinutes2;\n    var _index = _interopRequireDefault(require_toDate());\n    var _index2 = _interopRequireDefault(require_requiredArgs());\n    function _interopRequireDefault(obj) {\n      return obj && obj.__esModule ? obj : { default: obj };\n    }\n    function getMinutes2(dirtyDate) {\n      (0, _index2.default)(1, arguments);\n      var date = (0, _index.default)(dirtyDate);\n      var minutes = date.getMinutes();\n      return minutes;\n    }\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/getMonth/index.js\nvar require_getMonth = __commonJS({\n  \"../../node_modules/date-fns/getMonth/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = getMonth2;\n    var _index = _interopRequireDefault(require_toDate());\n    var _index2 = _interopRequireDefault(require_requiredArgs());\n    function _interopRequireDefault(obj) {\n      return obj && obj.__esModule ? obj : { default: obj };\n    }\n    function getMonth2(dirtyDate) {\n      (0, _index2.default)(1, arguments);\n      var date = (0, _index.default)(dirtyDate);\n      var month = date.getMonth();\n      return month;\n    }\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/getYear/index.js\nvar require_getYear = __commonJS({\n  \"../../node_modules/date-fns/getYear/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = getYear2;\n    var _index = _interopRequireDefault(require_toDate());\n    var _index2 = _interopRequireDefault(require_requiredArgs());\n    function _interopRequireDefault(obj) {\n      return obj && obj.__esModule ? obj : { default: obj };\n    }\n    function getYear2(dirtyDate) {\n      (0, _index2.default)(1, arguments);\n      return (0, _index.default)(dirtyDate).getFullYear();\n    }\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/addDays/index.js\nvar require_addDays = __commonJS({\n  \"../../node_modules/date-fns/addDays/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = addDays;\n    var _index = _interopRequireDefault(require_toInteger());\n    var _index2 = _interopRequireDefault(require_toDate());\n    var _index3 = _interopRequireDefault(require_requiredArgs());\n    function _interopRequireDefault(obj) {\n      return obj && obj.__esModule ? obj : { default: obj };\n    }\n    function addDays(dirtyDate, dirtyAmount) {\n      (0, _index3.default)(2, arguments);\n      var date = (0, _index2.default)(dirtyDate);\n      var amount = (0, _index.default)(dirtyAmount);\n      if (isNaN(amount)) {\n        return new Date(NaN);\n      }\n      if (!amount) {\n        return date;\n      }\n      date.setDate(date.getDate() + amount);\n      return date;\n    }\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/addMonths/index.js\nvar require_addMonths = __commonJS({\n  \"../../node_modules/date-fns/addMonths/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = addMonths;\n    var _index = _interopRequireDefault(require_toInteger());\n    var _index2 = _interopRequireDefault(require_toDate());\n    var _index3 = _interopRequireDefault(require_requiredArgs());\n    function _interopRequireDefault(obj) {\n      return obj && obj.__esModule ? obj : { default: obj };\n    }\n    function addMonths(dirtyDate, dirtyAmount) {\n      (0, _index3.default)(2, arguments);\n      var date = (0, _index2.default)(dirtyDate);\n      var amount = (0, _index.default)(dirtyAmount);\n      if (isNaN(amount)) {\n        return new Date(NaN);\n      }\n      if (!amount) {\n        return date;\n      }\n      var dayOfMonth = date.getDate();\n      var endOfDesiredMonth = new Date(date.getTime());\n      endOfDesiredMonth.setMonth(date.getMonth() + amount + 1, 0);\n      var daysInMonth = endOfDesiredMonth.getDate();\n      if (dayOfMonth >= daysInMonth) {\n        return endOfDesiredMonth;\n      } else {\n        date.setFullYear(endOfDesiredMonth.getFullYear(), endOfDesiredMonth.getMonth(), dayOfMonth);\n        return date;\n      }\n    }\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/add/index.js\nvar require_add = __commonJS({\n  \"../../node_modules/date-fns/add/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = add2;\n    var _index = _interopRequireDefault(require_addDays());\n    var _index2 = _interopRequireDefault(require_addMonths());\n    var _index3 = _interopRequireDefault(require_toDate());\n    var _index4 = _interopRequireDefault(require_requiredArgs());\n    var _index5 = _interopRequireDefault(require_toInteger());\n    function _interopRequireDefault(obj) {\n      return obj && obj.__esModule ? obj : { default: obj };\n    }\n    function add2(dirtyDate, duration) {\n      (0, _index4.default)(2, arguments);\n      if (!duration || typeof duration !== \"object\")\n        return new Date(NaN);\n      var years = duration.years ? (0, _index5.default)(duration.years) : 0;\n      var months = duration.months ? (0, _index5.default)(duration.months) : 0;\n      var weeks = duration.weeks ? (0, _index5.default)(duration.weeks) : 0;\n      var days = duration.days ? (0, _index5.default)(duration.days) : 0;\n      var hours = duration.hours ? (0, _index5.default)(duration.hours) : 0;\n      var minutes = duration.minutes ? (0, _index5.default)(duration.minutes) : 0;\n      var seconds = duration.seconds ? (0, _index5.default)(duration.seconds) : 0;\n      var date = (0, _index3.default)(dirtyDate);\n      var dateWithMonths = months || years ? (0, _index2.default)(date, months + years * 12) : date;\n      var dateWithDays = days || weeks ? (0, _index.default)(dateWithMonths, days + weeks * 7) : dateWithMonths;\n      var minutesToAdd = minutes + hours * 60;\n      var secondsToAdd = seconds + minutesToAdd * 60;\n      var msToAdd = secondsToAdd * 1e3;\n      var finalDate = new Date(dateWithDays.getTime() + msToAdd);\n      return finalDate;\n    }\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/subDays/index.js\nvar require_subDays = __commonJS({\n  \"../../node_modules/date-fns/subDays/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = subDays;\n    var _index = _interopRequireDefault(require_toInteger());\n    var _index2 = _interopRequireDefault(require_addDays());\n    var _index3 = _interopRequireDefault(require_requiredArgs());\n    function _interopRequireDefault(obj) {\n      return obj && obj.__esModule ? obj : { default: obj };\n    }\n    function subDays(dirtyDate, dirtyAmount) {\n      (0, _index3.default)(2, arguments);\n      var amount = (0, _index.default)(dirtyAmount);\n      return (0, _index2.default)(dirtyDate, -amount);\n    }\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/subMonths/index.js\nvar require_subMonths = __commonJS({\n  \"../../node_modules/date-fns/subMonths/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = subMonths;\n    var _index = _interopRequireDefault(require_toInteger());\n    var _index2 = _interopRequireDefault(require_addMonths());\n    var _index3 = _interopRequireDefault(require_requiredArgs());\n    function _interopRequireDefault(obj) {\n      return obj && obj.__esModule ? obj : { default: obj };\n    }\n    function subMonths(dirtyDate, dirtyAmount) {\n      (0, _index3.default)(2, arguments);\n      var amount = (0, _index.default)(dirtyAmount);\n      return (0, _index2.default)(dirtyDate, -amount);\n    }\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/sub/index.js\nvar require_sub = __commonJS({\n  \"../../node_modules/date-fns/sub/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = sub2;\n    var _index = _interopRequireDefault(require_subDays());\n    var _index2 = _interopRequireDefault(require_subMonths());\n    var _index3 = _interopRequireDefault(require_requiredArgs());\n    var _index4 = _interopRequireDefault(require_toInteger());\n    function _interopRequireDefault(obj) {\n      return obj && obj.__esModule ? obj : { default: obj };\n    }\n    function sub2(date, duration) {\n      (0, _index3.default)(2, arguments);\n      if (!duration || typeof duration !== \"object\")\n        return new Date(NaN);\n      var years = duration.years ? (0, _index4.default)(duration.years) : 0;\n      var months = duration.months ? (0, _index4.default)(duration.months) : 0;\n      var weeks = duration.weeks ? (0, _index4.default)(duration.weeks) : 0;\n      var days = duration.days ? (0, _index4.default)(duration.days) : 0;\n      var hours = duration.hours ? (0, _index4.default)(duration.hours) : 0;\n      var minutes = duration.minutes ? (0, _index4.default)(duration.minutes) : 0;\n      var seconds = duration.seconds ? (0, _index4.default)(duration.seconds) : 0;\n      var dateWithoutMonths = (0, _index2.default)(date, months + years * 12);\n      var dateWithoutDays = (0, _index.default)(dateWithoutMonths, days + weeks * 7);\n      var minutestoSub = minutes + hours * 60;\n      var secondstoSub = seconds + minutestoSub * 60;\n      var mstoSub = secondstoSub * 1e3;\n      var finalDate = new Date(dateWithoutDays.getTime() - mstoSub);\n      return finalDate;\n    }\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/compareAsc/index.js\nvar require_compareAsc = __commonJS({\n  \"../../node_modules/date-fns/compareAsc/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = compareAsc;\n    var _index = _interopRequireDefault(require_toDate());\n    var _index2 = _interopRequireDefault(require_requiredArgs());\n    function _interopRequireDefault(obj) {\n      return obj && obj.__esModule ? obj : { default: obj };\n    }\n    function compareAsc(dirtyDateLeft, dirtyDateRight) {\n      (0, _index2.default)(2, arguments);\n      var dateLeft = (0, _index.default)(dirtyDateLeft);\n      var dateRight = (0, _index.default)(dirtyDateRight);\n      var diff = dateLeft.getTime() - dateRight.getTime();\n      if (diff < 0) {\n        return -1;\n      } else if (diff > 0) {\n        return 1;\n      } else {\n        return diff;\n      }\n    }\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/differenceInCalendarYears/index.js\nvar require_differenceInCalendarYears = __commonJS({\n  \"../../node_modules/date-fns/differenceInCalendarYears/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = differenceInCalendarYears;\n    var _index = _interopRequireDefault(require_toDate());\n    var _index2 = _interopRequireDefault(require_requiredArgs());\n    function _interopRequireDefault(obj) {\n      return obj && obj.__esModule ? obj : { default: obj };\n    }\n    function differenceInCalendarYears(dirtyDateLeft, dirtyDateRight) {\n      (0, _index2.default)(2, arguments);\n      var dateLeft = (0, _index.default)(dirtyDateLeft);\n      var dateRight = (0, _index.default)(dirtyDateRight);\n      return dateLeft.getFullYear() - dateRight.getFullYear();\n    }\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/differenceInYears/index.js\nvar require_differenceInYears = __commonJS({\n  \"../../node_modules/date-fns/differenceInYears/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = differenceInYears;\n    var _index = _interopRequireDefault(require_toDate());\n    var _index2 = _interopRequireDefault(require_differenceInCalendarYears());\n    var _index3 = _interopRequireDefault(require_compareAsc());\n    var _index4 = _interopRequireDefault(require_requiredArgs());\n    function _interopRequireDefault(obj) {\n      return obj && obj.__esModule ? obj : { default: obj };\n    }\n    function differenceInYears(dirtyDateLeft, dirtyDateRight) {\n      (0, _index4.default)(2, arguments);\n      var dateLeft = (0, _index.default)(dirtyDateLeft);\n      var dateRight = (0, _index.default)(dirtyDateRight);\n      var sign = (0, _index3.default)(dateLeft, dateRight);\n      var difference = Math.abs((0, _index2.default)(dateLeft, dateRight));\n      dateLeft.setFullYear(1584);\n      dateRight.setFullYear(1584);\n      var isLastYearNotFull = (0, _index3.default)(dateLeft, dateRight) === -sign;\n      var result = sign * (difference - Number(isLastYearNotFull));\n      return result === 0 ? 0 : result;\n    }\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/differenceInCalendarMonths/index.js\nvar require_differenceInCalendarMonths = __commonJS({\n  \"../../node_modules/date-fns/differenceInCalendarMonths/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = differenceInCalendarMonths;\n    var _index = _interopRequireDefault(require_toDate());\n    var _index2 = _interopRequireDefault(require_requiredArgs());\n    function _interopRequireDefault(obj) {\n      return obj && obj.__esModule ? obj : { default: obj };\n    }\n    function differenceInCalendarMonths(dirtyDateLeft, dirtyDateRight) {\n      (0, _index2.default)(2, arguments);\n      var dateLeft = (0, _index.default)(dirtyDateLeft);\n      var dateRight = (0, _index.default)(dirtyDateRight);\n      var yearDiff = dateLeft.getFullYear() - dateRight.getFullYear();\n      var monthDiff = dateLeft.getMonth() - dateRight.getMonth();\n      return yearDiff * 12 + monthDiff;\n    }\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/endOfDay/index.js\nvar require_endOfDay = __commonJS({\n  \"../../node_modules/date-fns/endOfDay/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = endOfDay;\n    var _index = _interopRequireDefault(require_toDate());\n    var _index2 = _interopRequireDefault(require_requiredArgs());\n    function _interopRequireDefault(obj) {\n      return obj && obj.__esModule ? obj : { default: obj };\n    }\n    function endOfDay(dirtyDate) {\n      (0, _index2.default)(1, arguments);\n      var date = (0, _index.default)(dirtyDate);\n      date.setHours(23, 59, 59, 999);\n      return date;\n    }\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/endOfMonth/index.js\nvar require_endOfMonth = __commonJS({\n  \"../../node_modules/date-fns/endOfMonth/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = endOfMonth;\n    var _index = _interopRequireDefault(require_toDate());\n    var _index2 = _interopRequireDefault(require_requiredArgs());\n    function _interopRequireDefault(obj) {\n      return obj && obj.__esModule ? obj : { default: obj };\n    }\n    function endOfMonth(dirtyDate) {\n      (0, _index2.default)(1, arguments);\n      var date = (0, _index.default)(dirtyDate);\n      var month = date.getMonth();\n      date.setFullYear(date.getFullYear(), month + 1, 0);\n      date.setHours(23, 59, 59, 999);\n      return date;\n    }\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/isLastDayOfMonth/index.js\nvar require_isLastDayOfMonth = __commonJS({\n  \"../../node_modules/date-fns/isLastDayOfMonth/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = isLastDayOfMonth;\n    var _index = _interopRequireDefault(require_toDate());\n    var _index2 = _interopRequireDefault(require_endOfDay());\n    var _index3 = _interopRequireDefault(require_endOfMonth());\n    var _index4 = _interopRequireDefault(require_requiredArgs());\n    function _interopRequireDefault(obj) {\n      return obj && obj.__esModule ? obj : { default: obj };\n    }\n    function isLastDayOfMonth(dirtyDate) {\n      (0, _index4.default)(1, arguments);\n      var date = (0, _index.default)(dirtyDate);\n      return (0, _index2.default)(date).getTime() === (0, _index3.default)(date).getTime();\n    }\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/differenceInMonths/index.js\nvar require_differenceInMonths = __commonJS({\n  \"../../node_modules/date-fns/differenceInMonths/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = differenceInMonths;\n    var _index = _interopRequireDefault(require_toDate());\n    var _index2 = _interopRequireDefault(require_differenceInCalendarMonths());\n    var _index3 = _interopRequireDefault(require_compareAsc());\n    var _index4 = _interopRequireDefault(require_requiredArgs());\n    var _index5 = _interopRequireDefault(require_isLastDayOfMonth());\n    function _interopRequireDefault(obj) {\n      return obj && obj.__esModule ? obj : { default: obj };\n    }\n    function differenceInMonths(dirtyDateLeft, dirtyDateRight) {\n      (0, _index4.default)(2, arguments);\n      var dateLeft = (0, _index.default)(dirtyDateLeft);\n      var dateRight = (0, _index.default)(dirtyDateRight);\n      var sign = (0, _index3.default)(dateLeft, dateRight);\n      var difference = Math.abs((0, _index2.default)(dateLeft, dateRight));\n      var result;\n      if (difference < 1) {\n        result = 0;\n      } else {\n        if (dateLeft.getMonth() === 1 && dateLeft.getDate() > 27) {\n          dateLeft.setDate(30);\n        }\n        dateLeft.setMonth(dateLeft.getMonth() - sign * difference);\n        var isLastMonthNotFull = (0, _index3.default)(dateLeft, dateRight) === -sign;\n        if ((0, _index5.default)((0, _index.default)(dirtyDateLeft)) && difference === 1 && (0, _index3.default)(dirtyDateLeft, dateRight) === 1) {\n          isLastMonthNotFull = false;\n        }\n        result = sign * (difference - Number(isLastMonthNotFull));\n      }\n      return result === 0 ? 0 : result;\n    }\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/startOfDay/index.js\nvar require_startOfDay = __commonJS({\n  \"../../node_modules/date-fns/startOfDay/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = startOfDay;\n    var _index = _interopRequireDefault(require_toDate());\n    var _index2 = _interopRequireDefault(require_requiredArgs());\n    function _interopRequireDefault(obj) {\n      return obj && obj.__esModule ? obj : { default: obj };\n    }\n    function startOfDay(dirtyDate) {\n      (0, _index2.default)(1, arguments);\n      var date = (0, _index.default)(dirtyDate);\n      date.setHours(0, 0, 0, 0);\n      return date;\n    }\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/differenceInCalendarDays/index.js\nvar require_differenceInCalendarDays = __commonJS({\n  \"../../node_modules/date-fns/differenceInCalendarDays/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = differenceInCalendarDays;\n    var _index = _interopRequireDefault(require_getTimezoneOffsetInMilliseconds());\n    var _index2 = _interopRequireDefault(require_startOfDay());\n    var _index3 = _interopRequireDefault(require_requiredArgs());\n    function _interopRequireDefault(obj) {\n      return obj && obj.__esModule ? obj : { default: obj };\n    }\n    var MILLISECONDS_IN_DAY = 864e5;\n    function differenceInCalendarDays(dirtyDateLeft, dirtyDateRight) {\n      (0, _index3.default)(2, arguments);\n      var startOfDayLeft = (0, _index2.default)(dirtyDateLeft);\n      var startOfDayRight = (0, _index2.default)(dirtyDateRight);\n      var timestampLeft = startOfDayLeft.getTime() - (0, _index.default)(startOfDayLeft);\n      var timestampRight = startOfDayRight.getTime() - (0, _index.default)(startOfDayRight);\n      return Math.round((timestampLeft - timestampRight) / MILLISECONDS_IN_DAY);\n    }\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/differenceInDays/index.js\nvar require_differenceInDays = __commonJS({\n  \"../../node_modules/date-fns/differenceInDays/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = differenceInDays;\n    var _index = _interopRequireDefault(require_toDate());\n    var _index2 = _interopRequireDefault(require_differenceInCalendarDays());\n    var _index3 = _interopRequireDefault(require_requiredArgs());\n    function _interopRequireDefault(obj) {\n      return obj && obj.__esModule ? obj : { default: obj };\n    }\n    function compareLocalAsc(dateLeft, dateRight) {\n      var diff = dateLeft.getFullYear() - dateRight.getFullYear() || dateLeft.getMonth() - dateRight.getMonth() || dateLeft.getDate() - dateRight.getDate() || dateLeft.getHours() - dateRight.getHours() || dateLeft.getMinutes() - dateRight.getMinutes() || dateLeft.getSeconds() - dateRight.getSeconds() || dateLeft.getMilliseconds() - dateRight.getMilliseconds();\n      if (diff < 0) {\n        return -1;\n      } else if (diff > 0) {\n        return 1;\n      } else {\n        return diff;\n      }\n    }\n    function differenceInDays(dirtyDateLeft, dirtyDateRight) {\n      (0, _index3.default)(2, arguments);\n      var dateLeft = (0, _index.default)(dirtyDateLeft);\n      var dateRight = (0, _index.default)(dirtyDateRight);\n      var sign = compareLocalAsc(dateLeft, dateRight);\n      var difference = Math.abs((0, _index2.default)(dateLeft, dateRight));\n      dateLeft.setDate(dateLeft.getDate() - sign * difference);\n      var isLastDayNotFull = Number(compareLocalAsc(dateLeft, dateRight) === -sign);\n      var result = sign * (difference - isLastDayNotFull);\n      return result === 0 ? 0 : result;\n    }\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/constants/index.js\nvar require_constants = __commonJS({\n  \"../../node_modules/date-fns/constants/index.js\"(exports) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.secondsInMinute = exports.secondsInHour = exports.quartersInYear = exports.monthsInYear = exports.monthsInQuarter = exports.minutesInHour = exports.minTime = exports.millisecondsInSecond = exports.millisecondsInHour = exports.millisecondsInMinute = exports.maxTime = exports.daysInWeek = void 0;\n    var daysInWeek = 7;\n    exports.daysInWeek = daysInWeek;\n    var maxTime = Math.pow(10, 8) * 24 * 60 * 60 * 1e3;\n    exports.maxTime = maxTime;\n    var millisecondsInMinute = 6e4;\n    exports.millisecondsInMinute = millisecondsInMinute;\n    var millisecondsInHour = 36e5;\n    exports.millisecondsInHour = millisecondsInHour;\n    var millisecondsInSecond = 1e3;\n    exports.millisecondsInSecond = millisecondsInSecond;\n    var minTime = -maxTime;\n    exports.minTime = minTime;\n    var minutesInHour = 60;\n    exports.minutesInHour = minutesInHour;\n    var monthsInQuarter = 3;\n    exports.monthsInQuarter = monthsInQuarter;\n    var monthsInYear = 12;\n    exports.monthsInYear = monthsInYear;\n    var quartersInYear = 4;\n    exports.quartersInYear = quartersInYear;\n    var secondsInHour = 3600;\n    exports.secondsInHour = secondsInHour;\n    var secondsInMinute = 60;\n    exports.secondsInMinute = secondsInMinute;\n  }\n});\n\n// ../../node_modules/date-fns/differenceInMilliseconds/index.js\nvar require_differenceInMilliseconds = __commonJS({\n  \"../../node_modules/date-fns/differenceInMilliseconds/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = differenceInMilliseconds;\n    var _index = _interopRequireDefault(require_toDate());\n    var _index2 = _interopRequireDefault(require_requiredArgs());\n    function _interopRequireDefault(obj) {\n      return obj && obj.__esModule ? obj : { default: obj };\n    }\n    function differenceInMilliseconds(dateLeft, dateRight) {\n      (0, _index2.default)(2, arguments);\n      return (0, _index.default)(dateLeft).getTime() - (0, _index.default)(dateRight).getTime();\n    }\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/_lib/roundingMethods/index.js\nvar require_roundingMethods = __commonJS({\n  \"../../node_modules/date-fns/_lib/roundingMethods/index.js\"(exports) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.getRoundingMethod = getRoundingMethod;\n    var roundingMap = {\n      ceil: Math.ceil,\n      round: Math.round,\n      floor: Math.floor,\n      trunc: function(value) {\n        return value < 0 ? Math.ceil(value) : Math.floor(value);\n      }\n    };\n    var defaultRoundingMethod = \"trunc\";\n    function getRoundingMethod(method) {\n      return method ? roundingMap[method] : roundingMap[defaultRoundingMethod];\n    }\n  }\n});\n\n// ../../node_modules/date-fns/differenceInHours/index.js\nvar require_differenceInHours = __commonJS({\n  \"../../node_modules/date-fns/differenceInHours/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = differenceInHours;\n    var _index = require_constants();\n    var _index2 = _interopRequireDefault(require_differenceInMilliseconds());\n    var _index3 = _interopRequireDefault(require_requiredArgs());\n    var _index4 = require_roundingMethods();\n    function _interopRequireDefault(obj) {\n      return obj && obj.__esModule ? obj : { default: obj };\n    }\n    function differenceInHours(dateLeft, dateRight, options) {\n      (0, _index3.default)(2, arguments);\n      var diff = (0, _index2.default)(dateLeft, dateRight) / _index.millisecondsInHour;\n      return (0, _index4.getRoundingMethod)(options === null || options === void 0 ? void 0 : options.roundingMethod)(diff);\n    }\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/differenceInMinutes/index.js\nvar require_differenceInMinutes = __commonJS({\n  \"../../node_modules/date-fns/differenceInMinutes/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = differenceInMinutes;\n    var _index = require_constants();\n    var _index2 = _interopRequireDefault(require_differenceInMilliseconds());\n    var _index3 = _interopRequireDefault(require_requiredArgs());\n    var _index4 = require_roundingMethods();\n    function _interopRequireDefault(obj) {\n      return obj && obj.__esModule ? obj : { default: obj };\n    }\n    function differenceInMinutes(dateLeft, dateRight, options) {\n      (0, _index3.default)(2, arguments);\n      var diff = (0, _index2.default)(dateLeft, dateRight) / _index.millisecondsInMinute;\n      return (0, _index4.getRoundingMethod)(options === null || options === void 0 ? void 0 : options.roundingMethod)(diff);\n    }\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/differenceInSeconds/index.js\nvar require_differenceInSeconds = __commonJS({\n  \"../../node_modules/date-fns/differenceInSeconds/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = differenceInSeconds;\n    var _index = _interopRequireDefault(require_differenceInMilliseconds());\n    var _index2 = _interopRequireDefault(require_requiredArgs());\n    var _index3 = require_roundingMethods();\n    function _interopRequireDefault(obj) {\n      return obj && obj.__esModule ? obj : { default: obj };\n    }\n    function differenceInSeconds(dateLeft, dateRight, options) {\n      (0, _index2.default)(2, arguments);\n      var diff = (0, _index.default)(dateLeft, dateRight) / 1e3;\n      return (0, _index3.getRoundingMethod)(options === null || options === void 0 ? void 0 : options.roundingMethod)(diff);\n    }\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/intervalToDuration/index.js\nvar require_intervalToDuration = __commonJS({\n  \"../../node_modules/date-fns/intervalToDuration/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = intervalToDuration2;\n    var _index = _interopRequireDefault(require_compareAsc());\n    var _index2 = _interopRequireDefault(require_differenceInYears());\n    var _index3 = _interopRequireDefault(require_differenceInMonths());\n    var _index4 = _interopRequireDefault(require_differenceInDays());\n    var _index5 = _interopRequireDefault(require_differenceInHours());\n    var _index6 = _interopRequireDefault(require_differenceInMinutes());\n    var _index7 = _interopRequireDefault(require_differenceInSeconds());\n    var _index8 = _interopRequireDefault(require_isValid());\n    var _index9 = _interopRequireDefault(require_requiredArgs());\n    var _index10 = _interopRequireDefault(require_toDate());\n    var _index11 = _interopRequireDefault(require_sub());\n    function _interopRequireDefault(obj) {\n      return obj && obj.__esModule ? obj : { default: obj };\n    }\n    function intervalToDuration2(_ref) {\n      var start = _ref.start, end = _ref.end;\n      (0, _index9.default)(1, arguments);\n      var dateLeft = (0, _index10.default)(start);\n      var dateRight = (0, _index10.default)(end);\n      if (!(0, _index8.default)(dateLeft)) {\n        throw new RangeError(\"Start Date is invalid\");\n      }\n      if (!(0, _index8.default)(dateRight)) {\n        throw new RangeError(\"End Date is invalid\");\n      }\n      var duration = {\n        years: 0,\n        months: 0,\n        days: 0,\n        hours: 0,\n        minutes: 0,\n        seconds: 0\n      };\n      var sign = (0, _index.default)(dateLeft, dateRight);\n      duration.years = Math.abs((0, _index2.default)(dateLeft, dateRight));\n      var remainingMonths = (0, _index11.default)(dateLeft, {\n        years: sign * duration.years\n      });\n      duration.months = Math.abs((0, _index3.default)(remainingMonths, dateRight));\n      var remainingDays = (0, _index11.default)(remainingMonths, {\n        months: sign * duration.months\n      });\n      duration.days = Math.abs((0, _index4.default)(remainingDays, dateRight));\n      var remainingHours = (0, _index11.default)(remainingDays, {\n        days: sign * duration.days\n      });\n      duration.hours = Math.abs((0, _index5.default)(remainingHours, dateRight));\n      var remainingMinutes = (0, _index11.default)(remainingHours, {\n        hours: sign * duration.hours\n      });\n      duration.minutes = Math.abs((0, _index6.default)(remainingMinutes, dateRight));\n      var remainingSeconds = (0, _index11.default)(remainingMinutes, {\n        minutes: sign * duration.minutes\n      });\n      duration.seconds = Math.abs((0, _index7.default)(remainingSeconds, dateRight));\n      return duration;\n    }\n    module.exports = exports.default;\n  }\n});\n\n// src/third-party/collection.tsx\n\n\n\n\n\n// src/third-party/collection-row.tsx\n\n\n// src/third-party/collection-column-title.tsx\n\n\n// src/icons/type-title.tsx\n\nfunction SvgTypeTitle(props) {\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", __spreadValues({\n    viewBox: \"0 0 14 14\"\n  }, props), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n    d: \"M7.74 8.697a.81.81 0 01.073.308.894.894 0 01-.9.888.867.867 0 01-.825-.592l-.333-.961H2.058l-.333.961a.882.882 0 01-.838.592A.884.884 0 010 9.005c0-.11.025-.222.062-.308l2.403-6.211c.222-.58.776-.986 1.442-.986.653 0 1.22.407 1.442.986l2.39 6.211zM2.6 6.824h2.613L3.907 3.102 2.6 6.824zm8.8-3.118c1.355 0 2.6.542 2.6 2.255V9.08a.8.8 0 01-.789.814.797.797 0 01-.788-.703c-.395.468-1.097.764-1.874.764-.949 0-2.07-.64-2.07-1.972 0-1.392 1.121-1.897 2.07-1.897.789 0 1.491.246 1.886.727v-.826c0-.604-.518-.998-1.306-.998-.469 0-.888.123-1.32.394a.64.64 0 01-.307.086.602.602 0 01-.592-.604c0-.221.123-.419.284-.517a3.963 3.963 0 012.206-.641zm-.222 5.188c.505 0 .998-.172 1.257-.517v-.74c-.259-.345-.752-.517-1.257-.517-.616 0-1.122.332-1.122.9 0 .554.506.874 1.122.874zM.656 11.125h12.688a.656.656 0 110 1.313H.656a.656.656 0 110-1.313z\"\n  }));\n}\nvar type_title_default = SvgTypeTitle;\n\n// src/icons/type-text.tsx\n\nfunction SvgTypeText(props) {\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", __spreadValues({\n    viewBox: \"0 0 14 14\"\n  }, props), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n    d: \"M7 4.568a.5.5 0 00-.5-.5h-6a.5.5 0 00-.5.5v1.046a.5.5 0 00.5.5h6a.5.5 0 00.5-.5V4.568zM.5 1a.5.5 0 00-.5.5v1.045a.5.5 0 00.5.5h12a.5.5 0 00.5-.5V1.5a.5.5 0 00-.5-.5H.5zM0 8.682a.5.5 0 00.5.5h11a.5.5 0 00.5-.5V7.636a.5.5 0 00-.5-.5H.5a.5.5 0 00-.5.5v1.046zm0 3.068a.5.5 0 00.5.5h9a.5.5 0 00.5-.5v-1.045a.5.5 0 00-.5-.5h-9a.5.5 0 00-.5.5v1.045z\"\n  }));\n}\nvar type_text_default = SvgTypeText;\n\n// src/icons/type-number.tsx\n\nfunction SvgTypeNumber(props) {\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", __spreadValues({\n    viewBox: \"0 0 14 14\"\n  }, props), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n    d: \"M4.462 0c-.595 0-1.078.482-1.078 1.078v2.306H1.078a1.078 1.078 0 100 2.155h2.306v2.922H1.078a1.078 1.078 0 100 2.155h2.306v2.306a1.078 1.078 0 002.155 0v-2.306H8.46v2.306a1.078 1.078 0 002.156 0v-2.306h2.306a1.078 1.078 0 100-2.155h-2.306V5.539h2.306a1.078 1.078 0 100-2.155h-2.306V1.078a1.078 1.078 0 00-2.156 0v2.306H5.54V1.078C5.54.482 5.056 0 4.461 0zm1.077 8.46V5.54H8.46v2.92H5.54z\"\n  }));\n}\nvar type_number_default = SvgTypeNumber;\n\n// src/icons/type-select.tsx\n\nfunction SvgTypeSelect(props) {\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", __spreadValues({\n    viewBox: \"0 0 14 14\"\n  }, props), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n    d: \"M7 13A6 6 0 107 1a6 6 0 000 12zM3.751 5.323A.2.2 0 013.909 5h6.182a.2.2 0 01.158.323L7.158 9.297a.2.2 0 01-.316 0L3.751 5.323z\"\n  }));\n}\nvar type_select_default = SvgTypeSelect;\n\n// src/icons/type-multi-select.tsx\n\nfunction SvgTypeMultiSelect(props) {\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", __spreadValues({\n    viewBox: \"0 0 14 14\"\n  }, props), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n    d: \"M4 3a1 1 0 011-1h7a1 1 0 110 2H5a1 1 0 01-1-1zm0 4a1 1 0 011-1h7a1 1 0 110 2H5a1 1 0 01-1-1zm0 4a1 1 0 011-1h7a1 1 0 110 2H5a1 1 0 01-1-1zM2 4a1 1 0 110-2 1 1 0 010 2zm0 4a1 1 0 110-2 1 1 0 010 2zm0 4a1 1 0 110-2 1 1 0 010 2z\"\n  }));\n}\nvar type_multi_select_default = SvgTypeMultiSelect;\n\n// src/icons/type-date.tsx\n\nfunction SvgTypeDate(props) {\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", __spreadValues({\n    viewBox: \"0 0 14 14\"\n  }, props), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n    d: \"M10.889 5.5H3.11v1.556h7.778V5.5zm1.555-4.444h-.777V0H10.11v1.056H3.89V0H2.333v1.056h-.777c-.864 0-1.548.7-1.548 1.555L0 12.5c0 .856.692 1.5 1.556 1.5h10.888C13.3 14 14 13.356 14 12.5V2.611c0-.855-.7-1.555-1.556-1.555zm0 11.444H1.556V3.944h10.888V12.5zM8.556 8.611H3.11v1.556h5.445V8.61z\"\n  }));\n}\nvar type_date_default = SvgTypeDate;\n\n// src/icons/type-person.tsx\n\nfunction SvgTypePerson(props) {\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", __spreadValues({\n    viewBox: \"0 0 14 14\"\n  }, props), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n    d: \"M9.625 10.847C8.912 10.289 8.121 9.926 7 9.26v-.54a3.33 3.33 0 00.538-.888c.408-.1.774-.498.774-.832 0-.482-.202-.673-.44-.829 0-.015.003-.03.003-.046 0-.711-.438-2.625-2.625-2.625-2.188 0-2.625 1.915-2.625 2.625 0 .017.003.03.003.046-.238.156-.44.347-.44.829 0 .334.366.731.774.833.146.343.326.643.538.886v.541c-1.12.665-1.912 1.028-2.625 1.587C.041 11.498 0 12.469 0 14h10.5c0-1.531-.041-2.502-.875-3.153zm3.5-3.5c-.713-.558-1.504-.921-2.625-1.587v-.54c.212-.244.392-.544.538-.888.408-.1.774-.498.774-.832 0-.482-.202-.673-.44-.829 0-.015.003-.03.003-.046C11.375 1.914 10.937 0 8.75 0 6.562 0 6.125 1.915 6.125 2.625c0 .017.003.03.003.046-.016.012-.03.025-.047.036 1.751.359 2.516 1.841 2.647 3.04.248.262.46.65.46 1.253 0 .603-.417 1.203-1.004 1.515-.057.109-.117.214-.181.315l.437.245c.64.357 1.194.666 1.724 1.081.138.108.256.224.365.343H14c0-1.53-.041-2.5-.875-3.153z\"\n  }));\n}\nvar type_person_default = SvgTypePerson;\n\n// src/icons/type-file.tsx\n\nfunction SvgTypeFile(props) {\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", __spreadValues({\n    viewBox: \"0 0 14 14\"\n  }, props), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n    d: \"M5.946 14a4.975 4.975 0 01-3.497-1.415A4.731 4.731 0 011 9.174c0-1.288.515-2.5 1.449-3.41L7.456.986c1.345-1.313 3.722-1.318 5.08.007a3.453 3.453 0 010 4.961L8.03 10.241c-.867.847-2.293.848-3.17-.006a2.158 2.158 0 010-3.102l1.744-1.701 1.272 1.24-1.744 1.701a.43.43 0 000 .621c.23.223.405.223.636 0l4.503-4.288a1.723 1.723 0 00-.007-2.473c-.68-.663-1.864-.663-2.543 0L3.713 7.011a3.006 3.006 0 00-.915 2.163c0 .82.328 1.591.922 2.17 1.19 1.162 3.262 1.162 4.451 0l2.248-2.192 1.272 1.24-2.248 2.193A4.978 4.978 0 015.946 14z\"\n  }));\n}\nvar type_file_default = SvgTypeFile;\n\n// src/icons/type-checkbox.tsx\n\nfunction SvgTypeCheckbox(props) {\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", __spreadValues({\n    viewBox: \"0 0 14 14\"\n  }, props), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n    d: \"M0 3a3 3 0 013-3h8a3 3 0 013 3v8a3 3 0 01-3 3H3a3 3 0 01-3-3V3zm3-1.5A1.5 1.5 0 001.5 3v8A1.5 1.5 0 003 12.5h8a1.5 1.5 0 001.5-1.5V3A1.5 1.5 0 0011 1.5H3zm-.167 5.316l.566-.542.177-.17.347-.332.346.334.176.17 1.139 1.098 3.699-3.563.177-.17.347-.335.347.334.177.17.563.543.177.171.372.36-.372.36-.177.17-4.786 4.615-.177.171-.347.334-.347-.334-.177-.17-2.23-2.15-.177-.172-.375-.361.376-.36.179-.17z\"\n  }));\n}\nvar type_checkbox_default = SvgTypeCheckbox;\n\n// src/icons/type-url.tsx\n\nfunction SvgTypeUrl(props) {\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", __spreadValues({\n    viewBox: \"0 0 14 14\"\n  }, props), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n    d: \"M3.733 3.867h3.734c1.03 0 1.866.837 1.866 1.866 0 1.03-.837 1.867-1.866 1.867h-.934a.934.934 0 000 1.867h.934a3.734 3.734 0 000-7.467H3.733A3.73 3.73 0 001.89 8.977a4.637 4.637 0 01.314-2.18 1.854 1.854 0 01-.336-1.064c0-1.03.837-1.866 1.866-1.866zm8.377 1.422a4.6 4.6 0 01-.316 2.176c.212.303.34.67.34 1.068 0 1.03-.838 1.867-1.867 1.867H6.533a1.869 1.869 0 01-1.866-1.867c0-1.03.837-1.866 1.866-1.866h.934a.934.934 0 000-1.867h-.934a3.733 3.733 0 000 7.467h3.734a3.73 3.73 0 001.843-6.978z\"\n  }));\n}\nvar type_url_default = SvgTypeUrl;\n\n// src/icons/type-email.tsx\n\nfunction SvgTypeEmail(props) {\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", __spreadValues({\n    viewBox: \"0 0 14 14\"\n  }, props), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n    d: \"M14 6.225c0 .822-.133 1.574-.4 2.256-.267.683-.644 1.218-1.13 1.606-.488.388-.946.6-1.494.6-.429 0-.808-.102-1.139-.305a1.753 1.753 0 01-.713-.8c-.613.736-1.563 1.104-2.531 1.104-1.027 0-1.835-.304-2.427-.912-.591-.608-.887-1.44-.887-2.496 0-1.204.389-2.175 1.166-2.911.776-.736 1.791-1.105 3.044-1.105.498 0 2.032.212 2.252.268.51.13.86.593.835 1.112l-.156 3.287c0 .794.22 1.19.66 1.19.372 0 .668-.267.888-.8.22-.534.33-1.232.33-2.094 0-.919-.194-1.731-.582-2.436a3.924 3.924 0 00-1.64-1.614c-.704-.371-1.509-.557-2.413-.557-1.172 0-2.19.237-3.053.711a4.785 4.785 0 00-1.988 2.05c-.46.894-.691 1.926-.691 3.096 0 1.576.428 2.784 1.283 3.627.855.841 2.094 1.262 3.718 1.262.615 0 1.29-.067 2.027-.2.225-.042.518-.108.877-.2a.863.863 0 011.025.527.76.76 0 01-.502.993c-1.052.316-2.17.488-3.357.516-2.204 0-3.922-.57-5.154-1.713C.616 11.146 0 9.56 0 7.527c0-1.41.315-2.69.944-3.84A6.792 6.792 0 013.63.98C4.794.327 6.131 0 7.645 0c1.276 0 2.514.29 3.418.77.905.481 1.574 1.228 2.12 2.176.544.947.817 2.04.817 3.28zm-8.615 1.01c0 1.208.488 1.811 1.466 1.811.511 0 .9-.181 1.168-.545.267-.363.429-.954.486-1.772l.11-1.896a4.638 4.638 0 00-.98-.095c-.71 0-1.263.224-1.658.67-.395.446-.592 1.055-.592 1.828z\"\n  }));\n}\nvar type_email_default = SvgTypeEmail;\n\n// src/icons/type-phone-number.tsx\n\nfunction SvgTypePhoneNumber(props) {\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", __spreadValues({\n    viewBox: \"0 0 14 14\"\n  }, props), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n    d: \"M2.207.013a.487.487 0 00-.29.02C.87.438.213 1.93.058 2.955c-.484 3.33 2.15 6.215 4.57 8.113 2.149 1.684 6.273 4.453 8.713 1.781.31-.329.678-.813.658-1.297-.058-.813-.813-1.394-1.394-1.84-.445-.329-1.375-1.239-1.956-1.22-.522.02-.851.562-1.18.891l-.582.581c-.096.097-1.336-.716-1.471-.813a9.881 9.881 0 01-1.414-1.104A9.13 9.13 0 014.86 6.732c-.097-.136-.89-1.317-.813-1.414 0 0 .677-.736.871-1.026.407-.62.717-1.104.252-1.84-.174-.27-.387-.484-.62-.716-.406-.387-.813-.794-1.278-1.123-.251-.194-.677-.542-1.065-.6z\"\n  }));\n}\nvar type_phone_number_default = SvgTypePhoneNumber;\n\n// src/icons/type-formula.tsx\n\nfunction SvgTypeFormula(props) {\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", __spreadValues({\n    viewBox: \"0 0 14 14\"\n  }, props), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n    d: \"M7.779 7.063l-3.157 4.224a.49.49 0 00-.072.218.35.35 0 00.346.357h6.242c.476 0 .862.398.862.889v.36c0 .491-.386.889-.862.889H1.862A.876.876 0 011 13.111v-.425a.82.82 0 01.177-.54L4.393 7.8a1.367 1.367 0 00-.006-1.625L1.4 2.194a.822.822 0 01-.18-.544V.89C1.22.398 1.604 0 2.08 0h8.838c.476 0 .861.398.861.889v.36c0 .491-.385.89-.86.89H5.135c-.19 0-.345.159-.345.356a.489.489 0 00.07.216l2.92 3.975c.049.062.063.107.06.188a.246.246 0 01-.062.189z\"\n  }));\n}\nvar type_formula_default = SvgTypeFormula;\n\n// src/icons/type-relation.tsx\n\nfunction SvgTypeRelation(props) {\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", __spreadValues({\n    viewBox: \"0 0 14 14\"\n  }, props), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n    d: \"M4.5 1v2h5.086L1 11.586 2.414 13 11 4.414V9.5h2V1z\"\n  }));\n}\nvar type_relation_default = SvgTypeRelation;\n\n// src/icons/type-person-2.tsx\n\nfunction SvgTypePerson2(props) {\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", __spreadValues({\n    viewBox: \"0 0 14 14\"\n  }, props), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n    d: \"M13.125 10.035c-.571-.55-2.324-1.504-3.5-2.16v-.834c.224-.322.42-.671.566-1.055.394-.242.746-.702.746-1.173 0-.458-.005-.87-.47-1.208C10.305 1.558 9.436 0 7 0S3.695 1.558 3.533 3.605c-.465.338-.47.75-.47 1.208 0 .471.352.93.746 1.173.146.384.342.733.566 1.055v.834c-1.176.656-2.929 1.61-3.5 2.16C.165 10.72 0 11.812 0 14h14c0-2.188-.164-3.281-.875-3.965z\"\n  }));\n}\nvar type_person_2_default = SvgTypePerson2;\n\n// src/icons/type-timestamp.tsx\n\nfunction SvgTypeTimestamp(props) {\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", __spreadValues({\n    viewBox: \"0 0 14 14\"\n  }, props), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n    d: \"M6.986 14c-1.79 0-3.582-.69-4.944-2.068-2.723-2.72-2.723-7.172 0-9.892 2.725-2.72 7.182-2.72 9.906 0A6.972 6.972 0 0114 6.996c0 1.88-.728 3.633-2.052 4.955A7.058 7.058 0 016.986 14zm3.285-6.99v1.645H5.526v-5.47h1.841v3.63h2.904v.194zm1.89-.014c0-1.379-.542-2.67-1.522-3.648-2.006-2.005-5.287-2.007-7.297-.009l-.009.009a5.168 5.168 0 000 7.295c2.01 2.007 5.297 2.007 7.306 0a5.119 5.119 0 001.521-3.647z\"\n  }));\n}\nvar type_timestamp_default = SvgTypeTimestamp;\n\n// src/icons/property-icon.tsx\nvar iconMap = {\n  title: type_title_default,\n  text: type_text_default,\n  number: type_number_default,\n  select: type_select_default,\n  multi_select: type_multi_select_default,\n  date: type_date_default,\n  person: type_person_default,\n  file: type_file_default,\n  checkbox: type_checkbox_default,\n  url: type_url_default,\n  email: type_email_default,\n  phone_number: type_phone_number_default,\n  formula: type_formula_default,\n  relation: type_relation_default,\n  created_time: type_timestamp_default,\n  last_edited_time: type_timestamp_default,\n  created_by: type_person_2_default,\n  last_edited_by: type_person_2_default\n};\nvar PropertyIcon = (_a) => {\n  var _b = _a, {\n    type\n  } = _b, rest = __objRest(_b, [\n    \"type\"\n  ]);\n  const icon = iconMap[type];\n  if (!icon)\n    return null;\n  return icon(rest);\n};\n\n// src/third-party/collection-column-title.tsx\nvar CollectionColumnTitle = ({ schema }) => {\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: \"notion-collection-column-title\"\n  }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(PropertyIcon, {\n    className: \"notion-collection-column-title-icon\",\n    type: schema.type\n  }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: \"notion-collection-column-title-body\"\n  }, schema.name));\n};\n\n// src/third-party/property.tsx\nvar import_format_number = __toESM(require_format_number(), 1);\nvar import_format2 = __toESM(require_format(), 1);\n\n\n// src/utils.ts\n\nvar defaultMapImageUrl = (url, block) => {\n  if (!url) {\n    return null;\n  }\n  if (url.startsWith(\"data:\")) {\n    return url;\n  }\n  if (url.startsWith(\"https://images.unsplash.com\")) {\n    return url;\n  }\n  try {\n    const u = new URL(url);\n    if (u.pathname.startsWith(\"/secure.notion-static.com\") && u.hostname.endsWith(\".amazonaws.com\")) {\n      if (u.searchParams.has(\"X-Amz-Credential\") && u.searchParams.has(\"X-Amz-Signature\") && u.searchParams.has(\"X-Amz-Algorithm\")) {\n        return url;\n      }\n    }\n  } catch (e) {\n  }\n  if (url.startsWith(\"/images\")) {\n    url = `https://www.notion.so${url}`;\n  }\n  url = `https://www.notion.so${url.startsWith(\"/image\") ? url : `/image/${encodeURIComponent(url)}`}`;\n  const notionImageUrlV2 = new URL(url);\n  let table = block.parent_table === \"space\" ? \"block\" : block.parent_table;\n  if (table === \"collection\") {\n    table = \"block\";\n  }\n  notionImageUrlV2.searchParams.set(\"table\", table);\n  notionImageUrlV2.searchParams.set(\"id\", block.id);\n  notionImageUrlV2.searchParams.set(\"cache\", \"v2\");\n  url = notionImageUrlV2.toString();\n  return url;\n};\nvar defaultMapPageUrl = (rootPageId) => (pageId) => {\n  pageId = (pageId || \"\").replace(/-/g, \"\");\n  if (rootPageId && pageId === rootPageId) {\n    return \"/\";\n  } else {\n    return `/${pageId}`;\n  }\n};\nvar cs = (...classes) => classes.filter((a) => !!a).join(\" \");\nvar getHashFragmentValue = (url) => {\n  return url.includes(\"#\") ? url.replace(/^.+(#.+)$/, \"$1\") : \"\";\n};\nvar isBrowser = typeof window !== \"undefined\";\nvar youtubeDomains = /* @__PURE__ */ new Set([\n  \"youtu.be\",\n  \"youtube.com\",\n  \"www.youtube.com\",\n  \"youtube-nocookie.com\",\n  \"www.youtube-nocookie.com\"\n]);\nvar getYoutubeId = (url) => {\n  try {\n    const { hostname } = new URL(url);\n    if (!youtubeDomains.has(hostname)) {\n      return null;\n    }\n    const regExp = /^.*(youtu\\.be\\/|v\\/|u\\/\\w\\/|embed\\/|watch\\?v=|&v=)([^#&?]*).*/i;\n    const match = url.match(regExp);\n    if (match && match[2].length == 11) {\n      return match[2];\n    }\n  } catch (e) {\n  }\n  return null;\n};\n\n// src/context.tsx\n\n\n// src/next.tsx\n\n\nvar wrapNextImage = (NextImage) => {\n  return react__WEBPACK_IMPORTED_MODULE_0__.memo(function ReactNotionXNextImage(_a) {\n    var _b = _a, {\n      src,\n      alt,\n      width,\n      height,\n      className,\n      style,\n      layout\n    } = _b, rest = __objRest(_b, [\n      \"src\",\n      \"alt\",\n      \"width\",\n      \"height\",\n      \"className\",\n      \"style\",\n      \"layout\"\n    ]);\n    if (!layout) {\n      layout = width && height ? \"intrinsic\" : \"fill\";\n    }\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(NextImage, __spreadValues({\n      className,\n      src,\n      alt,\n      width: layout === \"intrinsic\" && width,\n      height: layout === \"intrinsic\" && height,\n      objectFit: style == null ? void 0 : style.objectFit,\n      objectPosition: style == null ? void 0 : style.objectPosition,\n      layout\n    }, rest));\n  }, react_fast_compare__WEBPACK_IMPORTED_MODULE_4__);\n};\nvar wrapNextLink = (NextLink) => function ReactNotionXNextLink(_a) {\n  var _b = _a, {\n    href,\n    as,\n    passHref,\n    prefetch,\n    replace,\n    scroll,\n    shallow,\n    locale\n  } = _b, linkProps = __objRest(_b, [\n    \"href\",\n    \"as\",\n    \"passHref\",\n    \"prefetch\",\n    \"replace\",\n    \"scroll\",\n    \"shallow\",\n    \"locale\"\n  ]);\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(NextLink, {\n    href,\n    as,\n    passHref,\n    prefetch,\n    replace,\n    scroll,\n    shallow,\n    locale\n  }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"a\", __spreadValues({}, linkProps)));\n};\n\n// src/components/asset-wrapper.tsx\n\n\n// src/components/asset.tsx\n\n\n\n// src/components/lazy-image.tsx\n\n\n\nvar LazyImage = (_a) => {\n  var _b = _a, {\n    src,\n    alt,\n    className,\n    style,\n    zoomable = false,\n    priority = false,\n    height\n  } = _b, rest = __objRest(_b, [\n    \"src\",\n    \"alt\",\n    \"className\",\n    \"style\",\n    \"zoomable\",\n    \"priority\",\n    \"height\"\n  ]);\n  var _a2, _b2, _c;\n  const { recordMap, zoom, previewImages, forceCustomImages, components } = useNotionContext();\n  const zoomRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(zoom ? zoom.clone() : null);\n  const previewImage = previewImages ? (_c = (_a2 = recordMap == null ? void 0 : recordMap.preview_images) == null ? void 0 : _a2[src]) != null ? _c : (_b2 = recordMap == null ? void 0 : recordMap.preview_images) == null ? void 0 : _b2[(0,notion_utils__WEBPACK_IMPORTED_MODULE_1__.normalizeUrl)(src)] : null;\n  const onLoad = react__WEBPACK_IMPORTED_MODULE_0__.useCallback((e) => {\n    if (zoomable && (e.target.src || e.target.srcset)) {\n      if (zoomRef.current) {\n        ;\n        zoomRef.current.attach(e.target);\n      }\n    }\n  }, [zoomRef, zoomable]);\n  const attachZoom = react__WEBPACK_IMPORTED_MODULE_0__.useCallback((image) => {\n    if (zoomRef.current && image) {\n      ;\n      zoomRef.current.attach(image);\n    }\n  }, [zoomRef]);\n  const attachZoomRef = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => zoomable ? attachZoom : void 0, [zoomable, attachZoom]);\n  if (previewImage) {\n    const aspectRatio = previewImage.originalHeight / previewImage.originalWidth;\n    if (components.Image) {\n      return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(components.Image, {\n        src,\n        alt,\n        style,\n        className,\n        width: previewImage.originalWidth,\n        height: previewImage.originalHeight,\n        blurDataURL: previewImage.dataURIBase64,\n        placeholder: \"blur\",\n        priority,\n        onLoad\n      });\n    }\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_lazy_images__WEBPACK_IMPORTED_MODULE_5__.LazyImageFull, __spreadProps(__spreadValues({\n      src\n    }, rest), {\n      experimentalDecode: true\n    }), ({ imageState, ref }) => {\n      const isLoaded = imageState === react_lazy_images__WEBPACK_IMPORTED_MODULE_5__.ImageState.LoadSuccess;\n      const wrapperStyle = {\n        width: \"100%\"\n      };\n      const imgStyle = {};\n      if (height) {\n        wrapperStyle.height = height;\n      } else {\n        imgStyle.position = \"absolute\";\n        wrapperStyle.paddingBottom = `${aspectRatio * 100}%`;\n      }\n      return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        className: cs(\"lazy-image-wrapper\", isLoaded && \"lazy-image-loaded\", className),\n        style: wrapperStyle\n      }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"img\", {\n        className: \"lazy-image-preview\",\n        src: previewImage.dataURIBase64,\n        alt,\n        ref,\n        style,\n        decoding: \"async\"\n      }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"img\", {\n        className: \"lazy-image-real\",\n        src,\n        alt,\n        ref: attachZoomRef,\n        style: __spreadValues(__spreadValues({}, style), imgStyle),\n        width: previewImage.originalWidth,\n        height: previewImage.originalHeight,\n        decoding: \"async\",\n        loading: \"lazy\"\n      }));\n    });\n  } else {\n    if (components.Image && forceCustomImages) {\n      return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(components.Image, {\n        src,\n        alt,\n        className,\n        style,\n        width: null,\n        height: height || null,\n        priority,\n        onLoad\n      });\n    }\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"img\", __spreadValues({\n      className,\n      style,\n      src,\n      alt,\n      ref: attachZoomRef,\n      loading: \"lazy\",\n      decoding: \"async\"\n    }, rest));\n  }\n};\n\n// src/components/lite-youtube-embed.tsx\n\nvar qs = (params) => {\n  return Object.keys(params).map((key) => `${encodeURIComponent(key)}=${encodeURIComponent(params[key])}`).join(\"&\");\n};\nvar LiteYouTubeEmbed = ({\n  id,\n  defaultPlay = false,\n  mute = false,\n  lazyImage = false,\n  iframeTitle = \"YouTube video\",\n  alt = \"Video preview\",\n  params = {},\n  adLinksPreconnect = true,\n  style,\n  className\n}) => {\n  const muteParam = mute || defaultPlay ? \"1\" : \"0\";\n  const queryString = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => qs(__spreadValues({ autoplay: \"1\", mute: muteParam }, params)), [muteParam, params]);\n  const resolution = \"hqdefault\";\n  const posterUrl = `https://i.ytimg.com/vi/${id}/${resolution}.jpg`;\n  const ytUrl = \"https://www.youtube-nocookie.com\";\n  const iframeSrc = `${ytUrl}/embed/${id}?${queryString}`;\n  const [isPreconnected, setIsPreconnected] = react__WEBPACK_IMPORTED_MODULE_0__.useState(false);\n  const [iframeInitialized, setIframeInitialized] = react__WEBPACK_IMPORTED_MODULE_0__.useState(defaultPlay);\n  const [isIframeLoaded, setIsIframeLoaded] = react__WEBPACK_IMPORTED_MODULE_0__.useState(false);\n  const warmConnections = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(() => {\n    if (isPreconnected)\n      return;\n    setIsPreconnected(true);\n  }, [isPreconnected]);\n  const onLoadIframe = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(() => {\n    if (iframeInitialized)\n      return;\n    setIframeInitialized(true);\n  }, [iframeInitialized]);\n  const onIframeLoaded = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(() => {\n    setIsIframeLoaded(true);\n  }, []);\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"link\", {\n    rel: \"preload\",\n    href: posterUrl,\n    as: \"image\"\n  }), isPreconnected && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"link\", {\n    rel: \"preconnect\",\n    href: ytUrl\n  }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"link\", {\n    rel: \"preconnect\",\n    href: \"https://www.google.com\"\n  })), isPreconnected && adLinksPreconnect && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"link\", {\n    rel: \"preconnect\",\n    href: \"https://static.doubleclick.net\"\n  }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"link\", {\n    rel: \"preconnect\",\n    href: \"https://googleads.g.doubleclick.net\"\n  })), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    onClick: onLoadIframe,\n    onPointerOver: warmConnections,\n    className: cs(\"notion-yt-lite\", isIframeLoaded && \"notion-yt-loaded\", iframeInitialized && \"notion-yt-initialized\", className),\n    style\n  }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"img\", {\n    src: posterUrl,\n    className: \"notion-yt-thumbnail\",\n    loading: lazyImage ? \"lazy\" : void 0,\n    alt\n  }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: \"notion-yt-playbtn\"\n  }), iframeInitialized && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"iframe\", {\n    width: \"560\",\n    height: \"315\",\n    frameBorder: \"0\",\n    allow: \"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\",\n    allowFullScreen: true,\n    title: iframeTitle,\n    src: iframeSrc,\n    onLoad: onIframeLoaded\n  })));\n};\n\n// src/components/asset.tsx\nvar isServer = typeof window === \"undefined\";\nvar supportedAssetTypes = [\n  \"video\",\n  \"image\",\n  \"embed\",\n  \"figma\",\n  \"typeform\",\n  \"excalidraw\",\n  \"maps\",\n  \"tweet\",\n  \"pdf\",\n  \"gist\",\n  \"codepen\",\n  \"drive\"\n];\nvar Asset = ({ block, zoomable = true, children }) => {\n  var _a, _b, _c, _d, _e, _f;\n  const { recordMap, mapImageUrl, components } = useNotionContext();\n  if (!block || !supportedAssetTypes.includes(block.type)) {\n    return null;\n  }\n  const style = {\n    position: \"relative\",\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignSelf: \"center\",\n    width: \"100%\",\n    maxWidth: \"100%\",\n    flexDirection: \"column\"\n  };\n  const assetStyle = {};\n  if (block.format) {\n    const {\n      block_aspect_ratio,\n      block_height,\n      block_width,\n      block_full_width,\n      block_page_width,\n      block_preserve_scale\n    } = block.format;\n    if (block_full_width || block_page_width) {\n      if (block_full_width) {\n        style.width = \"100vw\";\n      } else {\n        style.width = \"100%\";\n      }\n      if (block.type === \"video\") {\n        if (block_height) {\n          style.height = block_height;\n        } else if (block_aspect_ratio) {\n          style.paddingBottom = `${block_aspect_ratio * 100}%`;\n        } else if (block_preserve_scale) {\n          style.objectFit = \"contain\";\n        }\n      } else if (block_aspect_ratio && block.type !== \"image\") {\n        style.paddingBottom = `${block_aspect_ratio * 100}%`;\n      } else if (block_height) {\n        style.height = block_height;\n      } else if (block_preserve_scale) {\n        if (block.type === \"image\") {\n          style.height = \"100%\";\n        } else {\n          style.paddingBottom = \"75%\";\n          style.minHeight = 100;\n        }\n      }\n    } else {\n      if (block_width) {\n        style.width = block_width;\n      }\n      if (block_preserve_scale && block.type !== \"image\") {\n        style.paddingBottom = \"50%\";\n        style.minHeight = 100;\n      } else {\n        if (block_height && block.type !== \"image\") {\n          style.height = block_height;\n        }\n      }\n    }\n    if (block.type === \"image\") {\n      assetStyle.objectFit = \"cover\";\n    } else if (block_preserve_scale) {\n      assetStyle.objectFit = \"contain\";\n    }\n  }\n  const source = ((_a = recordMap.signed_urls) == null ? void 0 : _a[block.id]) || ((_d = (_c = (_b = block.properties) == null ? void 0 : _b.source) == null ? void 0 : _c[0]) == null ? void 0 : _d[0]);\n  let content = null;\n  if (!source) {\n    return null;\n  }\n  if (block.type === \"tweet\") {\n    const src = source;\n    if (!src)\n      return null;\n    const id = src.split(\"?\")[0].split(\"/\").pop();\n    if (!id)\n      return null;\n    content = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n      style: __spreadProps(__spreadValues({}, assetStyle), {\n        maxWidth: 420,\n        width: \"100%\",\n        marginLeft: \"auto\",\n        marginRight: \"auto\"\n      })\n    }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(components.Tweet, {\n      id\n    }));\n  } else if (block.type === \"pdf\") {\n    style.overflow = \"auto\";\n    style.background = \"rgb(226, 226, 226)\";\n    if (!style.padding) {\n      style.padding = \"8px 16px\";\n    }\n    if (!isServer) {\n      content = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(components.Pdf, {\n        file: source\n      });\n    }\n  } else if (block.type === \"embed\" || block.type === \"video\" || block.type === \"figma\" || block.type === \"typeform\" || block.type === \"gist\" || block.type === \"maps\" || block.type === \"excalidraw\" || block.type === \"codepen\" || block.type === \"drive\") {\n    if (block.type === \"video\" && source && source.indexOf(\"youtube\") < 0 && source.indexOf(\"youtu.be\") < 0 && source.indexOf(\"vimeo\") < 0 && source.indexOf(\"wistia\") < 0 && source.indexOf(\"loom\") < 0 && source.indexOf(\"videoask\") < 0 && source.indexOf(\"getcloudapp\") < 0) {\n      style.paddingBottom = void 0;\n      content = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"video\", {\n        playsInline: true,\n        controls: true,\n        preload: \"metadata\",\n        style: assetStyle,\n        src: source,\n        title: block.type\n      });\n    } else {\n      let src = ((_e = block.format) == null ? void 0 : _e.display_source) || source;\n      if (src) {\n        const youtubeVideoId = block.type === \"video\" ? getYoutubeId(src) : null;\n        if (youtubeVideoId) {\n          content = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(LiteYouTubeEmbed, {\n            id: youtubeVideoId,\n            style: assetStyle,\n            className: \"notion-asset-object-fit\"\n          });\n        } else if (block.type === \"gist\") {\n          if (!src.endsWith(\".pibb\")) {\n            src = `${src}.pibb`;\n          }\n          assetStyle.width = \"100%\";\n          style.paddingBottom = \"50%\";\n          content = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"iframe\", {\n            style: assetStyle,\n            className: \"notion-asset-object-fit\",\n            src,\n            title: \"GitHub Gist\",\n            frameBorder: \"0\",\n            loading: \"lazy\",\n            scrolling: \"auto\"\n          });\n        } else {\n          content = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"iframe\", {\n            className: \"notion-asset-object-fit\",\n            style: assetStyle,\n            src,\n            title: `iframe ${block.type}`,\n            frameBorder: \"0\",\n            allowFullScreen: true,\n            loading: \"lazy\",\n            scrolling: \"auto\"\n          });\n        }\n      }\n    }\n  } else if (block.type === \"image\") {\n    const src = mapImageUrl(source, block);\n    const caption = (0,notion_utils__WEBPACK_IMPORTED_MODULE_1__.getTextContent)((_f = block.properties) == null ? void 0 : _f.caption);\n    const alt = caption || \"notion image\";\n    content = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(LazyImage, {\n      src,\n      alt,\n      zoomable,\n      height: style.height,\n      style: assetStyle\n    });\n  }\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    style\n  }, content, block.type === \"image\" && children), block.type !== \"image\" && children);\n};\n\n// src/components/text.tsx\n\n\n\n// src/components/page-title.tsx\n\n\n\n// src/components/page-icon.tsx\n\n\n\n// src/icons/default-page-icon.tsx\n\nvar DefaultPageIcon = (props) => {\n  const _a = props, { className } = _a, rest = __objRest(_a, [\"className\"]);\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", __spreadProps(__spreadValues({\n    className\n  }, rest), {\n    viewBox: \"0 0 30 30\",\n    width: \"16\"\n  }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n    d: \"M16,1H4v28h22V11L16,1z M16,3.828L23.172,11H16V3.828z M24,27H6V3h8v10h10V27z M8,17h14v-2H8V17z M8,21h14v-2H8V21z M8,25h14v-2H8V25z\"\n  }));\n};\n\n// src/components/page-icon.tsx\nvar isIconBlock = (value) => {\n  return value.type === \"page\" || value.type === \"callout\" || value.type === \"collection_view\" || value.type === \"collection_view_page\";\n};\nvar PageIconImpl = ({\n  block,\n  className,\n  inline = true,\n  hideDefaultIcon = false,\n  defaultIcon\n}) => {\n  var _a;\n  const { mapImageUrl, recordMap } = useNotionContext();\n  let isImage = false;\n  let content = null;\n  if (isIconBlock(block)) {\n    const icon = ((_a = (0,notion_utils__WEBPACK_IMPORTED_MODULE_1__.getBlockIcon)(block, recordMap)) == null ? void 0 : _a.trim()) || defaultIcon;\n    const title = (0,notion_utils__WEBPACK_IMPORTED_MODULE_1__.getBlockTitle)(block, recordMap);\n    if (icon && (0,notion_utils__WEBPACK_IMPORTED_MODULE_1__.isUrl)(icon)) {\n      const url = mapImageUrl(icon, block);\n      isImage = true;\n      content = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(LazyImage, {\n        src: url,\n        alt: title || \"page icon\",\n        className: cs(className, \"notion-page-icon\")\n      });\n    } else if (!icon) {\n      if (!hideDefaultIcon) {\n        isImage = true;\n        content = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(DefaultPageIcon, {\n          className: cs(className, \"notion-page-icon\"),\n          alt: title ? title : \"page icon\"\n        });\n      }\n    } else {\n      isImage = false;\n      content = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n        className: cs(className, \"notion-page-icon\"),\n        role: \"img\",\n        \"aria-label\": icon\n      }, icon);\n    }\n  }\n  if (!content) {\n    return null;\n  }\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: cs(inline ? \"notion-page-icon-inline\" : \"notion-page-icon-hero\", isImage ? \"notion-page-icon-image\" : \"notion-page-icon-span\")\n  }, content);\n};\nvar PageIcon = react__WEBPACK_IMPORTED_MODULE_0__.memo(PageIconImpl);\n\n// src/components/page-title.tsx\nvar PageTitleImpl = (_a) => {\n  var _b = _a, { block, className, defaultIcon } = _b, rest = __objRest(_b, [\"block\", \"className\", \"defaultIcon\"]);\n  var _a2, _b2;\n  const { recordMap } = useNotionContext();\n  if (!block)\n    return null;\n  if (block.type === \"collection_view_page\" || block.type === \"collection_view\") {\n    const title = (0,notion_utils__WEBPACK_IMPORTED_MODULE_1__.getBlockTitle)(block, recordMap);\n    if (!title) {\n      return null;\n    }\n    const titleDecoration = [[title]];\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", __spreadValues({\n      className: cs(\"notion-page-title\", className)\n    }, rest), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(PageIcon, {\n      block,\n      defaultIcon,\n      className: \"notion-page-title-icon\"\n    }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n      className: \"notion-page-title-text\"\n    }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Text, {\n      value: titleDecoration,\n      block\n    })));\n  }\n  if (!((_a2 = block.properties) == null ? void 0 : _a2.title)) {\n    return null;\n  }\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", __spreadValues({\n    className: cs(\"notion-page-title\", className)\n  }, rest), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(PageIcon, {\n    block,\n    defaultIcon,\n    className: \"notion-page-title-icon\"\n  }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n    className: \"notion-page-title-text\"\n  }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Text, {\n    value: (_b2 = block.properties) == null ? void 0 : _b2.title,\n    block\n  })));\n};\nvar PageTitle = react__WEBPACK_IMPORTED_MODULE_0__.memo(PageTitleImpl);\n\n// src/components/graceful-image.tsx\n\n\nvar GracefulImage = (props) => {\n  if (isBrowser) {\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_image__WEBPACK_IMPORTED_MODULE_6__.Img, __spreadValues({}, props));\n  } else {\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"img\", __spreadValues({}, props));\n  }\n};\n\n// src/components/eoi.tsx\n\n\n// src/icons/type-github.tsx\n\nfunction SvgTypeGitHub(props) {\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", __spreadValues({\n    viewBox: \"0 0 260 260\"\n  }, props), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"g\", null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n    d: \"M128.00106,0 C57.3172926,0 0,57.3066942 0,128.00106 C0,184.555281 36.6761997,232.535542 87.534937,249.460899 C93.9320223,250.645779 96.280588,246.684165 96.280588,243.303333 C96.280588,240.251045 96.1618878,230.167899 96.106777,219.472176 C60.4967585,227.215235 52.9826207,204.369712 52.9826207,204.369712 C47.1599584,189.574598 38.770408,185.640538 38.770408,185.640538 C27.1568785,177.696113 39.6458206,177.859325 39.6458206,177.859325 C52.4993419,178.762293 59.267365,191.04987 59.267365,191.04987 C70.6837675,210.618423 89.2115753,204.961093 96.5158685,201.690482 C97.6647155,193.417512 100.981959,187.77078 104.642583,184.574357 C76.211799,181.33766 46.324819,170.362144 46.324819,121.315702 C46.324819,107.340889 51.3250588,95.9223682 59.5132437,86.9583937 C58.1842268,83.7344152 53.8029229,70.715562 60.7532354,53.0843636 C60.7532354,53.0843636 71.5019501,49.6441813 95.9626412,66.2049595 C106.172967,63.368876 117.123047,61.9465949 128.00106,61.8978432 C138.879073,61.9465949 149.837632,63.368876 160.067033,66.2049595 C184.49805,49.6441813 195.231926,53.0843636 195.231926,53.0843636 C202.199197,70.715562 197.815773,83.7344152 196.486756,86.9583937 C204.694018,95.9223682 209.660343,107.340889 209.660343,121.315702 C209.660343,170.478725 179.716133,181.303747 151.213281,184.472614 C155.80443,188.444828 159.895342,196.234518 159.895342,208.176593 C159.895342,225.303317 159.746968,239.087361 159.746968,243.303333 C159.746968,246.709601 162.05102,250.70089 168.53925,249.443941 C219.370432,232.499507 256,184.536204 256,128.00106 C256,57.3066942 198.691187,0 128.00106,0 Z M47.9405593,182.340212 C47.6586465,182.976105 46.6581745,183.166873 45.7467277,182.730227 C44.8183235,182.312656 44.2968914,181.445722 44.5978808,180.80771 C44.8734344,180.152739 45.876026,179.97045 46.8023103,180.409216 C47.7328342,180.826786 48.2627451,181.702199 47.9405593,182.340212 Z M54.2367892,187.958254 C53.6263318,188.524199 52.4329723,188.261363 51.6232682,187.366874 C50.7860088,186.474504 50.6291553,185.281144 51.2480912,184.70672 C51.8776254,184.140775 53.0349512,184.405731 53.8743302,185.298101 C54.7115892,186.201069 54.8748019,187.38595 54.2367892,187.958254 Z M58.5562413,195.146347 C57.7719732,195.691096 56.4895886,195.180261 55.6968417,194.042013 C54.9125733,192.903764 54.9125733,191.538713 55.713799,190.991845 C56.5086651,190.444977 57.7719732,190.936735 58.5753181,192.066505 C59.3574669,193.22383 59.3574669,194.58888 58.5562413,195.146347 Z M65.8613592,203.471174 C65.1597571,204.244846 63.6654083,204.03712 62.5716717,202.981538 C61.4524999,201.94927 61.1409122,200.484596 61.8446341,199.710926 C62.5547146,198.935137 64.0575422,199.15346 65.1597571,200.200564 C66.2704506,201.230712 66.6095936,202.705984 65.8613592,203.471174 Z M75.3025151,206.281542 C74.9930474,207.284134 73.553809,207.739857 72.1039724,207.313809 C70.6562556,206.875043 69.7087748,205.700761 70.0012857,204.687571 C70.302275,203.678621 71.7478721,203.20382 73.2083069,203.659543 C74.6539041,204.09619 75.6035048,205.261994 75.3025151,206.281542 Z M86.046947,207.473627 C86.0829806,208.529209 84.8535871,209.404622 83.3316829,209.4237 C81.8013,209.457614 80.563428,208.603398 80.5464708,207.564772 C80.5464708,206.498591 81.7483088,205.631657 83.2786917,205.606221 C84.8005962,205.576546 86.046947,206.424403 86.046947,207.473627 Z M96.6021471,207.069023 C96.7844366,208.099171 95.7267341,209.156872 94.215428,209.438785 C92.7295577,209.710099 91.3539086,209.074206 91.1652603,208.052538 C90.9808515,206.996955 92.0576306,205.939253 93.5413813,205.66582 C95.054807,205.402984 96.4092596,206.021919 96.6021471,207.069023 Z\",\n    fill: \"#161614\"\n  })));\n}\nvar type_github_default = SvgTypeGitHub;\n\n// src/components/eoi.tsx\nvar EOI = ({ block, inline, className }) => {\n  var _a, _b, _c;\n  const { components } = useNotionContext();\n  const { original_url, attributes, domain } = (block == null ? void 0 : block.format) || {};\n  if (!original_url || !attributes) {\n    return null;\n  }\n  const title = (_a = attributes.find((attr) => attr.id === \"title\")) == null ? void 0 : _a.values[0];\n  let owner = (_b = attributes.find((attr) => attr.id === \"owner\")) == null ? void 0 : _b.values[0];\n  const lastUpdatedAt = (_c = attributes.find((attr) => attr.id === \"updated_at\")) == null ? void 0 : _c.values[0];\n  const lastUpdated = lastUpdatedAt ? (0,notion_utils__WEBPACK_IMPORTED_MODULE_1__.formatNotionDateTime)(lastUpdatedAt) : null;\n  let externalImage;\n  switch (domain) {\n    case \"github.com\":\n      externalImage = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(type_github_default, null);\n      if (owner) {\n        const parts = owner.split(\"/\");\n        owner = parts[parts.length - 1];\n      }\n      break;\n    default:\n      if (true) {\n        console.log(`Unsupported external_object_instance domain \"${domain}\"`, JSON.stringify(block, null, 2));\n      }\n      return null;\n  }\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(components.Link, {\n    target: \"_blank\",\n    rel: \"noopener noreferrer\",\n    href: original_url,\n    className: cs(\"notion-external\", inline ? \"notion-external-mention\" : \"notion-external-block notion-row\", className)\n  }, externalImage && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: \"notion-external-image\"\n  }, externalImage), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: \"notion-external-description\"\n  }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: \"notion-external-title\"\n  }, title), (owner || lastUpdated) && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: \"notion-external-subtitle\"\n  }, owner && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", null, owner), owner && lastUpdated && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", null, \" \\u2022 \"), lastUpdated && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", null, \"Updated \", lastUpdated))));\n};\n\n// src/components/text.tsx\nvar Text = ({ value, block, linkProps, linkProtocol }) => {\n  const { components, recordMap, mapPageUrl, mapImageUrl, rootDomain } = useNotionContext();\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, value == null ? void 0 : value.map(([text, decorations], index) => {\n    if (!decorations) {\n      if (text === \",\") {\n        return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n          key: index,\n          style: { padding: \"0.5em\" }\n        });\n      } else {\n        return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n          key: index\n        }, text);\n      }\n    }\n    const formatted = decorations.reduce((element, decorator) => {\n      var _a, _b, _c, _d, _e;\n      switch (decorator[0]) {\n        case \"p\": {\n          const blockId = decorator[1];\n          const linkedBlock = (_a = recordMap.block[blockId]) == null ? void 0 : _a.value;\n          if (!linkedBlock) {\n            console.log('\"p\" missing block', blockId);\n            return null;\n          }\n          return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(components.PageLink, {\n            className: \"notion-link\",\n            href: mapPageUrl(blockId)\n          }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(PageTitle, {\n            block: linkedBlock\n          }));\n        }\n        case \"\\u2023\": {\n          const linkType = decorator[1][0];\n          const id = decorator[1][1];\n          switch (linkType) {\n            case \"u\": {\n              const user = (_b = recordMap.notion_user[id]) == null ? void 0 : _b.value;\n              if (!user) {\n                console.log('\"\\u2023\" missing user', id);\n                return null;\n              }\n              const name = [user.given_name, user.family_name].filter(Boolean).join(\" \");\n              return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(GracefulImage, {\n                className: \"notion-user\",\n                src: mapImageUrl(user.profile_photo, block),\n                alt: name\n              });\n            }\n            default: {\n              const linkedBlock = (_c = recordMap.block[id]) == null ? void 0 : _c.value;\n              if (!linkedBlock) {\n                console.log('\"\\u2023\" missing block', linkType, id);\n                return null;\n              }\n              return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(components.PageLink, __spreadProps(__spreadValues({\n                className: \"notion-link\",\n                href: mapPageUrl(id)\n              }, linkProps), {\n                target: \"_blank\",\n                rel: \"noopener noreferrer\"\n              }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(PageTitle, {\n                block: linkedBlock\n              }));\n            }\n          }\n        }\n        case \"h\":\n          return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n            className: `notion-${decorator[1]}`\n          }, element);\n        case \"c\":\n          return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"code\", {\n            className: \"notion-inline-code\"\n          }, element);\n        case \"b\":\n          return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"b\", null, element);\n        case \"i\":\n          return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"em\", null, element);\n        case \"s\":\n          return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"s\", null, element);\n        case \"_\":\n          return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n            className: \"notion-inline-underscore\"\n          }, element);\n        case \"e\":\n          return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(components.Equation, {\n            math: decorator[1],\n            inline: true\n          });\n        case \"m\":\n          return element;\n        case \"a\": {\n          const v = decorator[1];\n          const pathname = v.substr(1);\n          const id = (0,notion_utils__WEBPACK_IMPORTED_MODULE_1__.parsePageId)(pathname, { uuid: true });\n          if ((v[0] === \"/\" || v.includes(rootDomain)) && id) {\n            const href = v.includes(rootDomain) ? v : `${mapPageUrl(id)}${getHashFragmentValue(v)}`;\n            return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(components.PageLink, __spreadValues({\n              className: \"notion-link\",\n              href\n            }, linkProps), element);\n          } else {\n            return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(components.Link, __spreadValues({\n              className: \"notion-link\",\n              href: linkProtocol ? `${linkProtocol}:${decorator[1]}` : decorator[1]\n            }, linkProps), element);\n          }\n        }\n        case \"d\": {\n          const v = decorator[1];\n          const type = v == null ? void 0 : v.type;\n          if (type === \"date\") {\n            const startDate = v.start_date;\n            return (0,notion_utils__WEBPACK_IMPORTED_MODULE_1__.formatDate)(startDate);\n          } else if (type === \"daterange\") {\n            const startDate = v.start_date;\n            const endDate = v.end_date;\n            return `${(0,notion_utils__WEBPACK_IMPORTED_MODULE_1__.formatDate)(startDate)} \\u2192 ${(0,notion_utils__WEBPACK_IMPORTED_MODULE_1__.formatDate)(endDate)}`;\n          } else {\n            return element;\n          }\n        }\n        case \"u\": {\n          const userId = decorator[1];\n          const user = (_d = recordMap.notion_user[userId]) == null ? void 0 : _d.value;\n          if (!user) {\n            console.log(\"missing user\", userId);\n            return null;\n          }\n          const name = [user.given_name, user.family_name].filter(Boolean).join(\" \");\n          return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(GracefulImage, {\n            className: \"notion-user\",\n            src: mapImageUrl(user.profile_photo, block),\n            alt: name\n          });\n        }\n        case \"eoi\": {\n          const blockId = decorator[1];\n          const externalObjectInstance = (_e = recordMap.block[blockId]) == null ? void 0 : _e.value;\n          return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(EOI, {\n            block: externalObjectInstance,\n            inline: true\n          });\n        }\n        default:\n          if (true) {\n            console.log(\"unsupported text format\", decorator);\n          }\n          return element;\n      }\n    }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, text));\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n      key: index\n    }, formatted);\n  }));\n};\n\n// src/components/header.tsx\n\n\n\n\n// src/icons/search-icon.tsx\n\nvar SearchIcon = (props) => {\n  const _a = props, { className } = _a, rest = __objRest(_a, [\"className\"]);\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", __spreadValues({\n    className: cs(\"notion-icon\", className),\n    viewBox: \"0 0 17 17\"\n  }, rest), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n    d: \"M6.78027 13.6729C8.24805 13.6729 9.60156 13.1982 10.709 12.4072L14.875 16.5732C15.0684 16.7666 15.3232 16.8633 15.5957 16.8633C16.167 16.8633 16.5713 16.4238 16.5713 15.8613C16.5713 15.5977 16.4834 15.3516 16.29 15.1582L12.1504 11.0098C13.0205 9.86719 13.5391 8.45215 13.5391 6.91406C13.5391 3.19629 10.498 0.155273 6.78027 0.155273C3.0625 0.155273 0.0214844 3.19629 0.0214844 6.91406C0.0214844 10.6318 3.0625 13.6729 6.78027 13.6729ZM6.78027 12.2139C3.87988 12.2139 1.48047 9.81445 1.48047 6.91406C1.48047 4.01367 3.87988 1.61426 6.78027 1.61426C9.68066 1.61426 12.0801 4.01367 12.0801 6.91406C12.0801 9.81445 9.68066 12.2139 6.78027 12.2139Z\"\n  }));\n};\n\n// src/components/search-dialog.tsx\nvar import_lodash = __toESM(require_lodash(), 1);\n\n\n\n// src/icons/clear-icon.tsx\n\nvar ClearIcon = (props) => {\n  const _a = props, { className } = _a, rest = __objRest(_a, [\"className\"]);\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", __spreadProps(__spreadValues({\n    className: cs(\"notion-icon\", className)\n  }, rest), {\n    viewBox: \"0 0 30 30\"\n  }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n    d: \"M15,0C6.716,0,0,6.716,0,15s6.716,15,15,15s15-6.716,15-15S23.284,0,15,0z M22,20.6L20.6,22L15,16.4L9.4,22L8,20.6l5.6-5.6 L8,9.4L9.4,8l5.6,5.6L20.6,8L22,9.4L16.4,15L22,20.6z\"\n  }));\n};\n\n// src/icons/loading-icon.tsx\n\nvar LoadingIcon = (props) => {\n  const _a = props, { className } = _a, rest = __objRest(_a, [\"className\"]);\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", __spreadProps(__spreadValues({\n    className: cs(\"notion-icon\", className)\n  }, rest), {\n    viewBox: \"0 0 24 24\"\n  }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"defs\", null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"linearGradient\", {\n    x1: \"28.1542969%\",\n    y1: \"63.7402344%\",\n    x2: \"74.6289062%\",\n    y2: \"17.7832031%\",\n    id: \"linearGradient-1\"\n  }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"stop\", {\n    stopColor: \"rgba(164, 164, 164, 1)\",\n    offset: \"0%\"\n  }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"stop\", {\n    stopColor: \"rgba(164, 164, 164, 0)\",\n    stopOpacity: \"0\",\n    offset: \"100%\"\n  }))), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"g\", {\n    id: \"Page-1\",\n    stroke: \"none\",\n    strokeWidth: \"1\",\n    fill: \"none\"\n  }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"g\", {\n    transform: \"translate(-236.000000, -286.000000)\"\n  }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"g\", {\n    transform: \"translate(238.000000, 286.000000)\"\n  }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"circle\", {\n    id: \"Oval-2\",\n    stroke: \"url(#linearGradient-1)\",\n    strokeWidth: \"4\",\n    cx: \"10\",\n    cy: \"12\",\n    r: \"10\"\n  }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n    d: \"M10,2 C4.4771525,2 0,6.4771525 0,12\",\n    id: \"Oval-2\",\n    stroke: \"rgba(164, 164, 164, 1)\",\n    strokeWidth: \"4\"\n  }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"rect\", {\n    id: \"Rectangle-1\",\n    fill: \"rgba(164, 164, 164, 1)\",\n    x: \"8\",\n    y: \"0\",\n    width: \"4\",\n    height: \"4\",\n    rx: \"8\"\n  })))));\n};\n\n// src/components/search-dialog.tsx\nvar SearchDialog = class extends react__WEBPACK_IMPORTED_MODULE_0__.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoading: false,\n      query: \"\",\n      searchResult: null,\n      searchError: null\n    };\n    this._onAfterOpen = () => {\n      if (this._inputRef.current) {\n        this._inputRef.current.focus();\n      }\n    };\n    this._onChangeQuery = (e) => {\n      const query = e.target.value;\n      this.setState({ query });\n      if (!query.trim()) {\n        this.setState({ isLoading: false, searchResult: null, searchError: null });\n        return;\n      } else {\n        this._search();\n      }\n    };\n    this._onClearQuery = () => {\n      this._onChangeQuery({ target: { value: \"\" } });\n    };\n    this._warmupSearch = () => __async(this, null, function* () {\n      const { searchNotion, rootBlockId } = this.props;\n      yield searchNotion({\n        query: \"\",\n        ancestorId: rootBlockId\n      });\n    });\n    this._searchImpl = () => __async(this, null, function* () {\n      const { searchNotion, rootBlockId } = this.props;\n      const { query } = this.state;\n      if (!query.trim()) {\n        this.setState({ isLoading: false, searchResult: null, searchError: null });\n        return;\n      }\n      this.setState({ isLoading: true });\n      const result = yield searchNotion({\n        query,\n        ancestorId: rootBlockId\n      });\n      console.log(\"search\", query, result);\n      let searchResult = null;\n      let searchError = null;\n      if (result.error || result.errorId) {\n        searchError = result;\n      } else {\n        searchResult = __spreadValues({}, result);\n        const results = searchResult.results.map((result2) => {\n          var _a, _b;\n          const block = (_a = searchResult.recordMap.block[result2.id]) == null ? void 0 : _a.value;\n          if (!block)\n            return;\n          const title = (0,notion_utils__WEBPACK_IMPORTED_MODULE_1__.getBlockTitle)(block, searchResult.recordMap);\n          if (!title) {\n            return;\n          }\n          result2.title = title;\n          result2.block = block;\n          result2.recordMap = searchResult.recordMap;\n          result2.page = (0,notion_utils__WEBPACK_IMPORTED_MODULE_1__.getBlockParentPage)(block, searchResult.recordMap, {\n            inclusive: true\n          }) || block;\n          if (!result2.page.id) {\n            return;\n          }\n          if ((_b = result2.highlight) == null ? void 0 : _b.text) {\n            result2.highlight.html = result2.highlight.text.replace(/<gzkNfoUU>/gi, \"<b>\").replace(/<\\/gzkNfoUU>/gi, \"</b>\");\n          }\n          return result2;\n        }).filter(Boolean);\n        const searchResultsMap = results.reduce((map, result2) => __spreadProps(__spreadValues({}, map), {\n          [result2.page.id]: result2\n        }), {});\n        searchResult.results = Object.values(searchResultsMap);\n      }\n      if (this.state.query === query) {\n        this.setState({ isLoading: false, searchResult, searchError });\n      }\n    });\n    this._inputRef = react__WEBPACK_IMPORTED_MODULE_0__.createRef();\n  }\n  componentDidMount() {\n    this._search = (0, import_lodash.default)(this._searchImpl.bind(this), 1e3);\n    this._warmupSearch();\n  }\n  render() {\n    const { isOpen, onClose } = this.props;\n    const { isLoading, query, searchResult, searchError } = this.state;\n    const hasQuery = !!query.trim();\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(NotionContextConsumer, null, (ctx2) => {\n      const { components, defaultPageIcon, mapPageUrl } = ctx2;\n      return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(components.Modal, {\n        isOpen,\n        contentLabel: \"Search\",\n        className: \"notion-search\",\n        overlayClassName: \"notion-search-overlay\",\n        onRequestClose: onClose,\n        onAfterOpen: this._onAfterOpen\n      }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        className: \"quickFindMenu\"\n      }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        className: \"searchBar\"\n      }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        className: \"inlineIcon\"\n      }, isLoading ? /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(LoadingIcon, {\n        className: \"loadingIcon\"\n      }) : /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(SearchIcon, null)), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"input\", {\n        className: \"searchInput\",\n        placeholder: \"Search\",\n        value: query,\n        ref: this._inputRef,\n        onChange: this._onChangeQuery\n      }), query && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        role: \"button\",\n        className: \"clearButton\",\n        onClick: this._onClearQuery\n      }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(ClearIcon, {\n        className: \"clearIcon\"\n      }))), hasQuery && searchResult && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, searchResult.results.length ? /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(NotionContextProvider, __spreadProps(__spreadValues({}, ctx2), {\n        recordMap: searchResult.recordMap\n      }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        className: \"resultsPane\"\n      }, searchResult.results.map((result) => {\n        var _a;\n        return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(components.PageLink, {\n          key: result.id,\n          className: cs(\"result\", \"notion-page-link\"),\n          href: mapPageUrl(result.page.id, searchResult.recordMap)\n        }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(PageTitle, {\n          block: result.page,\n          defaultIcon: defaultPageIcon\n        }), ((_a = result.highlight) == null ? void 0 : _a.html) && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n          className: \"notion-search-result-highlight\",\n          dangerouslySetInnerHTML: {\n            __html: result.highlight.html\n          }\n        }));\n      })), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"footer\", {\n        className: \"resultsFooter\"\n      }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n        className: \"resultsCount\"\n      }, searchResult.total), searchResult.total === 1 ? \" result\" : \" results\"))) : /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        className: \"noResultsPane\"\n      }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        className: \"noResults\"\n      }, \"No results\"), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        className: \"noResultsDetail\"\n      }, \"Try different search terms\"))), hasQuery && !searchResult && searchError && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        className: \"noResultsPane\"\n      }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        className: \"noResults\"\n      }, \"Search error\"))));\n    });\n  }\n};\n\n// src/components/header.tsx\nvar Header = ({ block }) => {\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"header\", {\n    className: \"notion-header\"\n  }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: \"notion-nav-header\"\n  }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Breadcrumbs, {\n    block\n  }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Search, {\n    block\n  })));\n};\nvar Breadcrumbs = ({ block, rootOnly = false }) => {\n  const { recordMap, mapPageUrl, components } = useNotionContext();\n  const breadcrumbs = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => {\n    const breadcrumbs2 = (0,notion_utils__WEBPACK_IMPORTED_MODULE_1__.getPageBreadcrumbs)(recordMap, block.id);\n    if (rootOnly) {\n      return [breadcrumbs2[0]].filter(Boolean);\n    }\n    return breadcrumbs2;\n  }, [recordMap, block.id, rootOnly]);\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: \"breadcrumbs\",\n    key: \"breadcrumbs\"\n  }, breadcrumbs.map((breadcrumb, index) => {\n    if (!breadcrumb) {\n      return null;\n    }\n    const pageLinkProps = {};\n    const componentMap = {\n      pageLink: components.PageLink\n    };\n    if (breadcrumb.active) {\n      componentMap.pageLink = (props) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", __spreadValues({}, props));\n    } else {\n      pageLinkProps.href = mapPageUrl(breadcrumb.pageId);\n    }\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n      key: breadcrumb.pageId\n    }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(componentMap.pageLink, __spreadValues({\n      className: cs(\"breadcrumb\", breadcrumb.active && \"active\")\n    }, pageLinkProps), breadcrumb.icon && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(PageIcon, {\n      className: \"icon\",\n      block: breadcrumb.block\n    }), breadcrumb.title && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n      className: \"title\"\n    }, breadcrumb.title)), index < breadcrumbs.length - 1 && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n      className: \"spacer\"\n    }, \"/\"));\n  }));\n};\nvar Search = ({ block, search, title = \"Search\" }) => {\n  const { searchNotion, rootPageId } = useNotionContext();\n  const onSearchNotion = search || searchNotion;\n  const [isSearchOpen, setIsSearchOpen] = react__WEBPACK_IMPORTED_MODULE_0__.useState(false);\n  const onOpenSearch = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(() => {\n    setIsSearchOpen(true);\n  }, []);\n  const onCloseSearch = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(() => {\n    setIsSearchOpen(false);\n  }, []);\n  (0,react_hotkeys_hook__WEBPACK_IMPORTED_MODULE_7__.useHotkeys)(\"cmd+p\", (event) => {\n    onOpenSearch();\n    event.preventDefault();\n    event.stopPropagation();\n  });\n  (0,react_hotkeys_hook__WEBPACK_IMPORTED_MODULE_7__.useHotkeys)(\"cmd+k\", (event) => {\n    onOpenSearch();\n    event.preventDefault();\n    event.stopPropagation();\n  });\n  const hasSearch = !!onSearchNotion;\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, hasSearch && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    role: \"button\",\n    className: cs(\"breadcrumb\", \"button\", \"notion-search-button\"),\n    onClick: onOpenSearch\n  }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(SearchIcon, {\n    className: \"searchIcon\"\n  }), title && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n    className: \"title\"\n  }, title)), isSearchOpen && hasSearch && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(SearchDialog, {\n    isOpen: isSearchOpen,\n    rootBlockId: rootPageId || (block == null ? void 0 : block.id),\n    onClose: onCloseSearch,\n    searchNotion: onSearchNotion\n  }));\n};\n\n// src/components/asset-wrapper.tsx\n\nvar urlStyle = { width: \"100%\" };\nvar AssetWrapper = ({ blockId, block }) => {\n  var _a, _b, _c, _d, _e, _f;\n  const value = block;\n  const { components, mapPageUrl, rootDomain } = useNotionContext();\n  let isURL = false;\n  if (block.type === \"image\") {\n    const caption = (_c = (_b = (_a = value == null ? void 0 : value.properties) == null ? void 0 : _a.caption) == null ? void 0 : _b[0]) == null ? void 0 : _c[0];\n    if (caption) {\n      const id = (0,notion_utils__WEBPACK_IMPORTED_MODULE_1__.parsePageId)(caption, { uuid: true });\n      const isPage = caption.charAt(0) === \"/\" && id;\n      if (isPage || isValidURL(caption)) {\n        isURL = true;\n      }\n    }\n  }\n  const figure = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"figure\", {\n    className: cs(\"notion-asset-wrapper\", `notion-asset-wrapper-${block.type}`, ((_d = value.format) == null ? void 0 : _d.block_full_width) && \"notion-asset-wrapper-full\", blockId)\n  }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Asset, {\n    block: value,\n    zoomable: !isURL\n  }, ((_e = value == null ? void 0 : value.properties) == null ? void 0 : _e.caption) && !isURL && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"figcaption\", {\n    className: \"notion-asset-caption\"\n  }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Text, {\n    value: value.properties.caption,\n    block\n  }))));\n  if (isURL) {\n    const caption = (_f = value == null ? void 0 : value.properties) == null ? void 0 : _f.caption[0][0];\n    const id = (0,notion_utils__WEBPACK_IMPORTED_MODULE_1__.parsePageId)(caption, { uuid: true });\n    const isPage = caption.charAt(0) === \"/\" && id;\n    const captionHostname = extractHostname(caption);\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(components.PageLink, {\n      style: urlStyle,\n      href: isPage ? mapPageUrl(id) : caption,\n      target: captionHostname && captionHostname !== rootDomain && !caption.startsWith(\"/\") ? \"blank_\" : null\n    }, figure);\n  }\n  return figure;\n};\nfunction isValidURL(str) {\n  const pattern = new RegExp(\"^(https?:\\\\/\\\\/)?((([a-z\\\\d]([a-z\\\\d-]*[a-z\\\\d])*)\\\\.)+[a-z]{2,}|((\\\\d{1,3}\\\\.){3}\\\\d{1,3}))(\\\\:\\\\d+)?(\\\\/[-a-z\\\\d%_.~+]*)*(\\\\?[;&a-z\\\\d%_.~+=-]*)?(\\\\#[-a-z\\\\d_]*)?$\", \"i\");\n  return !!pattern.test(str);\n}\nfunction extractHostname(url) {\n  try {\n    const hostname = new URL(url).hostname;\n    return hostname;\n  } catch (err) {\n    return \"\";\n  }\n}\n\n// src/components/checkbox.tsx\n\n\n// src/icons/check.tsx\n\nfunction SvgCheck(props) {\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", __spreadValues({\n    viewBox: \"0 0 14 14\"\n  }, props), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n    d: \"M5.5 12L14 3.5 12.5 2l-7 7-4-4.003L0 6.499z\"\n  }));\n}\nvar check_default = SvgCheck;\n\n// src/components/checkbox.tsx\nvar Checkbox = ({ isChecked }) => {\n  let content = null;\n  if (isChecked) {\n    content = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n      className: \"notion-property-checkbox-checked\"\n    }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(check_default, null));\n  } else {\n    content = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n      className: \"notion-property-checkbox-unchecked\"\n    });\n  }\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n    className: \"notion-property notion-property-checkbox\"\n  }, content);\n};\n\n// src/context.tsx\nvar DefaultLink = (props) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"a\", __spreadValues({\n  target: \"_blank\",\n  rel: \"noopener noreferrer\"\n}, props));\nvar DefaultLinkMemo = react__WEBPACK_IMPORTED_MODULE_0__.memo(DefaultLink);\nvar DefaultPageLink = (props) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"a\", __spreadValues({}, props));\nvar DefaultPageLinkMemo = react__WEBPACK_IMPORTED_MODULE_0__.memo(DefaultPageLink);\nvar DefaultEmbed = AssetWrapper;\nvar DefaultHeader = Header;\nvar dummyLink = (_a) => {\n  var _b = _a, { href, rel, target, title } = _b, rest = __objRest(_b, [\"href\", \"rel\", \"target\", \"title\"]);\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", __spreadValues({}, rest));\n};\nvar dummyComponent = (name) => () => {\n  console.warn(`Warning: using empty component \"${name}\" (you should override this in NotionRenderer.components)`);\n  return null;\n};\nvar dummyOverrideFn = (_, defaultValueFn) => defaultValueFn();\nvar defaultComponents = {\n  Image: null,\n  Link: DefaultLinkMemo,\n  PageLink: DefaultPageLinkMemo,\n  Checkbox,\n  Callout: void 0,\n  Code: dummyComponent(\"Code\"),\n  Equation: dummyComponent(\"Equation\"),\n  Collection: dummyComponent(\"Collection\"),\n  Property: void 0,\n  propertyTextValue: dummyOverrideFn,\n  propertySelectValue: dummyOverrideFn,\n  propertyRelationValue: dummyOverrideFn,\n  propertyFormulaValue: dummyOverrideFn,\n  propertyTitleValue: dummyOverrideFn,\n  propertyPersonValue: dummyOverrideFn,\n  propertyFileValue: dummyOverrideFn,\n  propertyCheckboxValue: dummyOverrideFn,\n  propertyUrlValue: dummyOverrideFn,\n  propertyEmailValue: dummyOverrideFn,\n  propertyPhoneNumberValue: dummyOverrideFn,\n  propertyNumberValue: dummyOverrideFn,\n  propertyLastEditedTimeValue: dummyOverrideFn,\n  propertyCreatedTimeValue: dummyOverrideFn,\n  propertyDateValue: dummyOverrideFn,\n  Pdf: dummyComponent(\"Pdf\"),\n  Tweet: dummyComponent(\"Tweet\"),\n  Modal: dummyComponent(\"Modal\"),\n  Header: DefaultHeader,\n  Embed: DefaultEmbed\n};\nvar defaultNotionContext = {\n  recordMap: {\n    block: {},\n    collection: {},\n    collection_view: {},\n    collection_query: {},\n    notion_user: {},\n    signed_urls: {}\n  },\n  components: defaultComponents,\n  mapPageUrl: defaultMapPageUrl(),\n  mapImageUrl: defaultMapImageUrl,\n  searchNotion: null,\n  fullPage: false,\n  darkMode: false,\n  previewImages: false,\n  forceCustomImages: false,\n  showCollectionViewDropdown: true,\n  linkTableTitleProperties: true,\n  showTableOfContents: false,\n  minTableOfContentsItems: 3,\n  defaultPageIcon: null,\n  defaultPageCover: null,\n  defaultPageCoverPosition: 0.5,\n  zoom: null\n};\nvar ctx = react__WEBPACK_IMPORTED_MODULE_0__.createContext(defaultNotionContext);\nvar NotionContextProvider = (_a) => {\n  var _b = _a, {\n    components: themeComponents = {},\n    children,\n    mapPageUrl,\n    mapImageUrl,\n    rootPageId\n  } = _b, rest = __objRest(_b, [\n    \"components\",\n    \"children\",\n    \"mapPageUrl\",\n    \"mapImageUrl\",\n    \"rootPageId\"\n  ]);\n  for (const key of Object.keys(rest)) {\n    if (rest[key] === void 0) {\n      delete rest[key];\n    }\n  }\n  const wrappedThemeComponents = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => __spreadValues({}, themeComponents), [themeComponents]);\n  if (wrappedThemeComponents.nextImage) {\n    wrappedThemeComponents.Image = wrapNextImage(themeComponents.nextImage);\n  }\n  if (wrappedThemeComponents.nextLink) {\n    wrappedThemeComponents.nextLink = wrapNextLink(themeComponents.nextLink);\n  }\n  for (const key of Object.keys(wrappedThemeComponents)) {\n    if (!wrappedThemeComponents[key]) {\n      delete wrappedThemeComponents[key];\n    }\n  }\n  const value = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => __spreadProps(__spreadValues(__spreadValues({}, defaultNotionContext), rest), {\n    rootPageId,\n    mapPageUrl: mapPageUrl != null ? mapPageUrl : defaultMapPageUrl(rootPageId),\n    mapImageUrl: mapImageUrl != null ? mapImageUrl : defaultMapImageUrl,\n    components: __spreadValues(__spreadValues({}, defaultComponents), wrappedThemeComponents)\n  }), [mapImageUrl, mapPageUrl, wrappedThemeComponents, rootPageId, rest]);\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(ctx.Provider, {\n    value\n  }, children);\n};\nvar NotionContextConsumer = ctx.Consumer;\nvar useNotionContext = () => {\n  return react__WEBPACK_IMPORTED_MODULE_0__.useContext(ctx);\n};\n\n// src/third-party/eval-formula.ts\nvar import_format = __toESM(require_format(), 1);\nvar import_getDate = __toESM(require_getDate(), 1);\nvar import_getDay = __toESM(require_getDay(), 1);\nvar import_getHours = __toESM(require_getHours(), 1);\nvar import_getMinutes = __toESM(require_getMinutes(), 1);\nvar import_getMonth = __toESM(require_getMonth(), 1);\nvar import_getYear = __toESM(require_getYear(), 1);\nvar import_add = __toESM(require_add(), 1);\nvar import_sub = __toESM(require_sub(), 1);\nvar import_intervalToDuration = __toESM(require_intervalToDuration(), 1);\n\nfunction evalFormula(formula, context) {\n  const _a = context, { endDate } = _a, ctx2 = __objRest(_a, [\"endDate\"]);\n  switch (formula == null ? void 0 : formula.type) {\n    case \"symbol\":\n      return formula.name === \"true\";\n    case \"constant\": {\n      const value = formula.value;\n      switch (formula.result_type) {\n        case \"text\":\n          return value;\n        case \"number\":\n          return parseFloat(value);\n        default:\n          return value;\n      }\n    }\n    case \"property\": {\n      const value = ctx2.properties[formula.id];\n      const text = (0,notion_utils__WEBPACK_IMPORTED_MODULE_1__.getTextContent)(value);\n      switch (formula.result_type) {\n        case \"text\":\n          return text;\n        case \"number\":\n          return parseFloat(text);\n        case \"boolean\":\n          if (typeof text === \"string\") {\n            return text === \"true\";\n          } else {\n            return !!text;\n          }\n        case \"date\": {\n          const v = (0,notion_utils__WEBPACK_IMPORTED_MODULE_1__.getDateValue)(value);\n          if (v) {\n            if (endDate && v.end_date) {\n              const date = new Date(v.end_date);\n              return new Date(date.getUTCFullYear(), date.getUTCMonth(), date.getUTCDate());\n            } else {\n              const date = new Date(v.start_date);\n              return new Date(date.getUTCFullYear(), date.getUTCMonth(), date.getUTCDate());\n            }\n          } else {\n            return new Date(text);\n          }\n        }\n        default:\n          return text;\n      }\n    }\n    case \"operator\":\n    case \"function\":\n      return evalFunctionFormula(formula, ctx2);\n    default:\n      throw new Error(`invalid or unsupported formula \"${formula == null ? void 0 : formula.type}`);\n  }\n}\nfunction evalFunctionFormula(formula, ctx2) {\n  const args = formula == null ? void 0 : formula.args;\n  switch (formula.name) {\n    case \"and\":\n      return evalFormula(args[0], ctx2) && evalFormula(args[1], ctx2);\n    case \"empty\":\n      return !evalFormula(args[0], ctx2);\n    case \"equal\":\n      return evalFormula(args[0], ctx2) == evalFormula(args[1], ctx2);\n    case \"if\":\n      return evalFormula(args[0], ctx2) ? evalFormula(args[1], ctx2) : evalFormula(args[2], ctx2);\n    case \"larger\":\n      return evalFormula(args[0], ctx2) > evalFormula(args[1], ctx2);\n    case \"largerEq\":\n      return evalFormula(args[0], ctx2) >= evalFormula(args[1], ctx2);\n    case \"not\":\n      return !evalFormula(args[0], ctx2);\n    case \"or\":\n      return evalFormula(args[0], ctx2) || evalFormula(args[1], ctx2);\n    case \"smaller\":\n      return evalFormula(args[0], ctx2) < evalFormula(args[1], ctx2);\n    case \"smallerEq\":\n      return evalFormula(args[0], ctx2) <= evalFormula(args[1], ctx2);\n    case \"unequal\":\n      return evalFormula(args[0], ctx2) != evalFormula(args[1], ctx2);\n    case \"abs\":\n      return Math.abs(evalFormula(args[0], ctx2));\n    case \"add\": {\n      const v0 = evalFormula(args[0], ctx2);\n      const v1 = evalFormula(args[1], ctx2);\n      if (typeof v0 === \"number\") {\n        return v0 + +v1;\n      } else if (typeof v0 === \"string\") {\n        return v0 + `${v1}`;\n      } else {\n        return v0;\n      }\n    }\n    case \"cbrt\":\n      return Math.cbrt(evalFormula(args[0], ctx2));\n    case \"ceil\":\n      return Math.ceil(evalFormula(args[0], ctx2));\n    case \"divide\":\n      return evalFormula(args[0], ctx2) / evalFormula(args[1], ctx2);\n    case \"exp\":\n      return Math.exp(evalFormula(args[0], ctx2));\n    case \"floor\":\n      return Math.floor(evalFormula(args[0], ctx2));\n    case \"ln\":\n      return Math.log(evalFormula(args[0], ctx2));\n    case \"log10\":\n      return Math.log10(evalFormula(args[0], ctx2));\n    case \"log2\":\n      return Math.log2(evalFormula(args[0], ctx2));\n    case \"max\": {\n      const values = args.map((arg) => evalFormula(arg, ctx2));\n      return values.reduce((acc, value) => Math.max(acc, value), Number.NEGATIVE_INFINITY);\n    }\n    case \"min\": {\n      const values = args.map((arg) => evalFormula(arg, ctx2));\n      return values.reduce((acc, value) => Math.min(acc, value), Number.POSITIVE_INFINITY);\n    }\n    case \"mod\":\n      return evalFormula(args[0], ctx2) % evalFormula(args[1], ctx2);\n    case \"multiply\":\n      return evalFormula(args[0], ctx2) * evalFormula(args[1], ctx2);\n    case \"pow\":\n      return Math.pow(evalFormula(args[0], ctx2), evalFormula(args[1], ctx2));\n    case \"round\":\n      return Math.round(evalFormula(args[0], ctx2));\n    case \"sign\":\n      return Math.sign(evalFormula(args[0], ctx2));\n    case \"sqrt\":\n      return Math.sqrt(evalFormula(args[0], ctx2));\n    case \"subtract\":\n      return evalFormula(args[0], ctx2) - evalFormula(args[1], ctx2);\n    case \"toNumber\":\n      return parseFloat(evalFormula(args[0], ctx2));\n    case \"unaryMinus\":\n      return evalFormula(args[0], ctx2) * -1;\n    case \"unaryPlus\":\n      return parseFloat(evalFormula(args[0], ctx2));\n    case \"concat\": {\n      const values = args.map((arg) => evalFormula(arg, ctx2));\n      return values.join(\"\");\n    }\n    case \"contains\":\n      return evalFormula(args[0], ctx2).includes(evalFormula(args[1], ctx2));\n    case \"format\": {\n      const value = evalFormula(args[0], ctx2);\n      switch (typeof value) {\n        case \"string\":\n          return value;\n        case \"object\":\n          if (value instanceof Date) {\n            return (0, import_format.default)(value, \"MMM d, YYY\");\n          } else {\n            return `${value}`;\n          }\n        case \"number\":\n        default:\n          return `${value}`;\n      }\n    }\n    case \"join\": {\n      const [delimiterArg, ...restArgs] = args;\n      const delimiter = evalFormula(delimiterArg, ctx2);\n      const values = restArgs.map((arg) => evalFormula(arg, ctx2));\n      return values.join(delimiter);\n    }\n    case \"length\":\n      return evalFormula(args[0], ctx2).length;\n    case \"replace\": {\n      const value = evalFormula(args[0], ctx2);\n      const regex = evalFormula(args[1], ctx2);\n      const replacement = evalFormula(args[2], ctx2);\n      return value.replace(new RegExp(regex), replacement);\n    }\n    case \"replaceAll\": {\n      const value = evalFormula(args[0], ctx2);\n      const regex = evalFormula(args[1], ctx2);\n      const replacement = evalFormula(args[2], ctx2);\n      return value.replace(new RegExp(regex, \"g\"), replacement);\n    }\n    case \"slice\": {\n      const value = evalFormula(args[0], ctx2);\n      const beginIndex = evalFormula(args[1], ctx2);\n      const endIndex = args[2] ? evalFormula(args[2], ctx2) : value.length;\n      return value.slice(beginIndex, endIndex);\n    }\n    case \"test\": {\n      const value = evalFormula(args[0], ctx2);\n      const regex = evalFormula(args[1], ctx2);\n      return new RegExp(regex).test(value);\n    }\n    case \"date\":\n      return (0, import_getDate.default)(evalFormula(args[0], ctx2));\n    case \"dateAdd\": {\n      const date = evalFormula(args[0], ctx2);\n      const number = evalFormula(args[1], ctx2);\n      const unit = evalFormula(args[1], ctx2);\n      return (0, import_add.default)(date, { [unit]: number });\n    }\n    case \"dateBetween\": {\n      const date1 = evalFormula(args[0], ctx2);\n      const date2 = evalFormula(args[1], ctx2);\n      const unit = evalFormula(args[1], ctx2);\n      return (0, import_intervalToDuration.default)({\n        start: date2,\n        end: date1\n      })[unit];\n    }\n    case \"dateSubtract\": {\n      const date = evalFormula(args[0], ctx2);\n      const number = evalFormula(args[1], ctx2);\n      const unit = evalFormula(args[1], ctx2);\n      return (0, import_sub.default)(date, { [unit]: number });\n    }\n    case \"day\":\n      return (0, import_getDay.default)(evalFormula(args[0], ctx2));\n    case \"end\":\n      return evalFormula(args[0], __spreadProps(__spreadValues({}, ctx2), { endDate: true }));\n    case \"formatDate\": {\n      const date = evalFormula(args[0], ctx2);\n      const formatValue = evalFormula(args[1], ctx2).replace(\"dddd\", \"eeee\");\n      return (0, import_format.default)(date, formatValue);\n    }\n    case \"fromTimestamp\":\n      return new Date(evalFormula(args[0], ctx2));\n    case \"hour\":\n      return (0, import_getHours.default)(evalFormula(args[0], ctx2));\n    case \"minute\":\n      return (0, import_getMinutes.default)(evalFormula(args[0], ctx2));\n    case \"month\":\n      return (0, import_getMonth.default)(evalFormula(args[0], ctx2));\n    case \"now\":\n      return new Date();\n    case \"start\":\n      return evalFormula(args[0], __spreadProps(__spreadValues({}, ctx2), { endDate: false }));\n    case \"timestamp\":\n      return evalFormula(args[0], ctx2).getTime();\n    case \"year\":\n      return (0, import_getYear.default)(evalFormula(args[0], ctx2));\n    default:\n      throw new Error(`invalid or unsupported function formula \"${formula == null ? void 0 : formula.type}`);\n  }\n}\n\n// src/third-party/property.tsx\nvar Property = (props) => {\n  const { components } = useNotionContext();\n  if (components.Property) {\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(components.Property, __spreadValues({}, props));\n  } else {\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(PropertyImplMemo, __spreadValues({}, props));\n  }\n};\nvar PropertyImpl = (props) => {\n  const { components, mapImageUrl, mapPageUrl } = useNotionContext();\n  const {\n    schema,\n    data,\n    block,\n    collection,\n    inline = false,\n    linkToTitlePage = true\n  } = props;\n  const renderTextValue = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => function TextProperty() {\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Text, {\n      value: data,\n      block\n    });\n  }, [block, data]);\n  const renderDateValue = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => function DateProperty() {\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Text, {\n      value: data,\n      block\n    });\n  }, [block, data]);\n  const renderRelationValue = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => function RelationProperty() {\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Text, {\n      value: data,\n      block\n    });\n  }, [block, data]);\n  const renderFormulaValue = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => function FormulaProperty() {\n    let content2;\n    try {\n      let content3 = evalFormula(schema.formula, {\n        schema: collection == null ? void 0 : collection.schema,\n        properties: block == null ? void 0 : block.properties\n      });\n      if (isNaN(content3)) {\n      }\n      if (content3 instanceof Date) {\n        content3 = (0, import_format2.default)(content3, \"MMM d, YYY hh:mm aa\");\n      }\n    } catch (err) {\n      content2 = null;\n    }\n    return content2;\n  }, [block == null ? void 0 : block.properties, collection == null ? void 0 : collection.schema, schema]);\n  const renderTitleValue = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => function FormulaTitle() {\n    if (block && linkToTitlePage) {\n      return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(components.PageLink, {\n        className: cs(\"notion-page-link\"),\n        href: mapPageUrl(block.id)\n      }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(PageTitle, {\n        block\n      }));\n    } else {\n      return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Text, {\n        value: data,\n        block\n      });\n    }\n  }, [block, components, data, linkToTitlePage, mapPageUrl]);\n  const renderPersonValue = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => function PersonProperty() {\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Text, {\n      value: data,\n      block\n    });\n  }, [block, data]);\n  const renderFileValue = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => function FileProperty() {\n    const files = data.filter((v) => v.length === 2).map((f) => f.flat().flat());\n    return files.map((file, i) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(components.Link, {\n      key: i,\n      className: \"notion-property-file\",\n      href: mapImageUrl(file[2], block),\n      target: \"_blank\",\n      rel: \"noreferrer noopener\"\n    }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(GracefulImage, {\n      alt: file[0],\n      src: mapImageUrl(file[2], block),\n      loading: \"lazy\"\n    })));\n  }, [block, components, data, mapImageUrl]);\n  const renderCheckboxValue = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => function CheckboxProperty() {\n    const isChecked = data && data[0][0] === \"Yes\";\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n      className: \"notion-property-checkbox-container\"\n    }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Checkbox, {\n      isChecked,\n      blockId: void 0\n    }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n      className: \"notion-property-checkbox-text\"\n    }, schema.name));\n  }, [data, schema]);\n  const renderUrlValue = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => function UrlProperty() {\n    const d = JSON.parse(JSON.stringify(data));\n    if (inline) {\n      try {\n        const url = new URL(d[0][0]);\n        d[0][0] = url.hostname.replace(/^www\\./, \"\");\n      } catch (err) {\n      }\n    }\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Text, {\n      value: d,\n      block,\n      inline,\n      linkProps: {\n        target: \"_blank\",\n        rel: \"noreferrer noopener\"\n      }\n    });\n  }, [block, data, inline]);\n  const renderEmailValue = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => function EmailProperty() {\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Text, {\n      value: data,\n      linkProtocol: \"mailto\",\n      block\n    });\n  }, [block, data]);\n  const renderPhoneNumberValue = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => function PhoneNumberProperty() {\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Text, {\n      value: data,\n      linkProtocol: \"tel\",\n      block\n    });\n  }, [block, data]);\n  const renderNumberValue = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => function NumberProperty() {\n    const value = parseFloat(data[0][0] || \"0\");\n    let output = \"\";\n    if (isNaN(value)) {\n      return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Text, {\n        value: data,\n        block\n      });\n    } else {\n      switch (schema.number_format) {\n        case \"number_with_commas\":\n          output = (0, import_format_number.default)()(value);\n          break;\n        case \"percent\":\n          output = (0, import_format_number.default)({ suffix: \"%\" })(value * 100);\n          break;\n        case \"dollar\":\n          output = (0, import_format_number.default)({ prefix: \"$\", round: 2, padRight: 2 })(value);\n          break;\n        case \"euro\":\n          output = (0, import_format_number.default)({ prefix: \"\\u20AC\", round: 2, padRight: 2 })(value);\n          break;\n        case \"pound\":\n          output = (0, import_format_number.default)({ prefix: \"\\xA3\", round: 2, padRight: 2 })(value);\n          break;\n        case \"yen\":\n          output = (0, import_format_number.default)({ prefix: \"\\xA5\", round: 0 })(value);\n          break;\n        case \"rupee\":\n          output = (0, import_format_number.default)({ prefix: \"\\u20B9\", round: 2, padRight: 2 })(value);\n          break;\n        case \"won\":\n          output = (0, import_format_number.default)({ prefix: \"\\u20A9\", round: 0 })(value);\n          break;\n        case \"yuan\":\n          output = (0, import_format_number.default)({ prefix: \"CN\\xA5\", round: 2, padRight: 2 })(value);\n          break;\n        default:\n          return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Text, {\n            value: data,\n            block\n          });\n      }\n      return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Text, {\n        value: [[output]],\n        block\n      });\n    }\n  }, [block, data, schema]);\n  const renderCreatedTimeValue = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => function CreatedTimeProperty() {\n    return (0, import_format2.default)(new Date(block == null ? void 0 : block.created_time), \"MMM d, YYY hh:mm aa\");\n  }, [block == null ? void 0 : block.created_time]);\n  const renderLastEditedTimeValue = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => function LastEditedTimeProperty() {\n    return (0, import_format2.default)(new Date(block == null ? void 0 : block.last_edited_time), \"MMM d, YYY hh:mm aa\");\n  }, [block == null ? void 0 : block.last_edited_time]);\n  if (!schema) {\n    return null;\n  }\n  let content = null;\n  if (data || schema.type === \"checkbox\" || schema.type === \"title\" || schema.type === \"formula\" || schema.type === \"created_by\" || schema.type === \"last_edited_by\" || schema.type === \"created_time\" || schema.type === \"last_edited_time\") {\n    switch (schema.type) {\n      case \"relation\":\n        content = components.propertyRelationValue(props, renderRelationValue);\n        break;\n      case \"formula\":\n        content = components.propertyFormulaValue(props, renderFormulaValue);\n        break;\n      case \"title\":\n        content = components.propertyTitleValue(props, renderTitleValue);\n        break;\n      case \"select\":\n      case \"multi_select\": {\n        const values = (data[0][0] || \"\").split(\",\");\n        content = values.map((value, index) => {\n          var _a;\n          const option = (_a = schema.options) == null ? void 0 : _a.find((option2) => value === option2.value);\n          const color = option == null ? void 0 : option.color;\n          return components.propertySelectValue(__spreadProps(__spreadValues({}, props), {\n            key: index,\n            value,\n            option,\n            color\n          }), () => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n            key: index,\n            className: cs(`notion-property-${schema.type}-item`, color && `notion-item-${color}`)\n          }, value));\n        });\n        break;\n      }\n      case \"person\":\n        content = components.propertyPersonValue(props, renderPersonValue);\n        break;\n      case \"file\":\n        content = components.propertyFileValue(props, renderFileValue);\n        break;\n      case \"checkbox\":\n        content = components.propertyCheckboxValue(props, renderCheckboxValue);\n        break;\n      case \"url\":\n        content = components.propertyUrlValue(props, renderUrlValue);\n        break;\n      case \"email\":\n        content = components.propertyEmailValue(props, renderEmailValue);\n        break;\n      case \"phone_number\":\n        content = components.propertyPhoneNumberValue(props, renderPhoneNumberValue);\n        break;\n      case \"number\":\n        content = components.propertyNumberValue(props, renderNumberValue);\n        break;\n      case \"created_time\":\n        content = components.propertyCreatedTimeValue(props, renderCreatedTimeValue);\n        break;\n      case \"last_edited_time\":\n        content = components.propertyLastEditedTimeValue(props, renderLastEditedTimeValue);\n        break;\n      case \"created_by\":\n        break;\n      case \"last_edited_by\":\n        break;\n      case \"text\":\n        content = components.propertyTextValue(props, renderTextValue);\n        break;\n      case \"date\":\n        content = components.propertyDateValue(props, renderDateValue);\n        break;\n      default:\n        content = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Text, {\n          value: data,\n          block\n        });\n        break;\n    }\n  }\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n    className: `notion-property notion-property-${schema.type}`\n  }, content);\n};\nvar PropertyImplMemo = react__WEBPACK_IMPORTED_MODULE_0__.memo(PropertyImpl);\n\n// src/third-party/collection-row.tsx\nvar CollectionRow = ({ block, pageHeader = false, className }) => {\n  var _a, _b, _c, _d;\n  const { recordMap } = useNotionContext();\n  const collectionId = block.parent_id;\n  const collection = (_a = recordMap.collection[collectionId]) == null ? void 0 : _a.value;\n  const schemas = collection == null ? void 0 : collection.schema;\n  if (!collection || !schemas) {\n    return null;\n  }\n  let propertyIds = Object.keys(schemas).filter((id) => id !== \"title\");\n  if ((_b = collection.format) == null ? void 0 : _b.property_visibility) {\n    propertyIds = propertyIds.filter((id) => {\n      var _a2;\n      return ((_a2 = collection.format.property_visibility.find(({ property }) => property === id)) == null ? void 0 : _a2.visibility) !== \"hide\";\n    });\n  }\n  if ((_c = collection.format) == null ? void 0 : _c.collection_page_properties) {\n    const idToIndex = (_d = collection.format) == null ? void 0 : _d.collection_page_properties.reduce((acc, p, i) => __spreadProps(__spreadValues({}, acc), {\n      [p.property]: i\n    }), {});\n    propertyIds.sort((a, b) => idToIndex[a] - idToIndex[b]);\n  } else {\n    propertyIds.sort((a, b) => schemas[a].name.localeCompare(schemas[b].name));\n  }\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: cs(\"notion-collection-row\", className)\n  }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: \"notion-collection-row-body\"\n  }, propertyIds.map((propertyId) => {\n    var _a2;\n    const schema = schemas[propertyId];\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n      className: \"notion-collection-row-property\",\n      key: propertyId\n    }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(CollectionColumnTitle, {\n      schema\n    }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n      className: \"notion-collection-row-value\"\n    }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Property, {\n      schema,\n      data: (_a2 = block.properties) == null ? void 0 : _a2[propertyId],\n      propertyId,\n      block,\n      collection,\n      pageHeader\n    })));\n  })));\n};\n\n// src/icons/collection-view-table.tsx\n\nfunction SvgCollectionViewTable(props) {\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", __spreadValues({\n    viewBox: \"0 0 14 14\"\n  }, props), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n    d: \"M2 0h10a2 2 0 012 2v10a2 2 0 01-2 2H2a2 2 0 01-2-2V2a2 2 0 012-2zm3.75 5.67v2.66h6.75V5.67H5.75zm0 4.17v2.66h5.75a1 1 0 001-1V9.84H5.75zM1.5 5.67v2.66h2.75V5.67H1.5zm0 4.17v1.66a1 1 0 001 1h1.75V9.84H1.5zm1-8.34a1 1 0 00-1 1v1.66h2.75V1.5H2.5zm3.25 0v2.66h6.75V2.5a1 1 0 00-1-1H5.75z\"\n  }));\n}\nvar collection_view_table_default = SvgCollectionViewTable;\n\n// src/icons/collection-view-board.tsx\n\nfunction SvgCollectionViewBoard(props) {\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", __spreadValues({\n    viewBox: \"0 0 14 14\"\n  }, props), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n    d: \"M12 1.5H2a.5.5 0 00-.5.5v10a.5.5 0 00.5.5h10a.5.5 0 00.5-.5V2a.5.5 0 00-.5-.5zM2 0h10a2 2 0 012 2v10a2 2 0 01-2 2H2a2 2 0 01-2-2V2a2 2 0 012-2zm1 3h2v6H3V3zm3 0h2v8H6V3zm3 0h2v4H9V3z\"\n  }));\n}\nvar collection_view_board_default = SvgCollectionViewBoard;\n\n// src/icons/collection-view-gallery.tsx\n\nfunction SvgCollectionViewGallery(props) {\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", __spreadValues({\n    viewBox: \"0 0 14 14\"\n  }, props), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n    d: \"M12 1.5H2a.5.5 0 00-.5.5v10a.5.5 0 00.5.5h10a.5.5 0 00.5-.5V2a.5.5 0 00-.5-.5zM2 0h10a2 2 0 012 2v10a2 2 0 01-2 2H2a2 2 0 01-2-2V2a2 2 0 012-2zm1 3h3.5v3.5H3V3zm4.5 0H11v3.5H7.5V3zM3 7.5h3.5V11H3V7.5zm4.5 0H11V11H7.5V7.5z\"\n  }));\n}\nvar collection_view_gallery_default = SvgCollectionViewGallery;\n\n// src/icons/collection-view-list.tsx\n\nfunction SvgCollectionViewList(props) {\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", __spreadValues({\n    viewBox: \"0 0 14 14\"\n  }, props), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n    d: \"M12 1.5H2a.5.5 0 00-.5.5v10a.5.5 0 00.5.5h10a.5.5 0 00.5-.5V2a.5.5 0 00-.5-.5zM2 0h10a2 2 0 012 2v10a2 2 0 01-2 2H2a2 2 0 01-2-2V2a2 2 0 012-2zm1 3h6v1.5H3V3zm0 2.5h8V7H3V5.5zM3 8h4v1.5H3V8z\"\n  }));\n}\nvar collection_view_list_default = SvgCollectionViewList;\n\n// src/icons/collection-view-calendar.tsx\n\nfunction SvgCollectionViewCalendar(props) {\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", __spreadValues({\n    viewBox: \"0 0 14 14\"\n  }, props), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n    d: \"M2.564 4.004c-.586 0-.71.024-.833.09a.319.319 0 00-.141.14c-.066.124-.09.247-.09.834v6.368c0 .586.024.71.09.833a.319.319 0 00.14.141c.124.066.248.09.834.09h8.872c.586 0 .71-.024.833-.09a.319.319 0 00.141-.14c.066-.124.09-.248.09-.834V5.068c0-.587-.024-.71-.09-.834a.319.319 0 00-.14-.14c-.124-.066-.248-.09-.834-.09H2.564zm0-4.004h8.872c.892 0 1.215.093 1.54.267.327.174.583.43.757.756.174.326.267.65.267 1.54v8.873c0 .892-.093 1.215-.267 1.54-.174.327-.43.583-.756.757-.326.174-.65.267-1.54.267H2.563c-.892 0-1.215-.093-1.54-.267a1.817 1.817 0 01-.757-.756C.093 12.65 0 12.327 0 11.437V2.563c0-.892.093-1.215.267-1.54.174-.327.43-.583.756-.757C1.35.093 1.673 0 2.563 0zm4.044 7.88c.179.11.318.256.418.436.1.18.148.394.148.64 0 .304-.08.597-.238.876-.16.28-.392.498-.692.65-.299.15-.685.224-1.16.224-.46 0-.827-.055-1.1-.166a1.687 1.687 0 01-.68-.492 2.227 2.227 0 01-.404-.802l.083-.127 1.37-.182.112.08c.05.258.126.431.221.52a.507.507 0 00.364.133.495.495 0 00.386-.169c.105-.115.158-.27.158-.472 0-.205-.051-.358-.15-.463a.527.527 0 00-.407-.157 1.65 1.65 0 00-.417.077l-.127-.104.07-.98.115-.091c.072.01.127.015.164.015.154 0 .28-.047.38-.144.1-.096.15-.205.15-.335a.388.388 0 00-.106-.29c-.07-.07-.168-.105-.3-.105a.444.444 0 00-.324.118c-.083.08-.143.232-.176.457l-.117.084-1.297-.233-.079-.123c.114-.435.334-.772.66-1.006.326-.234.78-.349 1.36-.349.666 0 1.153.126 1.462.384.31.259.467.589.467.982 0 .233-.064.446-.192.636a1.43 1.43 0 01-.37.365c.1.034.182.072.248.113zm1.747-.145a5.186 5.186 0 01-.806.31l-.129-.097V6.824l.07-.096c.455-.147.807-.322 1.055-.524.246-.202.439-.45.579-.747l.09-.057h1.135l.1.1v5.021l-.1.1H8.961l-.1-.1V7.428a4.053 4.053 0 01-.506.307z\"\n  }));\n}\nvar collection_view_calendar_default = SvgCollectionViewCalendar;\n\n// src/icons/collection-view-icon.tsx\nvar iconMap2 = {\n  table: collection_view_table_default,\n  board: collection_view_board_default,\n  gallery: collection_view_gallery_default,\n  list: collection_view_list_default,\n  calendar: collection_view_calendar_default\n};\nvar CollectionViewIcon = (_a) => {\n  var _b = _a, {\n    type\n  } = _b, rest = __objRest(_b, [\n    \"type\"\n  ]);\n  const icon = iconMap2[type];\n  if (!icon) {\n    return null;\n  }\n  return icon(rest);\n};\n\n// src/icons/chevron-down-icon.tsx\n\nvar ChevronDownIcon = (props) => {\n  const _a = props, { className } = _a, rest = __objRest(_a, [\"className\"]);\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", __spreadProps(__spreadValues({\n    className\n  }, rest), {\n    viewBox: \"0 0 30 30\",\n    width: \"10\"\n  }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"polygon\", {\n    points: \"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"\n  }));\n};\n\n// src/third-party/collection-view.tsx\n\n\n// src/third-party/collection-view-table.tsx\n\n\n// src/third-party/collection-group.tsx\n\nvar CollectionGroup = (_a) => {\n  var _b = _a, {\n    collectionViewComponent: CollectionViewComponent,\n    collection,\n    collectionGroup,\n    schema,\n    value,\n    hidden,\n    summaryProps,\n    detailsProps\n  } = _b, rest = __objRest(_b, [\n    \"collectionViewComponent\",\n    \"collection\",\n    \"collectionGroup\",\n    \"schema\",\n    \"value\",\n    \"hidden\",\n    \"summaryProps\",\n    \"detailsProps\"\n  ]);\n  if (hidden)\n    return null;\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"details\", __spreadValues({\n    open: true,\n    className: \"notion-collection-group\"\n  }, detailsProps), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"summary\", __spreadValues({\n    className: \"notion-collection-group-title\"\n  }, summaryProps), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Property, {\n    schema,\n    data: [[value]],\n    collection\n  }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n    className: \"notion-board-th-count\"\n  }, collectionGroup == null ? void 0 : collectionGroup.total))), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(CollectionViewComponent, __spreadValues({\n    collection,\n    collectionGroup\n  }, rest)));\n};\n\n// src/third-party/collection-utils.ts\nvar import_format3 = __toESM(require_format(), 1);\nfunction getCollectionGroups(collection, collectionView, collectionData, ...rest) {\n  var _a;\n  const elems = ((_a = collectionView == null ? void 0 : collectionView.format) == null ? void 0 : _a.collection_groups) || [];\n  return elems == null ? void 0 : elems.map(({ property, hidden, value: { value, type } }) => {\n    var _a2, _b;\n    const isUncategorizedValue = typeof value === \"undefined\";\n    const isDateValue = value == null ? void 0 : value.range;\n    const queryLabel = isUncategorizedValue ? \"uncategorized\" : isDateValue ? ((_a2 = value.range) == null ? void 0 : _a2.start_date) || ((_b = value.range) == null ? void 0 : _b.end_date) : (value == null ? void 0 : value.value) || value;\n    const collectionGroup = collectionData[`results:${type}:${queryLabel}`];\n    let queryValue = !isUncategorizedValue && (isDateValue || (value == null ? void 0 : value.value) || value);\n    let schema = collection.schema[property];\n    if (type === \"checkbox\" && value) {\n      queryValue = \"Yes\";\n    }\n    if (isDateValue) {\n      schema = {\n        type: \"text\",\n        name: \"text\"\n      };\n      queryValue = (0, import_format3.default)(new Date(queryLabel), \"MMM d, YYY hh:mm aa\");\n    }\n    return __spreadValues({\n      collectionGroup,\n      schema,\n      value: queryValue || \"No description\",\n      hidden,\n      collection,\n      collectionView,\n      collectionData,\n      blockIds: collectionGroup == null ? void 0 : collectionGroup.blockIds\n    }, rest);\n  });\n}\n\n// src/third-party/collection-view-table.tsx\nvar defaultBlockIds = [];\nvar CollectionViewTable = ({\n  collection,\n  collectionView,\n  collectionData,\n  padding,\n  width\n}) => {\n  var _a, _b, _c;\n  const isGroupedCollection = (_a = collectionView == null ? void 0 : collectionView.format) == null ? void 0 : _a.collection_group_by;\n  if (isGroupedCollection) {\n    const collectionGroups = getCollectionGroups(collection, collectionView, collectionData, padding, width);\n    return collectionGroups.map((group, index) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(CollectionGroup, __spreadProps(__spreadValues({\n      key: index\n    }, group), {\n      collectionViewComponent: (props) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Table, __spreadProps(__spreadValues({}, props), {\n        padding,\n        width\n      })),\n      summaryProps: {\n        style: {\n          paddingLeft: padding,\n          paddingRight: padding\n        }\n      }\n    })));\n  }\n  const blockIds = ((_c = (_b = collectionData[\"collection_group_results\"]) == null ? void 0 : _b.blockIds) != null ? _c : collectionData.blockIds) || defaultBlockIds;\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Table, {\n    blockIds,\n    collection,\n    collectionView,\n    padding,\n    width\n  });\n};\nfunction Table({ blockIds = [], collection, collectionView, width, padding }) {\n  var _a;\n  const { recordMap, linkTableTitleProperties } = useNotionContext();\n  const tableStyle = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => ({\n    width,\n    maxWidth: width\n  }), [width]);\n  const tableViewStyle = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => ({\n    paddingLeft: padding,\n    paddingRight: padding\n  }), [padding]);\n  let properties = [];\n  if ((_a = collectionView.format) == null ? void 0 : _a.table_properties) {\n    properties = collectionView.format.table_properties.filter((p) => p.visible && collection.schema[p.property]);\n  } else {\n    properties = [{ property: \"title\" }].concat(Object.keys(collection.schema).filter((p) => p !== \"title\").map((property) => ({ property })));\n  }\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: \"notion-table\",\n    style: tableStyle\n  }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: \"notion-table-view\",\n    style: tableViewStyle\n  }, !!properties.length && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: \"notion-table-header\"\n  }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: \"notion-table-header-inner\"\n  }, properties.map((p) => {\n    var _a2;\n    const schema = (_a2 = collection.schema) == null ? void 0 : _a2[p.property];\n    const isTitle = p.property === \"title\";\n    const style = {};\n    if (p.width) {\n      style.width = p.width;\n    } else if (isTitle) {\n      style.width = 280;\n    } else {\n      style.width = 200;\n    }\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n      className: \"notion-table-th\",\n      key: p.property\n    }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n      className: \"notion-table-view-header-cell\",\n      style\n    }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n      className: \"notion-table-view-header-cell-inner\"\n    }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(CollectionColumnTitle, {\n      schema\n    }))));\n  }))), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: \"notion-table-header-placeholder\"\n  }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: \"notion-table-body\"\n  }, blockIds == null ? void 0 : blockIds.map((blockId) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: \"notion-table-row\",\n    key: blockId\n  }, properties.map((p) => {\n    var _a2, _b, _c;\n    const schema = (_a2 = collection.schema) == null ? void 0 : _a2[p.property];\n    const block = (_b = recordMap.block[blockId]) == null ? void 0 : _b.value;\n    const data = (_c = block == null ? void 0 : block.properties) == null ? void 0 : _c[p.property];\n    const isTitle = p.property === \"title\";\n    const style = {};\n    if (p.width) {\n      style.width = p.width;\n    } else if (isTitle) {\n      style.width = 280;\n    } else {\n      style.width = 200;\n    }\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n      key: p.property,\n      className: cs(\"notion-table-cell\", `notion-table-cell-${schema.type}`),\n      style\n    }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Property, {\n      schema,\n      data,\n      block,\n      collection,\n      linkToTitlePage: linkTableTitleProperties\n    }));\n  })))))));\n}\n\n// src/third-party/collection-view-gallery.tsx\n\n\n// src/third-party/collection-card.tsx\n\n\nvar CollectionCard = (_a) => {\n  var _b = _a, {\n    collection,\n    block,\n    cover,\n    coverSize,\n    coverAspect,\n    properties,\n    className\n  } = _b, rest = __objRest(_b, [\n    \"collection\",\n    \"block\",\n    \"cover\",\n    \"coverSize\",\n    \"coverAspect\",\n    \"properties\",\n    \"className\"\n  ]);\n  var _a2, _b2, _c, _d, _e, _f, _g, _h, _i, _j, _k, _l, _m;\n  const ctx2 = useNotionContext();\n  const { components, recordMap, mapPageUrl, mapImageUrl } = ctx2;\n  let coverContent = null;\n  const { page_cover_position = 0.5 } = block.format || {};\n  const coverPosition = (1 - page_cover_position) * 100;\n  if ((cover == null ? void 0 : cover.type) === \"page_content\") {\n    const contentBlockId = (_a2 = block.content) == null ? void 0 : _a2.find((blockId) => {\n      var _a3;\n      const block2 = (_a3 = recordMap.block[blockId]) == null ? void 0 : _a3.value;\n      if ((block2 == null ? void 0 : block2.type) === \"image\") {\n        return true;\n      }\n    });\n    if (contentBlockId) {\n      const contentBlock = (_b2 = recordMap.block[contentBlockId]) == null ? void 0 : _b2.value;\n      const source = (_g = (_e = (_d = (_c = contentBlock.properties) == null ? void 0 : _c.source) == null ? void 0 : _d[0]) == null ? void 0 : _e[0]) != null ? _g : (_f = contentBlock.format) == null ? void 0 : _f.display_source;\n      if (source) {\n        const src = mapImageUrl(source, contentBlock);\n        const caption = (_j = (_i = (_h = contentBlock.properties) == null ? void 0 : _h.caption) == null ? void 0 : _i[0]) == null ? void 0 : _j[0];\n        coverContent = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(LazyImage, {\n          src,\n          alt: caption || \"notion image\",\n          style: {\n            objectFit: coverAspect\n          }\n        });\n      }\n    }\n    if (!coverContent) {\n      coverContent = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        className: \"notion-collection-card-cover-empty\"\n      });\n    }\n  } else if ((cover == null ? void 0 : cover.type) === \"page_cover\") {\n    const { page_cover } = block.format || {};\n    if (page_cover) {\n      const coverPosition2 = (1 - page_cover_position) * 100;\n      coverContent = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(LazyImage, {\n        src: mapImageUrl(page_cover, block),\n        alt: (0,notion_utils__WEBPACK_IMPORTED_MODULE_1__.getTextContent)((_k = block.properties) == null ? void 0 : _k.title),\n        style: {\n          objectFit: coverAspect,\n          objectPosition: `center ${coverPosition2}%`\n        }\n      });\n    }\n  } else if ((cover == null ? void 0 : cover.type) === \"property\") {\n    const { property } = cover;\n    const schema = collection.schema[property];\n    const data = (_l = block.properties) == null ? void 0 : _l[property];\n    if (schema && data) {\n      if (schema.type === \"file\") {\n        const files = data.filter((v) => v.length === 2).map((f) => f.flat().flat());\n        const file = files[0];\n        if (file) {\n          coverContent = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n            className: `notion-property-${schema.type}`\n          }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(LazyImage, {\n            alt: file[0],\n            src: mapImageUrl(file[2], block),\n            style: {\n              objectFit: coverAspect,\n              objectPosition: `center ${coverPosition}%`\n            }\n          }));\n        }\n      } else {\n        coverContent = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Property, {\n          propertyId: property,\n          schema,\n          data\n        });\n      }\n    }\n  }\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(NotionContextProvider, __spreadProps(__spreadValues({}, ctx2), {\n    components: __spreadProps(__spreadValues({}, ctx2.components), {\n      Link: dummyLink,\n      PageLink: dummyLink\n    })\n  }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(components.PageLink, __spreadValues({\n    className: cs(\"notion-collection-card\", `notion-collection-card-size-${coverSize}`, className),\n    href: mapPageUrl(block.id)\n  }, rest), (coverContent || (cover == null ? void 0 : cover.type) !== \"none\") && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: \"notion-collection-card-cover\"\n  }, coverContent), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: \"notion-collection-card-body\"\n  }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: \"notion-collection-card-property\"\n  }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Property, {\n    schema: collection.schema.title,\n    data: (_m = block == null ? void 0 : block.properties) == null ? void 0 : _m.title,\n    block,\n    collection\n  })), properties == null ? void 0 : properties.filter((p) => p.visible && p.property !== \"title\" && collection.schema[p.property]).map((p) => {\n    if (!block.properties)\n      return null;\n    const schema = collection.schema[p.property];\n    const data = block.properties[p.property];\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n      className: \"notion-collection-card-property\",\n      key: p.property\n    }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Property, {\n      schema,\n      data,\n      block,\n      collection,\n      inline: true\n    }));\n  }))));\n};\n\n// src/third-party/collection-view-gallery.tsx\nvar defaultBlockIds2 = [];\nvar CollectionViewGallery = ({\n  collection,\n  collectionView,\n  collectionData\n}) => {\n  var _a, _b, _c;\n  const isGroupedCollection = (_a = collectionView == null ? void 0 : collectionView.format) == null ? void 0 : _a.collection_group_by;\n  if (isGroupedCollection) {\n    const collectionGroups = getCollectionGroups(collection, collectionView, collectionData);\n    return collectionGroups.map((group, index) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(CollectionGroup, __spreadProps(__spreadValues({\n      key: index\n    }, group), {\n      collectionViewComponent: Gallery\n    })));\n  }\n  const blockIds = ((_c = (_b = collectionData[\"collection_group_results\"]) == null ? void 0 : _b.blockIds) != null ? _c : collectionData.blockIds) || defaultBlockIds2;\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Gallery, {\n    collectionView,\n    collection,\n    blockIds\n  });\n};\nfunction Gallery({ blockIds, collectionView, collection }) {\n  const { recordMap } = useNotionContext();\n  const {\n    gallery_cover = { type: \"none\" },\n    gallery_cover_size = \"medium\",\n    gallery_cover_aspect = \"cover\"\n  } = collectionView.format || {};\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: \"notion-gallery\"\n  }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: \"notion-gallery-view\"\n  }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: cs(\"notion-gallery-grid\", `notion-gallery-grid-size-${gallery_cover_size}`)\n  }, blockIds == null ? void 0 : blockIds.map((blockId) => {\n    var _a, _b;\n    const block = (_a = recordMap.block[blockId]) == null ? void 0 : _a.value;\n    if (!block)\n      return null;\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(CollectionCard, {\n      collection,\n      block,\n      cover: gallery_cover,\n      coverSize: gallery_cover_size,\n      coverAspect: gallery_cover_aspect,\n      properties: (_b = collectionView.format) == null ? void 0 : _b.gallery_properties,\n      key: blockId\n    });\n  }))));\n}\n\n// src/third-party/collection-view-list.tsx\n\nvar defaultBlockIds3 = [];\nvar CollectionViewList = ({\n  collection,\n  collectionView,\n  collectionData\n}) => {\n  var _a, _b, _c;\n  const isGroupedCollection = (_a = collectionView == null ? void 0 : collectionView.format) == null ? void 0 : _a.collection_group_by;\n  if (isGroupedCollection) {\n    const collectionGroups = getCollectionGroups(collection, collectionView, collectionData);\n    return collectionGroups.map((group, key) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(CollectionGroup, __spreadProps(__spreadValues({\n      key\n    }, group), {\n      collectionViewComponent: List\n    })));\n  }\n  const blockIds = ((_c = (_b = collectionData[\"collection_group_results\"]) == null ? void 0 : _b.blockIds) != null ? _c : collectionData.blockIds) || defaultBlockIds3;\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(List, {\n    blockIds,\n    collection,\n    collectionView\n  });\n};\nfunction List({ blockIds, collection, collectionView }) {\n  const { components, recordMap, mapPageUrl } = useNotionContext();\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: \"notion-list-collection\"\n  }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: \"notion-list-view\"\n  }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: \"notion-list-body\"\n  }, blockIds == null ? void 0 : blockIds.map((blockId) => {\n    var _a, _b, _c, _d;\n    const block = (_a = recordMap.block[blockId]) == null ? void 0 : _a.value;\n    if (!block)\n      return null;\n    const titleSchema = collection.schema.title;\n    const titleData = (_b = block == null ? void 0 : block.properties) == null ? void 0 : _b.title;\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(components.PageLink, {\n      className: \"notion-list-item notion-page-link\",\n      href: mapPageUrl(block.id),\n      key: blockId\n    }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n      className: \"notion-list-item-title\"\n    }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Property, {\n      schema: titleSchema,\n      data: titleData,\n      block,\n      collection\n    })), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n      className: \"notion-list-item-body\"\n    }, (_d = (_c = collectionView.format) == null ? void 0 : _c.list_properties) == null ? void 0 : _d.filter((p) => p.visible).map((p) => {\n      var _a2;\n      const schema = collection.schema[p.property];\n      const data = block && ((_a2 = block.properties) == null ? void 0 : _a2[p.property]);\n      if (!schema) {\n        return null;\n      }\n      return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        className: \"notion-list-item-property\",\n        key: p.property\n      }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Property, {\n        schema,\n        data,\n        block,\n        collection\n      }));\n    })));\n  }))));\n}\n\n// src/third-party/collection-view-board.tsx\n\n\n// src/icons/empty-icon.tsx\n\nvar EmptyIcon = (props) => {\n  const _a = props, { className } = _a, rest = __objRest(_a, [\"className\"]);\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", __spreadProps(__spreadValues({\n    className\n  }, rest), {\n    viewBox: \"0 0 14 14\",\n    width: \"14\"\n  }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n    d: \"M11.0918,0 C11.5383,0 11.9307,0.295898 12.0533,0.725586 L13.9615,7.40332 C13.9871,7.49316 14,7.58594 14,7.67871 L14,13 C14,13.5527 13.5522,14 13,14 L1,14 C0.447754,14 0,13.5527 0,13 L0,7.67871 C0,7.58594 0.0129395,7.49316 0.0384521,7.40332 L1.94666,0.725586 C2.06934,0.295898 2.46167,0 2.9082,0 L11.0918,0 Z M4.27271,1.5 C3.83728,1.5 3.45178,1.78223 3.31982,2.19727 L1.91455,6.61328 C1.70947,7.25879 2.1908,7.91699 2.86755,7.91699 L4.70837,7.91699 C4.70837,8.93652 5.16663,10.168 7,10.168 C8.83337,10.168 9.29163,8.93652 9.29163,7.91699 L11.1478,7.89355 C11.8201,7.88477 12.2927,7.22852 12.0876,6.58887 L10.681,2.19531 C10.5485,1.78125 10.1635,1.5 9.72864,1.5 L4.27271,1.5 Z\"\n  }));\n};\n\n// src/third-party/collection-view-board.tsx\nvar CollectionViewBoard = ({\n  collection,\n  collectionView,\n  collectionData,\n  padding\n}) => {\n  var _a;\n  const isGroupedCollection = (_a = collectionView == null ? void 0 : collectionView.format) == null ? void 0 : _a.collection_group_by;\n  if (isGroupedCollection) {\n    const collectionGroups = getCollectionGroups(collection, collectionView, collectionData, padding);\n    return collectionGroups.map((group, index) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(CollectionGroup, __spreadProps(__spreadValues({\n      key: index\n    }, group), {\n      summaryProps: {\n        style: {\n          paddingLeft: padding\n        }\n      },\n      collectionViewComponent: (props) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Board, __spreadValues({\n        padding\n      }, props))\n    })));\n  }\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Board, {\n    padding,\n    collectionView,\n    collection,\n    collectionData\n  });\n};\nfunction Board({ collectionView, collectionData, collection, padding }) {\n  var _a, _b;\n  const { recordMap } = useNotionContext();\n  const {\n    board_cover = { type: \"none\" },\n    board_cover_size = \"medium\",\n    board_cover_aspect = \"cover\"\n  } = (collectionView == null ? void 0 : collectionView.format) || {};\n  const boardGroups = ((_a = collectionView == null ? void 0 : collectionView.format) == null ? void 0 : _a.board_columns) || ((_b = collectionView == null ? void 0 : collectionView.format) == null ? void 0 : _b.board_groups2) || [];\n  const boardStyle = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => ({\n    paddingLeft: padding\n  }), [padding]);\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: \"notion-board\"\n  }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: cs(\"notion-board-view\", `notion-board-view-size-${board_cover_size}`),\n    style: boardStyle\n  }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: \"notion-board-header\"\n  }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: \"notion-board-header-inner\"\n  }, boardGroups.map((p, index) => {\n    var _a2, _b2, _c;\n    if (!((_a2 = collectionData.board_columns) == null ? void 0 : _a2.results)) {\n      return null;\n    }\n    const group = collectionData.board_columns.results[index];\n    const schema = collection.schema[p.property];\n    if (!group || !schema || p.hidden) {\n      return null;\n    }\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n      className: \"notion-board-th\",\n      key: index\n    }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n      className: \"notion-board-th-body\"\n    }, ((_b2 = group.value) == null ? void 0 : _b2.value) ? /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Property, {\n      schema,\n      data: [[(_c = group.value) == null ? void 0 : _c.value]],\n      collection\n    }) : /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(EmptyIcon, {\n      className: \"notion-board-th-empty\"\n    }), \" No Select\"), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n      className: \"notion-board-th-count\"\n    }, group.total)));\n  }))), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: \"notion-board-header-placeholder\"\n  }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: \"notion-board-body\"\n  }, boardGroups.map((p, index) => {\n    var _a2, _b2, _c;\n    if (!((_a2 = collectionData.board_columns) == null ? void 0 : _a2.results)) {\n      return null;\n    }\n    const schema = collection.schema[p.property];\n    const group = collectionData[`results:select:${((_b2 = p == null ? void 0 : p.value) == null ? void 0 : _b2.value) || \"uncategorized\"}`];\n    if (!group || !schema || p.hidden) {\n      return null;\n    }\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n      className: \"notion-board-group\",\n      key: index\n    }, (_c = group.blockIds) == null ? void 0 : _c.map((blockId) => {\n      var _a3, _b3;\n      const block = (_a3 = recordMap.block[blockId]) == null ? void 0 : _a3.value;\n      if (!block)\n        return null;\n      return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(CollectionCard, {\n        className: \"notion-board-group-card\",\n        collection,\n        block,\n        cover: board_cover,\n        coverSize: board_cover_size,\n        coverAspect: board_cover_aspect,\n        properties: (_b3 = collectionView.format) == null ? void 0 : _b3.board_properties,\n        key: blockId\n      });\n    }));\n  }))));\n}\n\n// src/third-party/collection-view.tsx\nvar CollectionViewImpl = (props) => {\n  const { collectionView } = props;\n  switch (collectionView.type) {\n    case \"table\":\n      return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(CollectionViewTable, __spreadValues({}, props));\n    case \"gallery\":\n      return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(CollectionViewGallery, __spreadValues({}, props));\n    case \"list\":\n      return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(CollectionViewList, __spreadValues({}, props));\n    case \"board\":\n      return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(CollectionViewBoard, __spreadValues({}, props));\n    default:\n      console.warn(\"unsupported collection view\", collectionView);\n      return null;\n  }\n};\nvar CollectionView = react__WEBPACK_IMPORTED_MODULE_0__.memo(CollectionViewImpl);\n\n// src/third-party/collection.tsx\nvar isServer2 = typeof window === \"undefined\";\nvar Collection = ({ block, className, ctx: ctx2 }) => {\n  const context = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => __spreadValues({}, ctx2), [ctx2]);\n  if (block.type === \"page\") {\n    if (block.parent_table !== \"collection\") {\n      return null;\n    }\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(NotionContextProvider, __spreadValues({}, context), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n      className: \"notion-collection-page-properties\"\n    }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(CollectionRow, {\n      block,\n      pageHeader: true,\n      className\n    })));\n  } else {\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(NotionContextProvider, __spreadValues({}, context), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(CollectionViewBlock, {\n      block,\n      className\n    }));\n  }\n};\nvar CollectionViewBlock = ({ block, className }) => {\n  var _a, _b, _c;\n  const { recordMap, showCollectionViewDropdown } = useNotionContext();\n  const { view_ids: viewIds } = block;\n  const collectionId = (0,notion_utils__WEBPACK_IMPORTED_MODULE_1__.getBlockCollectionId)(block, recordMap);\n  const [isMounted, setIsMounted] = react__WEBPACK_IMPORTED_MODULE_0__.useState(false);\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    setIsMounted(true);\n  }, []);\n  const defaultCollectionViewId = viewIds[0];\n  const [collectionState, setCollectionState] = (0,react_use__WEBPACK_IMPORTED_MODULE_2__.useLocalStorage)(block.id, {\n    collectionViewId: defaultCollectionViewId\n  });\n  const collectionViewId = isMounted && viewIds.find((id) => id === collectionState.collectionViewId) || defaultCollectionViewId;\n  const onChangeView = react__WEBPACK_IMPORTED_MODULE_0__.useCallback((collectionViewId2) => {\n    console.log(\"change collection view\", collectionViewId2);\n    setCollectionState(__spreadProps(__spreadValues({}, collectionState), {\n      collectionViewId: collectionViewId2\n    }));\n  }, [collectionState, setCollectionState]);\n  let { width: windowWidth } = (0,react_use__WEBPACK_IMPORTED_MODULE_2__.useWindowSize)();\n  if (isServer2) {\n    windowWidth = 1024;\n  }\n  const collection = (_a = recordMap.collection[collectionId]) == null ? void 0 : _a.value;\n  const collectionView = (_b = recordMap.collection_view[collectionViewId]) == null ? void 0 : _b.value;\n  const collectionData = (_c = recordMap.collection_query[collectionId]) == null ? void 0 : _c[collectionViewId];\n  const parentPage = (0,notion_utils__WEBPACK_IMPORTED_MODULE_1__.getBlockParentPage)(block, recordMap);\n  const { style, width, padding } = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => {\n    var _a2;\n    const style2 = {};\n    if ((collectionView == null ? void 0 : collectionView.type) !== \"table\" && (collectionView == null ? void 0 : collectionView.type) !== \"board\") {\n      return {\n        style: style2,\n        width: 0,\n        padding: 0\n      };\n    }\n    const width2 = windowWidth;\n    const maxNotionBodyWidth = 708;\n    let notionBodyWidth = maxNotionBodyWidth;\n    if ((_a2 = parentPage == null ? void 0 : parentPage.format) == null ? void 0 : _a2.page_full_width) {\n      notionBodyWidth = width2 - 2 * Math.min(96, width2 * 0.08) | 0;\n    } else {\n      notionBodyWidth = width2 < maxNotionBodyWidth ? width2 - width2 * 0.02 | 0 : maxNotionBodyWidth;\n    }\n    const padding2 = isServer2 && !isMounted ? 96 : (width2 - notionBodyWidth) / 2 | 0;\n    style2.paddingLeft = padding2;\n    style2.paddingRight = padding2;\n    return {\n      style: style2,\n      width: width2,\n      padding: padding2\n    };\n  }, [windowWidth, parentPage, collectionView == null ? void 0 : collectionView.type, isMounted]);\n  if (!(collection && collectionView && collectionData)) {\n    console.warn(\"skipping missing collection view for block\", block.id, {\n      collectionId,\n      collectionViewId,\n      collectionView,\n      collectionData,\n      recordMap\n    });\n    return null;\n  }\n  const title = (0,notion_utils__WEBPACK_IMPORTED_MODULE_1__.getTextContent)(collection.name).trim();\n  if (collection.icon) {\n    block.format = __spreadProps(__spreadValues({}, block.format), {\n      page_icon: collection.icon\n    });\n  }\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: cs(\"notion-collection\", className)\n  }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: \"notion-collection-header\",\n    style\n  }, title && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: \"notion-collection-header-title\"\n  }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(PageIcon, {\n    block,\n    className: \"notion-page-title-icon\",\n    hideDefaultIcon: true\n  }), title), viewIds.length > 1 && showCollectionViewDropdown && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(CollectionViewDropdownMenu, {\n    collectionView,\n    collectionViewId,\n    viewIds,\n    onChangeView\n  })), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(CollectionView, {\n    collection,\n    collectionView,\n    collectionData,\n    padding,\n    width\n  }));\n};\nvar CollectionViewDropdownMenu = ({ collectionViewId, collectionView, viewIds, onChangeView }) => {\n  const { recordMap } = useNotionContext();\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_radix_ui_react_dropdown_menu__WEBPACK_IMPORTED_MODULE_3__.Root, null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_radix_ui_react_dropdown_menu__WEBPACK_IMPORTED_MODULE_3__.Trigger, {\n    className: \"notion-collection-view-dropdown\"\n  }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(CollectionViewColumnDesc, {\n    collectionView\n  }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(ChevronDownIcon, {\n    className: \"notion-collection-view-dropdown-icon\"\n  }))), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_radix_ui_react_dropdown_menu__WEBPACK_IMPORTED_MODULE_3__.Content, {\n    className: \"notion-collection-view-dropdown-content\"\n  }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_radix_ui_react_dropdown_menu__WEBPACK_IMPORTED_MODULE_3__.RadioGroup, {\n    value: collectionViewId,\n    onValueChange: onChangeView\n  }, viewIds.map((viewId) => {\n    var _a;\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_radix_ui_react_dropdown_menu__WEBPACK_IMPORTED_MODULE_3__.RadioItem, {\n      key: viewId,\n      value: viewId,\n      className: cs(\"notion-collection-view-dropdown-content-item\", collectionViewId === viewId && \"notion-collection-view-dropdown-content-item-active\")\n    }, collectionViewId === viewId && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n      className: \"notion-collection-view-dropdown-content-item-active-icon\"\n    }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(check_default, null)), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(CollectionViewColumnDesc, {\n      collectionView: (_a = recordMap.collection_view[viewId]) == null ? void 0 : _a.value\n    }));\n  }))));\n};\nvar CollectionViewColumnDesc = (_a) => {\n  var _b = _a, { collectionView, className, children } = _b, rest = __objRest(_b, [\"collectionView\", \"className\", \"children\"]);\n  const { type } = collectionView;\n  const name = collectionView.name || `${type[0].toUpperCase()}${type.slice(1)} view`;\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", __spreadValues({\n    className: cs(\"notion-collection-view-type\", className)\n  }, rest), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(CollectionViewIcon, {\n    className: \"notion-collection-view-type-icon\",\n    type\n  }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n    className: \"notion-collection-view-type-title\"\n  }, name), children);\n};\n\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3Qtbm90aW9uLXgvYnVpbGQvdGhpcmQtcGFydHkvY29sbGVjdGlvbi5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4RUFBOEUsNkRBQTZEO0FBQzNJO0FBQ0EsK0JBQStCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyREFBMkQsYUFBYTtBQUN4RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLDRGQUE0RjtBQUN6SDtBQUNBO0FBQ0E7QUFDQSxtR0FBbUcscUZBQXFGLDhCQUE4QjtBQUN0TjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsOEJBQThCO0FBQ3hEO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBLFVBQVU7QUFDVjtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsRUFBRTtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsRUFBRTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNB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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixvQkFBb0I7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQSxVQUFVO0FBQ1Y7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQSx1Q0FBdUMsTUFBTSwwREFBMEQsTUFBTTtBQUM3RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4SUFBOEk7QUFDOUksUUFBUTtBQUNSLDBJQUEwSTtBQUMxSSxRQUFRO0FBQ1Isb0pBQW9KO0FBQ3BKLFFBQVE7QUFDUixzSkFBc0o7QUFDdEo7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDaUM7QUFLWDtBQUNxQztBQUNHOztBQUU5RDtBQUNpQzs7QUFFakM7QUFDaUM7O0FBRWpDO0FBQytCO0FBQy9CO0FBQ0EseUJBQXlCLGdEQUFtQjtBQUM1QztBQUNBLEdBQUcsMEJBQTBCLGdEQUFtQjtBQUNoRDtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ2dDO0FBQ2hDO0FBQ0EseUJBQXlCLGdEQUFvQjtBQUM3QztBQUNBLEdBQUcsMEJBQTBCLGdEQUFvQjtBQUNqRDtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ2dDO0FBQ2hDO0FBQ0EseUJBQXlCLGdEQUFvQjtBQUM3QztBQUNBLEdBQUcsMEJBQTBCLGdEQUFvQjtBQUNqRDtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ2dDO0FBQ2hDO0FBQ0EseUJBQXlCLGdEQUFvQjtBQUM3QztBQUNBLEdBQUcsMEJBQTBCLGdEQUFvQjtBQUNqRDtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ2dDO0FBQ2hDO0FBQ0EseUJBQXlCLGdEQUFvQjtBQUM3QztBQUNBLEdBQUcsMEJBQTBCLGdEQUFvQjtBQUNqRDtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ2dDO0FBQ2hDO0FBQ0EseUJBQXlCLGdEQUFvQjtBQUM3QztBQUNBLEdBQUcsMEJBQTBCLGdEQUFvQjtBQUNqRDtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ2dDO0FBQ2hDO0FBQ0EseUJBQXlCLGdEQUFvQjtBQUM3QztBQUNBLEdBQUcsMEJBQTBCLGdEQUFvQjtBQUNqRDtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ2dDO0FBQ2hDO0FBQ0EseUJBQXlCLGdEQUFvQjtBQUM3QztBQUNBLEdBQUcsMEJBQTBCLGdEQUFvQjtBQUNqRDtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ2dDO0FBQ2hDO0FBQ0EseUJBQXlCLGdEQUFvQjtBQUM3QztBQUNBLEdBQUcsMEJBQTBCLGdEQUFvQjtBQUNqRDtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ2lDO0FBQ2pDO0FBQ0EseUJBQXlCLGdEQUFxQjtBQUM5QztBQUNBLEdBQUcsMEJBQTBCLGdEQUFxQjtBQUNsRDtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ2lDO0FBQ2pDO0FBQ0EseUJB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QUMxQztBQUNBO0FBQ0E7QUFDQSxHQUFHLCtFQUErRSxnREFBcUI7QUFDdkc7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHLG9CQUFvQixnREFBcUI7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLG9DQUFvQyx5REFBeUQ7QUFDN0YsVUFBVSxZQUFZO0FBQ3RCLHlCQUF5QixnREFBcUIsQ0FBQywrREFBaUIsd0JBQXdCLGdEQUFxQixDQUFDLGtFQUFvQjtBQUNsSTtBQUNBLEdBQUcsa0JBQWtCLGdEQUFxQjtBQUMxQztBQUNBLEdBQUcsa0JBQWtCLGdEQUFxQjtBQUMxQztBQUNBLEdBQUcscUJBQXFCLGdEQUFxQixDQUFDLGtFQUFvQjtBQUNsRTtBQUNBLEdBQUcsa0JBQWtCLGdEQUFxQixDQUFDLHFFQUF1QjtBQUNsRTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsMkJBQTJCLGdEQUFxQixDQUFDLG9FQUFzQjtBQUN2RTtBQUNBO0FBQ0E7QUFDQSxLQUFLLGlEQUFpRCxnREFBcUI7QUFDM0U7QUFDQSxLQUFLLGtCQUFrQixnREFBcUIsd0NBQXdDLGdEQUFxQjtBQUN6RztBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBLGlCQUFpQixzQ0FBc0M7QUFDdkQsVUFBVSxPQUFPO0FBQ2pCLHlDQUF5QyxzQkFBc0IsRUFBRSxlQUFlO0FBQ2hGLHlCQUF5QixnREFBcUI7QUFDOUM7QUFDQSxHQUFHLHlCQUF5QixnREFBcUI7QUFDakQ7QUFDQTtBQUNBLEdBQUcsbUJBQW1CLGdEQUFxQjtBQUMzQztBQUNBLEdBQUc7QUFDSDtBQUlFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV4dGpzLW5vdGlvbi1zdGFydGVyLWtpdC8uL25vZGVfbW9kdWxlcy9yZWFjdC1ub3Rpb24teC9idWlsZC90aGlyZC1wYXJ0eS9jb2xsZWN0aW9uLmpzPzhmNTciXSwic291cmNlc0NvbnRlbnQiOlsidmFyIF9fY3JlYXRlID0gT2JqZWN0LmNyZWF0ZTtcbnZhciBfX2RlZlByb3AgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgX19kZWZQcm9wcyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzO1xudmFyIF9fZ2V0T3duUHJvcERlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xudmFyIF9fZ2V0T3duUHJvcERlc2NzID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM7XG52YXIgX19nZXRPd25Qcm9wTmFtZXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcztcbnZhciBfX2dldE93blByb3BTeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scztcbnZhciBfX2dldFByb3RvT2YgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Y7XG52YXIgX19oYXNPd25Qcm9wID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbnZhciBfX3Byb3BJc0VudW0gPSBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlO1xudmFyIF9fZGVmTm9ybWFsUHJvcCA9IChvYmosIGtleSwgdmFsdWUpID0+IGtleSBpbiBvYmogPyBfX2RlZlByb3Aob2JqLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSwgdmFsdWUgfSkgOiBvYmpba2V5XSA9IHZhbHVlO1xudmFyIF9fc3ByZWFkVmFsdWVzID0gKGEsIGIpID0+IHtcbiAgZm9yICh2YXIgcHJvcCBpbiBiIHx8IChiID0ge30pKVxuICAgIGlmIChfX2hhc093blByb3AuY2FsbChiLCBwcm9wKSlcbiAgICAgIF9fZGVmTm9ybWFsUHJvcChhLCBwcm9wLCBiW3Byb3BdKTtcbiAgaWYgKF9fZ2V0T3duUHJvcFN5bWJvbHMpXG4gICAgZm9yICh2YXIgcHJvcCBvZiBfX2dldE93blByb3BTeW1ib2xzKGIpKSB7XG4gICAgICBpZiAoX19wcm9wSXNFbnVtLmNhbGwoYiwgcHJvcCkpXG4gICAgICAgIF9fZGVmTm9ybWFsUHJvcChhLCBwcm9wLCBiW3Byb3BdKTtcbiAgICB9XG4gIHJldHVybiBhO1xufTtcbnZhciBfX3NwcmVhZFByb3BzID0gKGEsIGIpID0+IF9fZGVmUHJvcHMoYSwgX19nZXRPd25Qcm9wRGVzY3MoYikpO1xudmFyIF9fb2JqUmVzdCA9IChzb3VyY2UsIGV4Y2x1ZGUpID0+IHtcbiAgdmFyIHRhcmdldCA9IHt9O1xuICBmb3IgKHZhciBwcm9wIGluIHNvdXJjZSlcbiAgICBpZiAoX19oYXNPd25Qcm9wLmNhbGwoc291cmNlLCBwcm9wKSAmJiBleGNsdWRlLmluZGV4T2YocHJvcCkgPCAwKVxuICAgICAgdGFyZ2V0W3Byb3BdID0gc291cmNlW3Byb3BdO1xuICBpZiAoc291cmNlICE9IG51bGwgJiYgX19nZXRPd25Qcm9wU3ltYm9scylcbiAgICBmb3IgKHZhciBwcm9wIG9mIF9fZ2V0T3duUHJvcFN5bWJvbHMoc291cmNlKSkge1xuICAgICAgaWYgKGV4Y2x1ZGUuaW5kZXhPZihwcm9wKSA8IDAgJiYgX19wcm9wSXNFbnVtLmNhbGwoc291cmNlLCBwcm9wKSlcbiAgICAgICAgdGFyZ2V0W3Byb3BdID0gc291cmNlW3Byb3BdO1xuICAgIH1cbiAgcmV0dXJuIHRhcmdldDtcbn07XG52YXIgX19jb21tb25KUyA9IChjYiwgbW9kKSA9PiBmdW5jdGlvbiBfX3JlcXVpcmUoKSB7XG4gIHJldHVybiBtb2QgfHwgKDAsIGNiW19fZ2V0T3duUHJvcE5hbWVzKGNiKVswXV0pKChtb2QgPSB7IGV4cG9ydHM6IHt9IH0pLmV4cG9ydHMsIG1vZCksIG1vZC5leHBvcnRzO1xufTtcbnZhciBfX2NvcHlQcm9wcyA9ICh0bywgZnJvbSwgZXhjZXB0LCBkZXNjKSA9PiB7XG4gIGlmIChmcm9tICYmIHR5cGVvZiBmcm9tID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBmcm9tID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICBmb3IgKGxldCBrZXkgb2YgX19nZXRPd25Qcm9wTmFtZXMoZnJvbSkpXG4gICAgICBpZiAoIV9faGFzT3duUHJvcC5jYWxsKHRvLCBrZXkpICYmIGtleSAhPT0gZXhjZXB0KVxuICAgICAgICBfX2RlZlByb3AodG8sIGtleSwgeyBnZXQ6ICgpID0+IGZyb21ba2V5XSwgZW51bWVyYWJsZTogIShkZXNjID0gX19nZXRPd25Qcm9wRGVzYyhmcm9tLCBrZXkpKSB8fCBkZXNjLmVudW1lcmFibGUgfSk7XG4gIH1cbiAgcmV0dXJuIHRvO1xufTtcbnZhciBfX3RvRVNNID0gKG1vZCwgaXNOb2RlTW9kZSwgdGFyZ2V0KSA9PiAodGFyZ2V0ID0gbW9kICE9IG51bGwgPyBfX2NyZWF0ZShfX2dldFByb3RvT2YobW9kKSkgOiB7fSwgX19jb3B5UHJvcHMoaXNOb2RlTW9kZSB8fCAhbW9kIHx8ICFtb2QuX19lc01vZHVsZSA/IF9fZGVmUHJvcCh0YXJnZXQsIFwiZGVmYXVsdFwiLCB7IHZhbHVlOiBtb2QsIGVudW1lcmFibGU6IHRydWUgfSkgOiB0YXJnZXQsIG1vZCkpO1xudmFyIF9fYXN5bmMgPSAoX190aGlzLCBfX2FyZ3VtZW50cywgZ2VuZXJhdG9yKSA9PiB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgdmFyIGZ1bGZpbGxlZCA9ICh2YWx1ZSkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZWplY3QoZSk7XG4gICAgICB9XG4gICAgfTtcbiAgICB2YXIgcmVqZWN0ZWQgPSAodmFsdWUpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHN0ZXAoZ2VuZXJhdG9yLnRocm93KHZhbHVlKSk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJlamVjdChlKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHZhciBzdGVwID0gKHgpID0+IHguZG9uZSA/IHJlc29sdmUoeC52YWx1ZSkgOiBQcm9taXNlLnJlc29sdmUoeC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTtcbiAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkoX190aGlzLCBfX2FyZ3VtZW50cykpLm5leHQoKSk7XG4gIH0pO1xufTtcblxuLy8gLi4vLi4vbm9kZV9tb2R1bGVzL2Zvcm1hdC1udW1iZXIvaW5kZXguanNcbnZhciByZXF1aXJlX2Zvcm1hdF9udW1iZXIgPSBfX2NvbW1vbkpTKHtcbiAgXCIuLi8uLi9ub2RlX21vZHVsZXMvZm9ybWF0LW51bWJlci9pbmRleC5qc1wiKGV4cG9ydHMsIG1vZHVsZSkge1xuICAgIG1vZHVsZS5leHBvcnRzID0gZm9ybWF0dGVyO1xuICAgIG1vZHVsZS5leHBvcnRzLmRlZmF1bHQgPSBmb3JtYXR0ZXI7XG4gICAgZnVuY3Rpb24gZm9ybWF0dGVyKG9wdGlvbnMpIHtcbiAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgICAgb3B0aW9ucy5uZWdhdGl2ZVR5cGUgPSBvcHRpb25zLm5lZ2F0aXZlVHlwZSB8fCAob3B0aW9ucy5uZWdhdGl2ZSA9PT0gXCJSXCIgPyBcInJpZ2h0XCIgOiBcImxlZnRcIik7XG4gICAgICBpZiAodHlwZW9mIG9wdGlvbnMubmVnYXRpdmVMZWZ0U3ltYm9sICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHN3aXRjaCAob3B0aW9ucy5uZWdhdGl2ZVR5cGUpIHtcbiAgICAgICAgICBjYXNlIFwibGVmdFwiOlxuICAgICAgICAgICAgb3B0aW9ucy5uZWdhdGl2ZUxlZnRTeW1ib2wgPSBcIi1cIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJicmFja2V0c1wiOlxuICAgICAgICAgICAgb3B0aW9ucy5uZWdhdGl2ZUxlZnRTeW1ib2wgPSBcIihcIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBvcHRpb25zLm5lZ2F0aXZlTGVmdFN5bWJvbCA9IFwiXCI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5uZWdhdGl2ZVJpZ2h0U3ltYm9sICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHN3aXRjaCAob3B0aW9ucy5uZWdhdGl2ZVR5cGUpIHtcbiAgICAgICAgICBjYXNlIFwicmlnaHRcIjpcbiAgICAgICAgICAgIG9wdGlvbnMubmVnYXRpdmVSaWdodFN5bWJvbCA9IFwiLVwiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcImJyYWNrZXRzXCI6XG4gICAgICAgICAgICBvcHRpb25zLm5lZ2F0aXZlUmlnaHRTeW1ib2wgPSBcIilcIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBvcHRpb25zLm5lZ2F0aXZlUmlnaHRTeW1ib2wgPSBcIlwiO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIG9wdGlvbnMubmVnYXRpdmVMZWZ0T3V0ICE9PSBcImJvb2xlYW5cIikge1xuICAgICAgICBvcHRpb25zLm5lZ2F0aXZlTGVmdE91dCA9IG9wdGlvbnMubmVnYXRpdmVPdXQgPT09IGZhbHNlID8gZmFsc2UgOiB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLm5lZ2F0aXZlUmlnaHRPdXQgIT09IFwiYm9vbGVhblwiKSB7XG4gICAgICAgIG9wdGlvbnMubmVnYXRpdmVSaWdodE91dCA9IG9wdGlvbnMubmVnYXRpdmVPdXQgPT09IGZhbHNlID8gZmFsc2UgOiB0cnVlO1xuICAgICAgfVxuICAgICAgb3B0aW9ucy5wcmVmaXggPSBvcHRpb25zLnByZWZpeCB8fCBcIlwiO1xuICAgICAgb3B0aW9ucy5zdWZmaXggPSBvcHRpb25zLnN1ZmZpeCB8fCBcIlwiO1xuICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLmludGVnZXJTZXBhcmF0b3IgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgb3B0aW9ucy5pbnRlZ2VyU2VwYXJhdG9yID0gdHlwZW9mIG9wdGlvbnMuc2VwYXJhdG9yID09PSBcInN0cmluZ1wiID8gb3B0aW9ucy5zZXBhcmF0b3IgOiBcIixcIjtcbiAgICAgIH1cbiAgICAgIG9wdGlvbnMuZGVjaW1hbHNTZXBhcmF0b3IgPSB0eXBlb2Ygb3B0aW9ucy5kZWNpbWFsc1NlcGFyYXRvciA9PT0gXCJzdHJpbmdcIiA/IG9wdGlvbnMuZGVjaW1hbHNTZXBhcmF0b3IgOiBcIlwiO1xuICAgICAgb3B0aW9ucy5kZWNpbWFsID0gb3B0aW9ucy5kZWNpbWFsIHx8IFwiLlwiO1xuICAgICAgb3B0aW9ucy5wYWRMZWZ0ID0gb3B0aW9ucy5wYWRMZWZ0IHx8IC0xO1xuICAgICAgb3B0aW9ucy5wYWRSaWdodCA9IG9wdGlvbnMucGFkUmlnaHQgfHwgLTE7XG4gICAgICBmdW5jdGlvbiBmb3JtYXQ0KG51bWJlciwgb3ZlcnJpZGVPcHRpb25zKSB7XG4gICAgICAgIG92ZXJyaWRlT3B0aW9ucyA9IG92ZXJyaWRlT3B0aW9ucyB8fCB7fTtcbiAgICAgICAgaWYgKG51bWJlciB8fCBudW1iZXIgPT09IDApIHtcbiAgICAgICAgICBudW1iZXIgPSBcIlwiICsgbnVtYmVyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBcIlwiO1xuICAgICAgICB9XG4gICAgICAgIHZhciBvdXRwdXQgPSBbXTtcbiAgICAgICAgdmFyIG5lZ2F0aXZlID0gbnVtYmVyLmNoYXJBdCgwKSA9PT0gXCItXCI7XG4gICAgICAgIG51bWJlciA9IG51bWJlci5yZXBsYWNlKC9eXFwtL2csIFwiXCIpO1xuICAgICAgICBpZiAoIW9wdGlvbnMubmVnYXRpdmVMZWZ0T3V0ICYmICFvdmVycmlkZU9wdGlvbnMubm9Vbml0cykge1xuICAgICAgICAgIG91dHB1dC5wdXNoKG9wdGlvbnMucHJlZml4KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobmVnYXRpdmUpIHtcbiAgICAgICAgICBvdXRwdXQucHVzaChvcHRpb25zLm5lZ2F0aXZlTGVmdFN5bWJvbCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdGlvbnMubmVnYXRpdmVMZWZ0T3V0ICYmICFvdmVycmlkZU9wdGlvbnMubm9Vbml0cykge1xuICAgICAgICAgIG91dHB1dC5wdXNoKG9wdGlvbnMucHJlZml4KTtcbiAgICAgICAgfVxuICAgICAgICBudW1iZXIgPSBudW1iZXIuc3BsaXQoXCIuXCIpO1xuICAgICAgICBpZiAob3B0aW9ucy5yb3VuZCAhPSBudWxsKVxuICAgICAgICAgIHJvdW5kKG51bWJlciwgb3B0aW9ucy5yb3VuZCk7XG4gICAgICAgIGlmIChvcHRpb25zLnRydW5jYXRlICE9IG51bGwpXG4gICAgICAgICAgbnVtYmVyWzFdID0gdHJ1bmNhdGUobnVtYmVyWzFdLCBvcHRpb25zLnRydW5jYXRlKTtcbiAgICAgICAgaWYgKG9wdGlvbnMucGFkTGVmdCA+IDApXG4gICAgICAgICAgbnVtYmVyWzBdID0gcGFkTGVmdChudW1iZXJbMF0sIG9wdGlvbnMucGFkTGVmdCk7XG4gICAgICAgIGlmIChvcHRpb25zLnBhZFJpZ2h0ID4gMClcbiAgICAgICAgICBudW1iZXJbMV0gPSBwYWRSaWdodChudW1iZXJbMV0sIG9wdGlvbnMucGFkUmlnaHQpO1xuICAgICAgICBpZiAoIW92ZXJyaWRlT3B0aW9ucy5ub1NlcGFyYXRvciAmJiBudW1iZXJbMV0pXG4gICAgICAgICAgbnVtYmVyWzFdID0gYWRkRGVjaW1hbFNlcGFyYXRvcnMobnVtYmVyWzFdLCBvcHRpb25zLmRlY2ltYWxzU2VwYXJhdG9yKTtcbiAgICAgICAgaWYgKCFvdmVycmlkZU9wdGlvbnMubm9TZXBhcmF0b3IgJiYgbnVtYmVyWzBdKVxuICAgICAgICAgIG51bWJlclswXSA9IGFkZEludGVnZXJTZXBhcmF0b3JzKG51bWJlclswXSwgb3B0aW9ucy5pbnRlZ2VyU2VwYXJhdG9yKTtcbiAgICAgICAgb3V0cHV0LnB1c2gobnVtYmVyWzBdKTtcbiAgICAgICAgaWYgKG51bWJlclsxXSkge1xuICAgICAgICAgIG91dHB1dC5wdXNoKG9wdGlvbnMuZGVjaW1hbCk7XG4gICAgICAgICAgb3V0cHV0LnB1c2gobnVtYmVyWzFdKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9ucy5uZWdhdGl2ZVJpZ2h0T3V0ICYmICFvdmVycmlkZU9wdGlvbnMubm9Vbml0cykge1xuICAgICAgICAgIG91dHB1dC5wdXNoKG9wdGlvbnMuc3VmZml4KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobmVnYXRpdmUpIHtcbiAgICAgICAgICBvdXRwdXQucHVzaChvcHRpb25zLm5lZ2F0aXZlUmlnaHRTeW1ib2wpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghb3B0aW9ucy5uZWdhdGl2ZVJpZ2h0T3V0ICYmICFvdmVycmlkZU9wdGlvbnMubm9Vbml0cykge1xuICAgICAgICAgIG91dHB1dC5wdXNoKG9wdGlvbnMuc3VmZml4KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3V0cHV0LmpvaW4oXCJcIik7XG4gICAgICB9XG4gICAgICBmb3JtYXQ0Lm5lZ2F0aXZlID0gb3B0aW9ucy5uZWdhdGl2ZTtcbiAgICAgIGZvcm1hdDQubmVnYXRpdmVPdXQgPSBvcHRpb25zLm5lZ2F0aXZlT3V0O1xuICAgICAgZm9ybWF0NC5uZWdhdGl2ZVR5cGUgPSBvcHRpb25zLm5lZ2F0aXZlVHlwZTtcbiAgICAgIGZvcm1hdDQubmVnYXRpdmVMZWZ0T3V0ID0gb3B0aW9ucy5uZWdhdGl2ZUxlZnRPdXQ7XG4gICAgICBmb3JtYXQ0Lm5lZ2F0aXZlTGVmdFN5bWJvbCA9IG9wdGlvbnMubmVnYXRpdmVMZWZ0U3ltYm9sO1xuICAgICAgZm9ybWF0NC5uZWdhdGl2ZVJpZ2h0T3V0ID0gb3B0aW9ucy5uZWdhdGl2ZVJpZ2h0T3V0O1xuICAgICAgZm9ybWF0NC5uZWdhdGl2ZVJpZ2h0U3ltYm9sID0gb3B0aW9ucy5uZWdhdGl2ZVJpZ2h0U3ltYm9sO1xuICAgICAgZm9ybWF0NC5wcmVmaXggPSBvcHRpb25zLnByZWZpeDtcbiAgICAgIGZvcm1hdDQuc3VmZml4ID0gb3B0aW9ucy5zdWZmaXg7XG4gICAgICBmb3JtYXQ0LnNlcGFyYXRlID0gb3B0aW9ucy5zZXBhcmF0ZTtcbiAgICAgIGZvcm1hdDQuaW50ZWdlclNlcGFyYXRvciA9IG9wdGlvbnMuaW50ZWdlclNlcGFyYXRvcjtcbiAgICAgIGZvcm1hdDQuZGVjaW1hbHNTZXBhcmF0b3IgPSBvcHRpb25zLmRlY2ltYWxzU2VwYXJhdG9yO1xuICAgICAgZm9ybWF0NC5kZWNpbWFsID0gb3B0aW9ucy5kZWNpbWFsO1xuICAgICAgZm9ybWF0NC5wYWRMZWZ0ID0gb3B0aW9ucy5wYWRMZWZ0O1xuICAgICAgZm9ybWF0NC5wYWRSaWdodCA9IG9wdGlvbnMucGFkUmlnaHQ7XG4gICAgICBmb3JtYXQ0LnRydW5jYXRlID0gb3B0aW9ucy50cnVuY2F0ZTtcbiAgICAgIGZvcm1hdDQucm91bmQgPSBvcHRpb25zLnJvdW5kO1xuICAgICAgZnVuY3Rpb24gdW5mb3JtYXQobnVtYmVyLCBhbGxvd2VkU2VwYXJhdG9ycykge1xuICAgICAgICBhbGxvd2VkU2VwYXJhdG9ycyA9IGFsbG93ZWRTZXBhcmF0b3JzIHx8IFtdO1xuICAgICAgICBpZiAob3B0aW9ucy5hbGxvd2VkU2VwYXJhdG9ycykge1xuICAgICAgICAgIG9wdGlvbnMuYWxsb3dlZFNlcGFyYXRvcnMuZm9yRWFjaChmdW5jdGlvbihzKSB7XG4gICAgICAgICAgICBhbGxvd2VkU2VwYXJhdG9ycy5wdXNoKHMpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGFsbG93ZWRTZXBhcmF0b3JzLnB1c2gob3B0aW9ucy5pbnRlZ2VyU2VwYXJhdG9yKTtcbiAgICAgICAgYWxsb3dlZFNlcGFyYXRvcnMucHVzaChvcHRpb25zLmRlY2ltYWxzU2VwYXJhdG9yKTtcbiAgICAgICAgbnVtYmVyID0gbnVtYmVyLnJlcGxhY2Uob3B0aW9ucy5wcmVmaXgsIFwiXCIpO1xuICAgICAgICBudW1iZXIgPSBudW1iZXIucmVwbGFjZShvcHRpb25zLnN1ZmZpeCwgXCJcIik7XG4gICAgICAgIHZhciBuZXdOdW1iZXIgPSBudW1iZXI7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICBudW1iZXIgPSBuZXdOdW1iZXI7XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGxvd2VkU2VwYXJhdG9ycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbmV3TnVtYmVyID0gbmV3TnVtYmVyLnJlcGxhY2UoYWxsb3dlZFNlcGFyYXRvcnNbaV0sIFwiXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSB3aGlsZSAobmV3TnVtYmVyICE9IG51bWJlcik7XG4gICAgICAgIHJldHVybiBudW1iZXI7XG4gICAgICB9XG4gICAgICBmb3JtYXQ0LnVuZm9ybWF0ID0gdW5mb3JtYXQ7XG4gICAgICBmdW5jdGlvbiB2YWxpZGF0ZShudW1iZXIsIGFsbG93ZWRTZXBhcmF0b3JzKSB7XG4gICAgICAgIG51bWJlciA9IHVuZm9ybWF0KG51bWJlciwgYWxsb3dlZFNlcGFyYXRvcnMpO1xuICAgICAgICBudW1iZXIgPSBudW1iZXIuc3BsaXQob3B0aW9ucy5kZWNpbWFsKTtcbiAgICAgICAgaWYgKG51bWJlci5sZW5ndGggPiAyKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9IGVsc2UgaWYgKG9wdGlvbnMudHJ1bmNhdGUgIT0gbnVsbCAmJiBudW1iZXJbMV0gJiYgbnVtYmVyWzFdLmxlbmd0aCA+IG9wdGlvbnMudHJ1bmNhdGUpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0gZWxzZSBpZiAob3B0aW9ucy5yb3VuZCAhPSBudWxsICYmIG51bWJlclsxXSAmJiBudW1iZXJbMV0ubGVuZ3RoID4gb3B0aW9ucy5yb3VuZCkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gL14tP1xcZCtcXC4/XFxkKiQvLnRlc3QobnVtYmVyKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGZvcm1hdDQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGFkZEludGVnZXJTZXBhcmF0b3JzKHgsIHNlcGFyYXRvcikge1xuICAgICAgeCArPSBcIlwiO1xuICAgICAgaWYgKCFzZXBhcmF0b3IpXG4gICAgICAgIHJldHVybiB4O1xuICAgICAgdmFyIHJneCA9IC8oXFxkKykoXFxkezN9KS87XG4gICAgICB3aGlsZSAocmd4LnRlc3QoeCkpIHtcbiAgICAgICAgeCA9IHgucmVwbGFjZShyZ3gsIFwiJDFcIiArIHNlcGFyYXRvciArIFwiJDJcIik7XG4gICAgICB9XG4gICAgICByZXR1cm4geDtcbiAgICB9XG4gICAgZnVuY3Rpb24gYWRkRGVjaW1hbFNlcGFyYXRvcnMoeCwgc2VwYXJhdG9yKSB7XG4gICAgICB4ICs9IFwiXCI7XG4gICAgICBpZiAoIXNlcGFyYXRvcilcbiAgICAgICAgcmV0dXJuIHg7XG4gICAgICB2YXIgcmd4ID0gLyhcXGR7M30pKFxcZCspLztcbiAgICAgIHdoaWxlIChyZ3gudGVzdCh4KSkge1xuICAgICAgICB4ID0geC5yZXBsYWNlKHJneCwgXCIkMVwiICsgc2VwYXJhdG9yICsgXCIkMlwiKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB4O1xuICAgIH1cbiAgICBmdW5jdGlvbiBwYWRMZWZ0KHgsIHBhZGRpbmcpIHtcbiAgICAgIHggPSB4ICsgXCJcIjtcbiAgICAgIHZhciBidWYgPSBbXTtcbiAgICAgIHdoaWxlIChidWYubGVuZ3RoICsgeC5sZW5ndGggPCBwYWRkaW5nKSB7XG4gICAgICAgIGJ1Zi5wdXNoKFwiMFwiKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBidWYuam9pbihcIlwiKSArIHg7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHBhZFJpZ2h0KHgsIHBhZGRpbmcpIHtcbiAgICAgIGlmICh4KSB7XG4gICAgICAgIHggKz0gXCJcIjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHggPSBcIlwiO1xuICAgICAgfVxuICAgICAgdmFyIGJ1ZiA9IFtdO1xuICAgICAgd2hpbGUgKGJ1Zi5sZW5ndGggKyB4Lmxlbmd0aCA8IHBhZGRpbmcpIHtcbiAgICAgICAgYnVmLnB1c2goXCIwXCIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHggKyBidWYuam9pbihcIlwiKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdHJ1bmNhdGUoeCwgbGVuZ3RoKSB7XG4gICAgICBpZiAoeCkge1xuICAgICAgICB4ICs9IFwiXCI7XG4gICAgICB9XG4gICAgICBpZiAoeCAmJiB4Lmxlbmd0aCA+IGxlbmd0aCkge1xuICAgICAgICByZXR1cm4geC5zdWJzdHIoMCwgbGVuZ3RoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB4O1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiByb3VuZChudW1iZXIsIHBsYWNlcykge1xuICAgICAgaWYgKG51bWJlclsxXSAmJiBwbGFjZXMgPj0gMCAmJiBudW1iZXJbMV0ubGVuZ3RoID4gcGxhY2VzKSB7XG4gICAgICAgIHZhciBkZWNpbSA9IG51bWJlclsxXS5zbGljZSgwLCBwbGFjZXMpO1xuICAgICAgICBpZiAoK251bWJlclsxXS5zdWJzdHIocGxhY2VzLCAxKSA+PSA1KSB7XG4gICAgICAgICAgdmFyIGxlYWRpbmd6ZXJvcyA9IFwiXCI7XG4gICAgICAgICAgd2hpbGUgKGRlY2ltLmNoYXJBdCgwKSA9PT0gXCIwXCIpIHtcbiAgICAgICAgICAgIGxlYWRpbmd6ZXJvcyA9IGxlYWRpbmd6ZXJvcyArIFwiMFwiO1xuICAgICAgICAgICAgZGVjaW0gPSBkZWNpbS5zdWJzdHIoMSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGRlY2ltID0gK2RlY2ltICsgMSArIFwiXCI7XG4gICAgICAgICAgZGVjaW0gPSBsZWFkaW5nemVyb3MgKyBkZWNpbTtcbiAgICAgICAgICBpZiAoZGVjaW0ubGVuZ3RoID4gcGxhY2VzKSB7XG4gICAgICAgICAgICBudW1iZXJbMF0gPSArbnVtYmVyWzBdICsgK2RlY2ltLmNoYXJBdCgwKSArIFwiXCI7XG4gICAgICAgICAgICBkZWNpbSA9IGRlY2ltLnN1YnN0cmluZygxKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbnVtYmVyWzFdID0gZGVjaW07XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVtYmVyO1xuICAgIH1cbiAgfVxufSk7XG5cbi8vIC4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9fbGliL3JlcXVpcmVkQXJncy9pbmRleC5qc1xudmFyIHJlcXVpcmVfcmVxdWlyZWRBcmdzID0gX19jb21tb25KUyh7XG4gIFwiLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL19saWIvcmVxdWlyZWRBcmdzL2luZGV4LmpzXCIoZXhwb3J0cywgbW9kdWxlKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgICB2YWx1ZTogdHJ1ZVxuICAgIH0pO1xuICAgIGV4cG9ydHMuZGVmYXVsdCA9IHJlcXVpcmVkQXJncztcbiAgICBmdW5jdGlvbiByZXF1aXJlZEFyZ3MocmVxdWlyZWQsIGFyZ3MpIHtcbiAgICAgIGlmIChhcmdzLmxlbmd0aCA8IHJlcXVpcmVkKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IocmVxdWlyZWQgKyBcIiBhcmd1bWVudFwiICsgKHJlcXVpcmVkID4gMSA/IFwic1wiIDogXCJcIikgKyBcIiByZXF1aXJlZCwgYnV0IG9ubHkgXCIgKyBhcmdzLmxlbmd0aCArIFwiIHByZXNlbnRcIik7XG4gICAgICB9XG4gICAgfVxuICAgIG1vZHVsZS5leHBvcnRzID0gZXhwb3J0cy5kZWZhdWx0O1xuICB9XG59KTtcblxuLy8gLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2lzRGF0ZS9pbmRleC5qc1xudmFyIHJlcXVpcmVfaXNEYXRlID0gX19jb21tb25KUyh7XG4gIFwiLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2lzRGF0ZS9pbmRleC5qc1wiKGV4cG9ydHMsIG1vZHVsZSkge1xuICAgIFwidXNlIHN0cmljdFwiO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgICAgdmFsdWU6IHRydWVcbiAgICB9KTtcbiAgICBleHBvcnRzLmRlZmF1bHQgPSBpc0RhdGU7XG4gICAgdmFyIF9pbmRleCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZV9yZXF1aXJlZEFyZ3MoKSk7XG4gICAgZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHtcbiAgICAgIHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBpc0RhdGUodmFsdWUpIHtcbiAgICAgICgwLCBfaW5kZXguZGVmYXVsdCkoMSwgYXJndW1lbnRzKTtcbiAgICAgIHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIERhdGUgfHwgdHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiICYmIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09IFwiW29iamVjdCBEYXRlXVwiO1xuICAgIH1cbiAgICBtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMuZGVmYXVsdDtcbiAgfVxufSk7XG5cbi8vIC4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy90b0RhdGUvaW5kZXguanNcbnZhciByZXF1aXJlX3RvRGF0ZSA9IF9fY29tbW9uSlMoe1xuICBcIi4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy90b0RhdGUvaW5kZXguanNcIihleHBvcnRzLCBtb2R1bGUpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICAgIHZhbHVlOiB0cnVlXG4gICAgfSk7XG4gICAgZXhwb3J0cy5kZWZhdWx0ID0gdG9EYXRlO1xuICAgIHZhciBfaW5kZXggPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmVfcmVxdWlyZWRBcmdzKCkpO1xuICAgIGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7XG4gICAgICByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdG9EYXRlKGFyZ3VtZW50KSB7XG4gICAgICAoMCwgX2luZGV4LmRlZmF1bHQpKDEsIGFyZ3VtZW50cyk7XG4gICAgICB2YXIgYXJnU3RyID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGFyZ3VtZW50KTtcbiAgICAgIGlmIChhcmd1bWVudCBpbnN0YW5jZW9mIERhdGUgfHwgdHlwZW9mIGFyZ3VtZW50ID09PSBcIm9iamVjdFwiICYmIGFyZ1N0ciA9PT0gXCJbb2JqZWN0IERhdGVdXCIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBEYXRlKGFyZ3VtZW50LmdldFRpbWUoKSk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBhcmd1bWVudCA9PT0gXCJudW1iZXJcIiB8fCBhcmdTdHIgPT09IFwiW29iamVjdCBOdW1iZXJdXCIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBEYXRlKGFyZ3VtZW50KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICgodHlwZW9mIGFyZ3VtZW50ID09PSBcInN0cmluZ1wiIHx8IGFyZ1N0ciA9PT0gXCJbb2JqZWN0IFN0cmluZ11cIikgJiYgdHlwZW9mIGNvbnNvbGUgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oXCJTdGFydGluZyB3aXRoIHYyLjAuMC1iZXRhLjEgZGF0ZS1mbnMgZG9lc24ndCBhY2NlcHQgc3RyaW5ncyBhcyBkYXRlIGFyZ3VtZW50cy4gUGxlYXNlIHVzZSBgcGFyc2VJU09gIHRvIHBhcnNlIHN0cmluZ3MuIFNlZTogaHR0cHM6Ly9naXQuaW8vZmp1bGVcIik7XG4gICAgICAgICAgY29uc29sZS53YXJuKG5ldyBFcnJvcigpLnN0YWNrKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IERhdGUoTmFOKTtcbiAgICAgIH1cbiAgICB9XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG4vLyAuLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvaXNWYWxpZC9pbmRleC5qc1xudmFyIHJlcXVpcmVfaXNWYWxpZCA9IF9fY29tbW9uSlMoe1xuICBcIi4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9pc1ZhbGlkL2luZGV4LmpzXCIoZXhwb3J0cywgbW9kdWxlKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgICB2YWx1ZTogdHJ1ZVxuICAgIH0pO1xuICAgIGV4cG9ydHMuZGVmYXVsdCA9IGlzVmFsaWQ7XG4gICAgdmFyIF9pbmRleCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZV9pc0RhdGUoKSk7XG4gICAgdmFyIF9pbmRleDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmVfdG9EYXRlKCkpO1xuICAgIHZhciBfaW5kZXgzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlX3JlcXVpcmVkQXJncygpKTtcbiAgICBmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikge1xuICAgICAgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIGlzVmFsaWQoZGlydHlEYXRlKSB7XG4gICAgICAoMCwgX2luZGV4My5kZWZhdWx0KSgxLCBhcmd1bWVudHMpO1xuICAgICAgaWYgKCEoMCwgX2luZGV4LmRlZmF1bHQpKGRpcnR5RGF0ZSkgJiYgdHlwZW9mIGRpcnR5RGF0ZSAhPT0gXCJudW1iZXJcIikge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICB2YXIgZGF0ZSA9ICgwLCBfaW5kZXgyLmRlZmF1bHQpKGRpcnR5RGF0ZSk7XG4gICAgICByZXR1cm4gIWlzTmFOKE51bWJlcihkYXRlKSk7XG4gICAgfVxuICAgIG1vZHVsZS5leHBvcnRzID0gZXhwb3J0cy5kZWZhdWx0O1xuICB9XG59KTtcblxuLy8gLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2xvY2FsZS9lbi1VUy9fbGliL2Zvcm1hdERpc3RhbmNlL2luZGV4LmpzXG52YXIgcmVxdWlyZV9mb3JtYXREaXN0YW5jZSA9IF9fY29tbW9uSlMoe1xuICBcIi4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9sb2NhbGUvZW4tVVMvX2xpYi9mb3JtYXREaXN0YW5jZS9pbmRleC5qc1wiKGV4cG9ydHMsIG1vZHVsZSkge1xuICAgIFwidXNlIHN0cmljdFwiO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgICAgdmFsdWU6IHRydWVcbiAgICB9KTtcbiAgICBleHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7XG4gICAgdmFyIGZvcm1hdERpc3RhbmNlTG9jYWxlID0ge1xuICAgICAgbGVzc1RoYW5YU2Vjb25kczoge1xuICAgICAgICBvbmU6IFwibGVzcyB0aGFuIGEgc2Vjb25kXCIsXG4gICAgICAgIG90aGVyOiBcImxlc3MgdGhhbiB7e2NvdW50fX0gc2Vjb25kc1wiXG4gICAgICB9LFxuICAgICAgeFNlY29uZHM6IHtcbiAgICAgICAgb25lOiBcIjEgc2Vjb25kXCIsXG4gICAgICAgIG90aGVyOiBcInt7Y291bnR9fSBzZWNvbmRzXCJcbiAgICAgIH0sXG4gICAgICBoYWxmQU1pbnV0ZTogXCJoYWxmIGEgbWludXRlXCIsXG4gICAgICBsZXNzVGhhblhNaW51dGVzOiB7XG4gICAgICAgIG9uZTogXCJsZXNzIHRoYW4gYSBtaW51dGVcIixcbiAgICAgICAgb3RoZXI6IFwibGVzcyB0aGFuIHt7Y291bnR9fSBtaW51dGVzXCJcbiAgICAgIH0sXG4gICAgICB4TWludXRlczoge1xuICAgICAgICBvbmU6IFwiMSBtaW51dGVcIixcbiAgICAgICAgb3RoZXI6IFwie3tjb3VudH19IG1pbnV0ZXNcIlxuICAgICAgfSxcbiAgICAgIGFib3V0WEhvdXJzOiB7XG4gICAgICAgIG9uZTogXCJhYm91dCAxIGhvdXJcIixcbiAgICAgICAgb3RoZXI6IFwiYWJvdXQge3tjb3VudH19IGhvdXJzXCJcbiAgICAgIH0sXG4gICAgICB4SG91cnM6IHtcbiAgICAgICAgb25lOiBcIjEgaG91clwiLFxuICAgICAgICBvdGhlcjogXCJ7e2NvdW50fX0gaG91cnNcIlxuICAgICAgfSxcbiAgICAgIHhEYXlzOiB7XG4gICAgICAgIG9uZTogXCIxIGRheVwiLFxuICAgICAgICBvdGhlcjogXCJ7e2NvdW50fX0gZGF5c1wiXG4gICAgICB9LFxuICAgICAgYWJvdXRYV2Vla3M6IHtcbiAgICAgICAgb25lOiBcImFib3V0IDEgd2Vla1wiLFxuICAgICAgICBvdGhlcjogXCJhYm91dCB7e2NvdW50fX0gd2Vla3NcIlxuICAgICAgfSxcbiAgICAgIHhXZWVrczoge1xuICAgICAgICBvbmU6IFwiMSB3ZWVrXCIsXG4gICAgICAgIG90aGVyOiBcInt7Y291bnR9fSB3ZWVrc1wiXG4gICAgICB9LFxuICAgICAgYWJvdXRYTW9udGhzOiB7XG4gICAgICAgIG9uZTogXCJhYm91dCAxIG1vbnRoXCIsXG4gICAgICAgIG90aGVyOiBcImFib3V0IHt7Y291bnR9fSBtb250aHNcIlxuICAgICAgfSxcbiAgICAgIHhNb250aHM6IHtcbiAgICAgICAgb25lOiBcIjEgbW9udGhcIixcbiAgICAgICAgb3RoZXI6IFwie3tjb3VudH19IG1vbnRoc1wiXG4gICAgICB9LFxuICAgICAgYWJvdXRYWWVhcnM6IHtcbiAgICAgICAgb25lOiBcImFib3V0IDEgeWVhclwiLFxuICAgICAgICBvdGhlcjogXCJhYm91dCB7e2NvdW50fX0geWVhcnNcIlxuICAgICAgfSxcbiAgICAgIHhZZWFyczoge1xuICAgICAgICBvbmU6IFwiMSB5ZWFyXCIsXG4gICAgICAgIG90aGVyOiBcInt7Y291bnR9fSB5ZWFyc1wiXG4gICAgICB9LFxuICAgICAgb3ZlclhZZWFyczoge1xuICAgICAgICBvbmU6IFwib3ZlciAxIHllYXJcIixcbiAgICAgICAgb3RoZXI6IFwib3ZlciB7e2NvdW50fX0geWVhcnNcIlxuICAgICAgfSxcbiAgICAgIGFsbW9zdFhZZWFyczoge1xuICAgICAgICBvbmU6IFwiYWxtb3N0IDEgeWVhclwiLFxuICAgICAgICBvdGhlcjogXCJhbG1vc3Qge3tjb3VudH19IHllYXJzXCJcbiAgICAgIH1cbiAgICB9O1xuICAgIHZhciBmb3JtYXREaXN0YW5jZSA9IGZ1bmN0aW9uKHRva2VuLCBjb3VudCwgb3B0aW9ucykge1xuICAgICAgdmFyIHJlc3VsdDtcbiAgICAgIHZhciB0b2tlblZhbHVlID0gZm9ybWF0RGlzdGFuY2VMb2NhbGVbdG9rZW5dO1xuICAgICAgaWYgKHR5cGVvZiB0b2tlblZhbHVlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHJlc3VsdCA9IHRva2VuVmFsdWU7XG4gICAgICB9IGVsc2UgaWYgKGNvdW50ID09PSAxKSB7XG4gICAgICAgIHJlc3VsdCA9IHRva2VuVmFsdWUub25lO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0ID0gdG9rZW5WYWx1ZS5vdGhlci5yZXBsYWNlKFwie3tjb3VudH19XCIsIGNvdW50LnRvU3RyaW5nKCkpO1xuICAgICAgfVxuICAgICAgaWYgKG9wdGlvbnMgIT09IG51bGwgJiYgb3B0aW9ucyAhPT0gdm9pZCAwICYmIG9wdGlvbnMuYWRkU3VmZml4KSB7XG4gICAgICAgIGlmIChvcHRpb25zLmNvbXBhcmlzb24gJiYgb3B0aW9ucy5jb21wYXJpc29uID4gMCkge1xuICAgICAgICAgIHJldHVybiBcImluIFwiICsgcmVzdWx0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiByZXN1bHQgKyBcIiBhZ29cIjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICAgIHZhciBfZGVmYXVsdCA9IGZvcm1hdERpc3RhbmNlO1xuICAgIGV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0O1xuICAgIG1vZHVsZS5leHBvcnRzID0gZXhwb3J0cy5kZWZhdWx0O1xuICB9XG59KTtcblxuLy8gLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2xvY2FsZS9fbGliL2J1aWxkRm9ybWF0TG9uZ0ZuL2luZGV4LmpzXG52YXIgcmVxdWlyZV9idWlsZEZvcm1hdExvbmdGbiA9IF9fY29tbW9uSlMoe1xuICBcIi4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9sb2NhbGUvX2xpYi9idWlsZEZvcm1hdExvbmdGbi9pbmRleC5qc1wiKGV4cG9ydHMsIG1vZHVsZSkge1xuICAgIFwidXNlIHN0cmljdFwiO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgICAgdmFsdWU6IHRydWVcbiAgICB9KTtcbiAgICBleHBvcnRzLmRlZmF1bHQgPSBidWlsZEZvcm1hdExvbmdGbjtcbiAgICBmdW5jdGlvbiBidWlsZEZvcm1hdExvbmdGbihhcmdzKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB2b2lkIDAgPyBhcmd1bWVudHNbMF0gOiB7fTtcbiAgICAgICAgdmFyIHdpZHRoID0gb3B0aW9ucy53aWR0aCA/IFN0cmluZyhvcHRpb25zLndpZHRoKSA6IGFyZ3MuZGVmYXVsdFdpZHRoO1xuICAgICAgICB2YXIgZm9ybWF0NCA9IGFyZ3MuZm9ybWF0c1t3aWR0aF0gfHwgYXJncy5mb3JtYXRzW2FyZ3MuZGVmYXVsdFdpZHRoXTtcbiAgICAgICAgcmV0dXJuIGZvcm1hdDQ7XG4gICAgICB9O1xuICAgIH1cbiAgICBtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMuZGVmYXVsdDtcbiAgfVxufSk7XG5cbi8vIC4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9sb2NhbGUvZW4tVVMvX2xpYi9mb3JtYXRMb25nL2luZGV4LmpzXG52YXIgcmVxdWlyZV9mb3JtYXRMb25nID0gX19jb21tb25KUyh7XG4gIFwiLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2xvY2FsZS9lbi1VUy9fbGliL2Zvcm1hdExvbmcvaW5kZXguanNcIihleHBvcnRzLCBtb2R1bGUpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICAgIHZhbHVlOiB0cnVlXG4gICAgfSk7XG4gICAgZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuICAgIHZhciBfaW5kZXggPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmVfYnVpbGRGb3JtYXRMb25nRm4oKSk7XG4gICAgZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHtcbiAgICAgIHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9O1xuICAgIH1cbiAgICB2YXIgZGF0ZUZvcm1hdHMgPSB7XG4gICAgICBmdWxsOiBcIkVFRUUsIE1NTU0gZG8sIHlcIixcbiAgICAgIGxvbmc6IFwiTU1NTSBkbywgeVwiLFxuICAgICAgbWVkaXVtOiBcIk1NTSBkLCB5XCIsXG4gICAgICBzaG9ydDogXCJNTS9kZC95eXl5XCJcbiAgICB9O1xuICAgIHZhciB0aW1lRm9ybWF0cyA9IHtcbiAgICAgIGZ1bGw6IFwiaDptbTpzcyBhIHp6enpcIixcbiAgICAgIGxvbmc6IFwiaDptbTpzcyBhIHpcIixcbiAgICAgIG1lZGl1bTogXCJoOm1tOnNzIGFcIixcbiAgICAgIHNob3J0OiBcImg6bW0gYVwiXG4gICAgfTtcbiAgICB2YXIgZGF0ZVRpbWVGb3JtYXRzID0ge1xuICAgICAgZnVsbDogXCJ7e2RhdGV9fSAnYXQnIHt7dGltZX19XCIsXG4gICAgICBsb25nOiBcInt7ZGF0ZX19ICdhdCcge3t0aW1lfX1cIixcbiAgICAgIG1lZGl1bTogXCJ7e2RhdGV9fSwge3t0aW1lfX1cIixcbiAgICAgIHNob3J0OiBcInt7ZGF0ZX19LCB7e3RpbWV9fVwiXG4gICAgfTtcbiAgICB2YXIgZm9ybWF0TG9uZyA9IHtcbiAgICAgIGRhdGU6ICgwLCBfaW5kZXguZGVmYXVsdCkoe1xuICAgICAgICBmb3JtYXRzOiBkYXRlRm9ybWF0cyxcbiAgICAgICAgZGVmYXVsdFdpZHRoOiBcImZ1bGxcIlxuICAgICAgfSksXG4gICAgICB0aW1lOiAoMCwgX2luZGV4LmRlZmF1bHQpKHtcbiAgICAgICAgZm9ybWF0czogdGltZUZvcm1hdHMsXG4gICAgICAgIGRlZmF1bHRXaWR0aDogXCJmdWxsXCJcbiAgICAgIH0pLFxuICAgICAgZGF0ZVRpbWU6ICgwLCBfaW5kZXguZGVmYXVsdCkoe1xuICAgICAgICBmb3JtYXRzOiBkYXRlVGltZUZvcm1hdHMsXG4gICAgICAgIGRlZmF1bHRXaWR0aDogXCJmdWxsXCJcbiAgICAgIH0pXG4gICAgfTtcbiAgICB2YXIgX2RlZmF1bHQgPSBmb3JtYXRMb25nO1xuICAgIGV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0O1xuICAgIG1vZHVsZS5leHBvcnRzID0gZXhwb3J0cy5kZWZhdWx0O1xuICB9XG59KTtcblxuLy8gLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2xvY2FsZS9lbi1VUy9fbGliL2Zvcm1hdFJlbGF0aXZlL2luZGV4LmpzXG52YXIgcmVxdWlyZV9mb3JtYXRSZWxhdGl2ZSA9IF9fY29tbW9uSlMoe1xuICBcIi4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9sb2NhbGUvZW4tVVMvX2xpYi9mb3JtYXRSZWxhdGl2ZS9pbmRleC5qc1wiKGV4cG9ydHMsIG1vZHVsZSkge1xuICAgIFwidXNlIHN0cmljdFwiO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgICAgdmFsdWU6IHRydWVcbiAgICB9KTtcbiAgICBleHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7XG4gICAgdmFyIGZvcm1hdFJlbGF0aXZlTG9jYWxlID0ge1xuICAgICAgbGFzdFdlZWs6IFwiJ2xhc3QnIGVlZWUgJ2F0JyBwXCIsXG4gICAgICB5ZXN0ZXJkYXk6IFwiJ3llc3RlcmRheSBhdCcgcFwiLFxuICAgICAgdG9kYXk6IFwiJ3RvZGF5IGF0JyBwXCIsXG4gICAgICB0b21vcnJvdzogXCIndG9tb3Jyb3cgYXQnIHBcIixcbiAgICAgIG5leHRXZWVrOiBcImVlZWUgJ2F0JyBwXCIsXG4gICAgICBvdGhlcjogXCJQXCJcbiAgICB9O1xuICAgIHZhciBmb3JtYXRSZWxhdGl2ZSA9IGZ1bmN0aW9uKHRva2VuLCBfZGF0ZSwgX2Jhc2VEYXRlLCBfb3B0aW9ucykge1xuICAgICAgcmV0dXJuIGZvcm1hdFJlbGF0aXZlTG9jYWxlW3Rva2VuXTtcbiAgICB9O1xuICAgIHZhciBfZGVmYXVsdCA9IGZvcm1hdFJlbGF0aXZlO1xuICAgIGV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0O1xuICAgIG1vZHVsZS5leHBvcnRzID0gZXhwb3J0cy5kZWZhdWx0O1xuICB9XG59KTtcblxuLy8gLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2xvY2FsZS9fbGliL2J1aWxkTG9jYWxpemVGbi9pbmRleC5qc1xudmFyIHJlcXVpcmVfYnVpbGRMb2NhbGl6ZUZuID0gX19jb21tb25KUyh7XG4gIFwiLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2xvY2FsZS9fbGliL2J1aWxkTG9jYWxpemVGbi9pbmRleC5qc1wiKGV4cG9ydHMsIG1vZHVsZSkge1xuICAgIFwidXNlIHN0cmljdFwiO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgICAgdmFsdWU6IHRydWVcbiAgICB9KTtcbiAgICBleHBvcnRzLmRlZmF1bHQgPSBidWlsZExvY2FsaXplRm47XG4gICAgZnVuY3Rpb24gYnVpbGRMb2NhbGl6ZUZuKGFyZ3MpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihkaXJ0eUluZGV4LCBkaXJ0eU9wdGlvbnMpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSBkaXJ0eU9wdGlvbnMgfHwge307XG4gICAgICAgIHZhciBjb250ZXh0ID0gb3B0aW9ucy5jb250ZXh0ID8gU3RyaW5nKG9wdGlvbnMuY29udGV4dCkgOiBcInN0YW5kYWxvbmVcIjtcbiAgICAgICAgdmFyIHZhbHVlc0FycmF5O1xuICAgICAgICBpZiAoY29udGV4dCA9PT0gXCJmb3JtYXR0aW5nXCIgJiYgYXJncy5mb3JtYXR0aW5nVmFsdWVzKSB7XG4gICAgICAgICAgdmFyIGRlZmF1bHRXaWR0aCA9IGFyZ3MuZGVmYXVsdEZvcm1hdHRpbmdXaWR0aCB8fCBhcmdzLmRlZmF1bHRXaWR0aDtcbiAgICAgICAgICB2YXIgd2lkdGggPSBvcHRpb25zLndpZHRoID8gU3RyaW5nKG9wdGlvbnMud2lkdGgpIDogZGVmYXVsdFdpZHRoO1xuICAgICAgICAgIHZhbHVlc0FycmF5ID0gYXJncy5mb3JtYXR0aW5nVmFsdWVzW3dpZHRoXSB8fCBhcmdzLmZvcm1hdHRpbmdWYWx1ZXNbZGVmYXVsdFdpZHRoXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgX2RlZmF1bHRXaWR0aCA9IGFyZ3MuZGVmYXVsdFdpZHRoO1xuICAgICAgICAgIHZhciBfd2lkdGggPSBvcHRpb25zLndpZHRoID8gU3RyaW5nKG9wdGlvbnMud2lkdGgpIDogYXJncy5kZWZhdWx0V2lkdGg7XG4gICAgICAgICAgdmFsdWVzQXJyYXkgPSBhcmdzLnZhbHVlc1tfd2lkdGhdIHx8IGFyZ3MudmFsdWVzW19kZWZhdWx0V2lkdGhdO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpbmRleCA9IGFyZ3MuYXJndW1lbnRDYWxsYmFjayA/IGFyZ3MuYXJndW1lbnRDYWxsYmFjayhkaXJ0eUluZGV4KSA6IGRpcnR5SW5kZXg7XG4gICAgICAgIHJldHVybiB2YWx1ZXNBcnJheVtpbmRleF07XG4gICAgICB9O1xuICAgIH1cbiAgICBtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMuZGVmYXVsdDtcbiAgfVxufSk7XG5cbi8vIC4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9sb2NhbGUvZW4tVVMvX2xpYi9sb2NhbGl6ZS9pbmRleC5qc1xudmFyIHJlcXVpcmVfbG9jYWxpemUgPSBfX2NvbW1vbkpTKHtcbiAgXCIuLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvbG9jYWxlL2VuLVVTL19saWIvbG9jYWxpemUvaW5kZXguanNcIihleHBvcnRzLCBtb2R1bGUpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICAgIHZhbHVlOiB0cnVlXG4gICAgfSk7XG4gICAgZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuICAgIHZhciBfaW5kZXggPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmVfYnVpbGRMb2NhbGl6ZUZuKCkpO1xuICAgIGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7XG4gICAgICByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTtcbiAgICB9XG4gICAgdmFyIGVyYVZhbHVlcyA9IHtcbiAgICAgIG5hcnJvdzogW1wiQlwiLCBcIkFcIl0sXG4gICAgICBhYmJyZXZpYXRlZDogW1wiQkNcIiwgXCJBRFwiXSxcbiAgICAgIHdpZGU6IFtcIkJlZm9yZSBDaHJpc3RcIiwgXCJBbm5vIERvbWluaVwiXVxuICAgIH07XG4gICAgdmFyIHF1YXJ0ZXJWYWx1ZXMgPSB7XG4gICAgICBuYXJyb3c6IFtcIjFcIiwgXCIyXCIsIFwiM1wiLCBcIjRcIl0sXG4gICAgICBhYmJyZXZpYXRlZDogW1wiUTFcIiwgXCJRMlwiLCBcIlEzXCIsIFwiUTRcIl0sXG4gICAgICB3aWRlOiBbXCIxc3QgcXVhcnRlclwiLCBcIjJuZCBxdWFydGVyXCIsIFwiM3JkIHF1YXJ0ZXJcIiwgXCI0dGggcXVhcnRlclwiXVxuICAgIH07XG4gICAgdmFyIG1vbnRoVmFsdWVzID0ge1xuICAgICAgbmFycm93OiBbXCJKXCIsIFwiRlwiLCBcIk1cIiwgXCJBXCIsIFwiTVwiLCBcIkpcIiwgXCJKXCIsIFwiQVwiLCBcIlNcIiwgXCJPXCIsIFwiTlwiLCBcIkRcIl0sXG4gICAgICBhYmJyZXZpYXRlZDogW1wiSmFuXCIsIFwiRmViXCIsIFwiTWFyXCIsIFwiQXByXCIsIFwiTWF5XCIsIFwiSnVuXCIsIFwiSnVsXCIsIFwiQXVnXCIsIFwiU2VwXCIsIFwiT2N0XCIsIFwiTm92XCIsIFwiRGVjXCJdLFxuICAgICAgd2lkZTogW1wiSmFudWFyeVwiLCBcIkZlYnJ1YXJ5XCIsIFwiTWFyY2hcIiwgXCJBcHJpbFwiLCBcIk1heVwiLCBcIkp1bmVcIiwgXCJKdWx5XCIsIFwiQXVndXN0XCIsIFwiU2VwdGVtYmVyXCIsIFwiT2N0b2JlclwiLCBcIk5vdmVtYmVyXCIsIFwiRGVjZW1iZXJcIl1cbiAgICB9O1xuICAgIHZhciBkYXlWYWx1ZXMgPSB7XG4gICAgICBuYXJyb3c6IFtcIlNcIiwgXCJNXCIsIFwiVFwiLCBcIldcIiwgXCJUXCIsIFwiRlwiLCBcIlNcIl0sXG4gICAgICBzaG9ydDogW1wiU3VcIiwgXCJNb1wiLCBcIlR1XCIsIFwiV2VcIiwgXCJUaFwiLCBcIkZyXCIsIFwiU2FcIl0sXG4gICAgICBhYmJyZXZpYXRlZDogW1wiU3VuXCIsIFwiTW9uXCIsIFwiVHVlXCIsIFwiV2VkXCIsIFwiVGh1XCIsIFwiRnJpXCIsIFwiU2F0XCJdLFxuICAgICAgd2lkZTogW1wiU3VuZGF5XCIsIFwiTW9uZGF5XCIsIFwiVHVlc2RheVwiLCBcIldlZG5lc2RheVwiLCBcIlRodXJzZGF5XCIsIFwiRnJpZGF5XCIsIFwiU2F0dXJkYXlcIl1cbiAgICB9O1xuICAgIHZhciBkYXlQZXJpb2RWYWx1ZXMgPSB7XG4gICAgICBuYXJyb3c6IHtcbiAgICAgICAgYW06IFwiYVwiLFxuICAgICAgICBwbTogXCJwXCIsXG4gICAgICAgIG1pZG5pZ2h0OiBcIm1pXCIsXG4gICAgICAgIG5vb246IFwiblwiLFxuICAgICAgICBtb3JuaW5nOiBcIm1vcm5pbmdcIixcbiAgICAgICAgYWZ0ZXJub29uOiBcImFmdGVybm9vblwiLFxuICAgICAgICBldmVuaW5nOiBcImV2ZW5pbmdcIixcbiAgICAgICAgbmlnaHQ6IFwibmlnaHRcIlxuICAgICAgfSxcbiAgICAgIGFiYnJldmlhdGVkOiB7XG4gICAgICAgIGFtOiBcIkFNXCIsXG4gICAgICAgIHBtOiBcIlBNXCIsXG4gICAgICAgIG1pZG5pZ2h0OiBcIm1pZG5pZ2h0XCIsXG4gICAgICAgIG5vb246IFwibm9vblwiLFxuICAgICAgICBtb3JuaW5nOiBcIm1vcm5pbmdcIixcbiAgICAgICAgYWZ0ZXJub29uOiBcImFmdGVybm9vblwiLFxuICAgICAgICBldmVuaW5nOiBcImV2ZW5pbmdcIixcbiAgICAgICAgbmlnaHQ6IFwibmlnaHRcIlxuICAgICAgfSxcbiAgICAgIHdpZGU6IHtcbiAgICAgICAgYW06IFwiYS5tLlwiLFxuICAgICAgICBwbTogXCJwLm0uXCIsXG4gICAgICAgIG1pZG5pZ2h0OiBcIm1pZG5pZ2h0XCIsXG4gICAgICAgIG5vb246IFwibm9vblwiLFxuICAgICAgICBtb3JuaW5nOiBcIm1vcm5pbmdcIixcbiAgICAgICAgYWZ0ZXJub29uOiBcImFmdGVybm9vblwiLFxuICAgICAgICBldmVuaW5nOiBcImV2ZW5pbmdcIixcbiAgICAgICAgbmlnaHQ6IFwibmlnaHRcIlxuICAgICAgfVxuICAgIH07XG4gICAgdmFyIGZvcm1hdHRpbmdEYXlQZXJpb2RWYWx1ZXMgPSB7XG4gICAgICBuYXJyb3c6IHtcbiAgICAgICAgYW06IFwiYVwiLFxuICAgICAgICBwbTogXCJwXCIsXG4gICAgICAgIG1pZG5pZ2h0OiBcIm1pXCIsXG4gICAgICAgIG5vb246IFwiblwiLFxuICAgICAgICBtb3JuaW5nOiBcImluIHRoZSBtb3JuaW5nXCIsXG4gICAgICAgIGFmdGVybm9vbjogXCJpbiB0aGUgYWZ0ZXJub29uXCIsXG4gICAgICAgIGV2ZW5pbmc6IFwiaW4gdGhlIGV2ZW5pbmdcIixcbiAgICAgICAgbmlnaHQ6IFwiYXQgbmlnaHRcIlxuICAgICAgfSxcbiAgICAgIGFiYnJldmlhdGVkOiB7XG4gICAgICAgIGFtOiBcIkFNXCIsXG4gICAgICAgIHBtOiBcIlBNXCIsXG4gICAgICAgIG1pZG5pZ2h0OiBcIm1pZG5pZ2h0XCIsXG4gICAgICAgIG5vb246IFwibm9vblwiLFxuICAgICAgICBtb3JuaW5nOiBcImluIHRoZSBtb3JuaW5nXCIsXG4gICAgICAgIGFmdGVybm9vbjogXCJpbiB0aGUgYWZ0ZXJub29uXCIsXG4gICAgICAgIGV2ZW5pbmc6IFwiaW4gdGhlIGV2ZW5pbmdcIixcbiAgICAgICAgbmlnaHQ6IFwiYXQgbmlnaHRcIlxuICAgICAgfSxcbiAgICAgIHdpZGU6IHtcbiAgICAgICAgYW06IFwiYS5tLlwiLFxuICAgICAgICBwbTogXCJwLm0uXCIsXG4gICAgICAgIG1pZG5pZ2h0OiBcIm1pZG5pZ2h0XCIsXG4gICAgICAgIG5vb246IFwibm9vblwiLFxuICAgICAgICBtb3JuaW5nOiBcImluIHRoZSBtb3JuaW5nXCIsXG4gICAgICAgIGFmdGVybm9vbjogXCJpbiB0aGUgYWZ0ZXJub29uXCIsXG4gICAgICAgIGV2ZW5pbmc6IFwiaW4gdGhlIGV2ZW5pbmdcIixcbiAgICAgICAgbmlnaHQ6IFwiYXQgbmlnaHRcIlxuICAgICAgfVxuICAgIH07XG4gICAgdmFyIG9yZGluYWxOdW1iZXIgPSBmdW5jdGlvbihkaXJ0eU51bWJlciwgX29wdGlvbnMpIHtcbiAgICAgIHZhciBudW1iZXIgPSBOdW1iZXIoZGlydHlOdW1iZXIpO1xuICAgICAgdmFyIHJlbTEwMCA9IG51bWJlciAlIDEwMDtcbiAgICAgIGlmIChyZW0xMDAgPiAyMCB8fCByZW0xMDAgPCAxMCkge1xuICAgICAgICBzd2l0Y2ggKHJlbTEwMCAlIDEwKSB7XG4gICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgcmV0dXJuIG51bWJlciArIFwic3RcIjtcbiAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICByZXR1cm4gbnVtYmVyICsgXCJuZFwiO1xuICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgIHJldHVybiBudW1iZXIgKyBcInJkXCI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBudW1iZXIgKyBcInRoXCI7XG4gICAgfTtcbiAgICB2YXIgbG9jYWxpemUgPSB7XG4gICAgICBvcmRpbmFsTnVtYmVyLFxuICAgICAgZXJhOiAoMCwgX2luZGV4LmRlZmF1bHQpKHtcbiAgICAgICAgdmFsdWVzOiBlcmFWYWx1ZXMsXG4gICAgICAgIGRlZmF1bHRXaWR0aDogXCJ3aWRlXCJcbiAgICAgIH0pLFxuICAgICAgcXVhcnRlcjogKDAsIF9pbmRleC5kZWZhdWx0KSh7XG4gICAgICAgIHZhbHVlczogcXVhcnRlclZhbHVlcyxcbiAgICAgICAgZGVmYXVsdFdpZHRoOiBcIndpZGVcIixcbiAgICAgICAgYXJndW1lbnRDYWxsYmFjazogZnVuY3Rpb24ocXVhcnRlcikge1xuICAgICAgICAgIHJldHVybiBxdWFydGVyIC0gMTtcbiAgICAgICAgfVxuICAgICAgfSksXG4gICAgICBtb250aDogKDAsIF9pbmRleC5kZWZhdWx0KSh7XG4gICAgICAgIHZhbHVlczogbW9udGhWYWx1ZXMsXG4gICAgICAgIGRlZmF1bHRXaWR0aDogXCJ3aWRlXCJcbiAgICAgIH0pLFxuICAgICAgZGF5OiAoMCwgX2luZGV4LmRlZmF1bHQpKHtcbiAgICAgICAgdmFsdWVzOiBkYXlWYWx1ZXMsXG4gICAgICAgIGRlZmF1bHRXaWR0aDogXCJ3aWRlXCJcbiAgICAgIH0pLFxuICAgICAgZGF5UGVyaW9kOiAoMCwgX2luZGV4LmRlZmF1bHQpKHtcbiAgICAgICAgdmFsdWVzOiBkYXlQZXJpb2RWYWx1ZXMsXG4gICAgICAgIGRlZmF1bHRXaWR0aDogXCJ3aWRlXCIsXG4gICAgICAgIGZvcm1hdHRpbmdWYWx1ZXM6IGZvcm1hdHRpbmdEYXlQZXJpb2RWYWx1ZXMsXG4gICAgICAgIGRlZmF1bHRGb3JtYXR0aW5nV2lkdGg6IFwid2lkZVwiXG4gICAgICB9KVxuICAgIH07XG4gICAgdmFyIF9kZWZhdWx0ID0gbG9jYWxpemU7XG4gICAgZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG4vLyAuLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvbG9jYWxlL19saWIvYnVpbGRNYXRjaEZuL2luZGV4LmpzXG52YXIgcmVxdWlyZV9idWlsZE1hdGNoRm4gPSBfX2NvbW1vbkpTKHtcbiAgXCIuLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvbG9jYWxlL19saWIvYnVpbGRNYXRjaEZuL2luZGV4LmpzXCIoZXhwb3J0cywgbW9kdWxlKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgICB2YWx1ZTogdHJ1ZVxuICAgIH0pO1xuICAgIGV4cG9ydHMuZGVmYXVsdCA9IGJ1aWxkTWF0Y2hGbjtcbiAgICBmdW5jdGlvbiBidWlsZE1hdGNoRm4oYXJncykge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHN0cmluZykge1xuICAgICAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdm9pZCAwID8gYXJndW1lbnRzWzFdIDoge307XG4gICAgICAgIHZhciB3aWR0aCA9IG9wdGlvbnMud2lkdGg7XG4gICAgICAgIHZhciBtYXRjaFBhdHRlcm4gPSB3aWR0aCAmJiBhcmdzLm1hdGNoUGF0dGVybnNbd2lkdGhdIHx8IGFyZ3MubWF0Y2hQYXR0ZXJuc1thcmdzLmRlZmF1bHRNYXRjaFdpZHRoXTtcbiAgICAgICAgdmFyIG1hdGNoUmVzdWx0ID0gc3RyaW5nLm1hdGNoKG1hdGNoUGF0dGVybik7XG4gICAgICAgIGlmICghbWF0Y2hSZXN1bHQpIHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbWF0Y2hlZFN0cmluZyA9IG1hdGNoUmVzdWx0WzBdO1xuICAgICAgICB2YXIgcGFyc2VQYXR0ZXJucyA9IHdpZHRoICYmIGFyZ3MucGFyc2VQYXR0ZXJuc1t3aWR0aF0gfHwgYXJncy5wYXJzZVBhdHRlcm5zW2FyZ3MuZGVmYXVsdFBhcnNlV2lkdGhdO1xuICAgICAgICB2YXIga2V5ID0gQXJyYXkuaXNBcnJheShwYXJzZVBhdHRlcm5zKSA/IGZpbmRJbmRleChwYXJzZVBhdHRlcm5zLCBmdW5jdGlvbihwYXR0ZXJuKSB7XG4gICAgICAgICAgcmV0dXJuIHBhdHRlcm4udGVzdChtYXRjaGVkU3RyaW5nKTtcbiAgICAgICAgfSkgOiBmaW5kS2V5KHBhcnNlUGF0dGVybnMsIGZ1bmN0aW9uKHBhdHRlcm4pIHtcbiAgICAgICAgICByZXR1cm4gcGF0dGVybi50ZXN0KG1hdGNoZWRTdHJpbmcpO1xuICAgICAgICB9KTtcbiAgICAgICAgdmFyIHZhbHVlO1xuICAgICAgICB2YWx1ZSA9IGFyZ3MudmFsdWVDYWxsYmFjayA/IGFyZ3MudmFsdWVDYWxsYmFjayhrZXkpIDoga2V5O1xuICAgICAgICB2YWx1ZSA9IG9wdGlvbnMudmFsdWVDYWxsYmFjayA/IG9wdGlvbnMudmFsdWVDYWxsYmFjayh2YWx1ZSkgOiB2YWx1ZTtcbiAgICAgICAgdmFyIHJlc3QgPSBzdHJpbmcuc2xpY2UobWF0Y2hlZFN0cmluZy5sZW5ndGgpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgIHJlc3RcbiAgICAgICAgfTtcbiAgICAgIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIGZpbmRLZXkob2JqZWN0LCBwcmVkaWNhdGUpIHtcbiAgICAgIGZvciAodmFyIGtleSBpbiBvYmplY3QpIHtcbiAgICAgICAgaWYgKG9iamVjdC5oYXNPd25Qcm9wZXJ0eShrZXkpICYmIHByZWRpY2F0ZShvYmplY3Rba2V5XSkpIHtcbiAgICAgICAgICByZXR1cm4ga2V5O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdm9pZCAwO1xuICAgIH1cbiAgICBmdW5jdGlvbiBmaW5kSW5kZXgoYXJyYXksIHByZWRpY2F0ZSkge1xuICAgICAgZm9yICh2YXIga2V5ID0gMDsga2V5IDwgYXJyYXkubGVuZ3RoOyBrZXkrKykge1xuICAgICAgICBpZiAocHJlZGljYXRlKGFycmF5W2tleV0pKSB7XG4gICAgICAgICAgcmV0dXJuIGtleTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHZvaWQgMDtcbiAgICB9XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG4vLyAuLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvbG9jYWxlL19saWIvYnVpbGRNYXRjaFBhdHRlcm5Gbi9pbmRleC5qc1xudmFyIHJlcXVpcmVfYnVpbGRNYXRjaFBhdHRlcm5GbiA9IF9fY29tbW9uSlMoe1xuICBcIi4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9sb2NhbGUvX2xpYi9idWlsZE1hdGNoUGF0dGVybkZuL2luZGV4LmpzXCIoZXhwb3J0cywgbW9kdWxlKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgICB2YWx1ZTogdHJ1ZVxuICAgIH0pO1xuICAgIGV4cG9ydHMuZGVmYXVsdCA9IGJ1aWxkTWF0Y2hQYXR0ZXJuRm47XG4gICAgZnVuY3Rpb24gYnVpbGRNYXRjaFBhdHRlcm5GbihhcmdzKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oc3RyaW5nKSB7XG4gICAgICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB2b2lkIDAgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgICAgICAgdmFyIG1hdGNoUmVzdWx0ID0gc3RyaW5nLm1hdGNoKGFyZ3MubWF0Y2hQYXR0ZXJuKTtcbiAgICAgICAgaWYgKCFtYXRjaFJlc3VsdClcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgdmFyIG1hdGNoZWRTdHJpbmcgPSBtYXRjaFJlc3VsdFswXTtcbiAgICAgICAgdmFyIHBhcnNlUmVzdWx0ID0gc3RyaW5nLm1hdGNoKGFyZ3MucGFyc2VQYXR0ZXJuKTtcbiAgICAgICAgaWYgKCFwYXJzZVJlc3VsdClcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgdmFyIHZhbHVlID0gYXJncy52YWx1ZUNhbGxiYWNrID8gYXJncy52YWx1ZUNhbGxiYWNrKHBhcnNlUmVzdWx0WzBdKSA6IHBhcnNlUmVzdWx0WzBdO1xuICAgICAgICB2YWx1ZSA9IG9wdGlvbnMudmFsdWVDYWxsYmFjayA/IG9wdGlvbnMudmFsdWVDYWxsYmFjayh2YWx1ZSkgOiB2YWx1ZTtcbiAgICAgICAgdmFyIHJlc3QgPSBzdHJpbmcuc2xpY2UobWF0Y2hlZFN0cmluZy5sZW5ndGgpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgIHJlc3RcbiAgICAgICAgfTtcbiAgICAgIH07XG4gICAgfVxuICAgIG1vZHVsZS5leHBvcnRzID0gZXhwb3J0cy5kZWZhdWx0O1xuICB9XG59KTtcblxuLy8gLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2xvY2FsZS9lbi1VUy9fbGliL21hdGNoL2luZGV4LmpzXG52YXIgcmVxdWlyZV9tYXRjaCA9IF9fY29tbW9uSlMoe1xuICBcIi4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9sb2NhbGUvZW4tVVMvX2xpYi9tYXRjaC9pbmRleC5qc1wiKGV4cG9ydHMsIG1vZHVsZSkge1xuICAgIFwidXNlIHN0cmljdFwiO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgICAgdmFsdWU6IHRydWVcbiAgICB9KTtcbiAgICBleHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7XG4gICAgdmFyIF9pbmRleCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZV9idWlsZE1hdGNoRm4oKSk7XG4gICAgdmFyIF9pbmRleDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmVfYnVpbGRNYXRjaFBhdHRlcm5GbigpKTtcbiAgICBmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikge1xuICAgICAgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07XG4gICAgfVxuICAgIHZhciBtYXRjaE9yZGluYWxOdW1iZXJQYXR0ZXJuID0gL14oXFxkKykodGh8c3R8bmR8cmQpPy9pO1xuICAgIHZhciBwYXJzZU9yZGluYWxOdW1iZXJQYXR0ZXJuID0gL1xcZCsvaTtcbiAgICB2YXIgbWF0Y2hFcmFQYXR0ZXJucyA9IHtcbiAgICAgIG5hcnJvdzogL14oYnxhKS9pLFxuICAgICAgYWJicmV2aWF0ZWQ6IC9eKGJcXC4/XFxzP2NcXC4/fGJcXC4/XFxzP2NcXC4/XFxzP2VcXC4/fGFcXC4/XFxzP2RcXC4/fGNcXC4/XFxzP2VcXC4/KS9pLFxuICAgICAgd2lkZTogL14oYmVmb3JlIGNocmlzdHxiZWZvcmUgY29tbW9uIGVyYXxhbm5vIGRvbWluaXxjb21tb24gZXJhKS9pXG4gICAgfTtcbiAgICB2YXIgcGFyc2VFcmFQYXR0ZXJucyA9IHtcbiAgICAgIGFueTogWy9eYi9pLCAvXihhfGMpL2ldXG4gICAgfTtcbiAgICB2YXIgbWF0Y2hRdWFydGVyUGF0dGVybnMgPSB7XG4gICAgICBuYXJyb3c6IC9eWzEyMzRdL2ksXG4gICAgICBhYmJyZXZpYXRlZDogL15xWzEyMzRdL2ksXG4gICAgICB3aWRlOiAvXlsxMjM0XSh0aHxzdHxuZHxyZCk/IHF1YXJ0ZXIvaVxuICAgIH07XG4gICAgdmFyIHBhcnNlUXVhcnRlclBhdHRlcm5zID0ge1xuICAgICAgYW55OiBbLzEvaSwgLzIvaSwgLzMvaSwgLzQvaV1cbiAgICB9O1xuICAgIHZhciBtYXRjaE1vbnRoUGF0dGVybnMgPSB7XG4gICAgICBuYXJyb3c6IC9eW2pmbWFzb25kXS9pLFxuICAgICAgYWJicmV2aWF0ZWQ6IC9eKGphbnxmZWJ8bWFyfGFwcnxtYXl8anVufGp1bHxhdWd8c2VwfG9jdHxub3Z8ZGVjKS9pLFxuICAgICAgd2lkZTogL14oamFudWFyeXxmZWJydWFyeXxtYXJjaHxhcHJpbHxtYXl8anVuZXxqdWx5fGF1Z3VzdHxzZXB0ZW1iZXJ8b2N0b2Jlcnxub3ZlbWJlcnxkZWNlbWJlcikvaVxuICAgIH07XG4gICAgdmFyIHBhcnNlTW9udGhQYXR0ZXJucyA9IHtcbiAgICAgIG5hcnJvdzogWy9eai9pLCAvXmYvaSwgL15tL2ksIC9eYS9pLCAvXm0vaSwgL15qL2ksIC9eai9pLCAvXmEvaSwgL15zL2ksIC9eby9pLCAvXm4vaSwgL15kL2ldLFxuICAgICAgYW55OiBbL15qYS9pLCAvXmYvaSwgL15tYXIvaSwgL15hcC9pLCAvXm1heS9pLCAvXmp1bi9pLCAvXmp1bC9pLCAvXmF1L2ksIC9ecy9pLCAvXm8vaSwgL15uL2ksIC9eZC9pXVxuICAgIH07XG4gICAgdmFyIG1hdGNoRGF5UGF0dGVybnMgPSB7XG4gICAgICBuYXJyb3c6IC9eW3NtdHdmXS9pLFxuICAgICAgc2hvcnQ6IC9eKHN1fG1vfHR1fHdlfHRofGZyfHNhKS9pLFxuICAgICAgYWJicmV2aWF0ZWQ6IC9eKHN1bnxtb258dHVlfHdlZHx0aHV8ZnJpfHNhdCkvaSxcbiAgICAgIHdpZGU6IC9eKHN1bmRheXxtb25kYXl8dHVlc2RheXx3ZWRuZXNkYXl8dGh1cnNkYXl8ZnJpZGF5fHNhdHVyZGF5KS9pXG4gICAgfTtcbiAgICB2YXIgcGFyc2VEYXlQYXR0ZXJucyA9IHtcbiAgICAgIG5hcnJvdzogWy9ecy9pLCAvXm0vaSwgL150L2ksIC9edy9pLCAvXnQvaSwgL15mL2ksIC9ecy9pXSxcbiAgICAgIGFueTogWy9ec3UvaSwgL15tL2ksIC9edHUvaSwgL153L2ksIC9edGgvaSwgL15mL2ksIC9ec2EvaV1cbiAgICB9O1xuICAgIHZhciBtYXRjaERheVBlcmlvZFBhdHRlcm5zID0ge1xuICAgICAgbmFycm93OiAvXihhfHB8bWl8bnwoaW4gdGhlfGF0KSAobW9ybmluZ3xhZnRlcm5vb258ZXZlbmluZ3xuaWdodCkpL2ksXG4gICAgICBhbnk6IC9eKFthcF1cXC4/XFxzP21cXC4/fG1pZG5pZ2h0fG5vb258KGluIHRoZXxhdCkgKG1vcm5pbmd8YWZ0ZXJub29ufGV2ZW5pbmd8bmlnaHQpKS9pXG4gICAgfTtcbiAgICB2YXIgcGFyc2VEYXlQZXJpb2RQYXR0ZXJucyA9IHtcbiAgICAgIGFueToge1xuICAgICAgICBhbTogL15hL2ksXG4gICAgICAgIHBtOiAvXnAvaSxcbiAgICAgICAgbWlkbmlnaHQ6IC9ebWkvaSxcbiAgICAgICAgbm9vbjogL15uby9pLFxuICAgICAgICBtb3JuaW5nOiAvbW9ybmluZy9pLFxuICAgICAgICBhZnRlcm5vb246IC9hZnRlcm5vb24vaSxcbiAgICAgICAgZXZlbmluZzogL2V2ZW5pbmcvaSxcbiAgICAgICAgbmlnaHQ6IC9uaWdodC9pXG4gICAgICB9XG4gICAgfTtcbiAgICB2YXIgbWF0Y2ggPSB7XG4gICAgICBvcmRpbmFsTnVtYmVyOiAoMCwgX2luZGV4Mi5kZWZhdWx0KSh7XG4gICAgICAgIG1hdGNoUGF0dGVybjogbWF0Y2hPcmRpbmFsTnVtYmVyUGF0dGVybixcbiAgICAgICAgcGFyc2VQYXR0ZXJuOiBwYXJzZU9yZGluYWxOdW1iZXJQYXR0ZXJuLFxuICAgICAgICB2YWx1ZUNhbGxiYWNrOiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgIHJldHVybiBwYXJzZUludCh2YWx1ZSwgMTApO1xuICAgICAgICB9XG4gICAgICB9KSxcbiAgICAgIGVyYTogKDAsIF9pbmRleC5kZWZhdWx0KSh7XG4gICAgICAgIG1hdGNoUGF0dGVybnM6IG1hdGNoRXJhUGF0dGVybnMsXG4gICAgICAgIGRlZmF1bHRNYXRjaFdpZHRoOiBcIndpZGVcIixcbiAgICAgICAgcGFyc2VQYXR0ZXJuczogcGFyc2VFcmFQYXR0ZXJucyxcbiAgICAgICAgZGVmYXVsdFBhcnNlV2lkdGg6IFwiYW55XCJcbiAgICAgIH0pLFxuICAgICAgcXVhcnRlcjogKDAsIF9pbmRleC5kZWZhdWx0KSh7XG4gICAgICAgIG1hdGNoUGF0dGVybnM6IG1hdGNoUXVhcnRlclBhdHRlcm5zLFxuICAgICAgICBkZWZhdWx0TWF0Y2hXaWR0aDogXCJ3aWRlXCIsXG4gICAgICAgIHBhcnNlUGF0dGVybnM6IHBhcnNlUXVhcnRlclBhdHRlcm5zLFxuICAgICAgICBkZWZhdWx0UGFyc2VXaWR0aDogXCJhbnlcIixcbiAgICAgICAgdmFsdWVDYWxsYmFjazogZnVuY3Rpb24oaW5kZXgpIHtcbiAgICAgICAgICByZXR1cm4gaW5kZXggKyAxO1xuICAgICAgICB9XG4gICAgICB9KSxcbiAgICAgIG1vbnRoOiAoMCwgX2luZGV4LmRlZmF1bHQpKHtcbiAgICAgICAgbWF0Y2hQYXR0ZXJuczogbWF0Y2hNb250aFBhdHRlcm5zLFxuICAgICAgICBkZWZhdWx0TWF0Y2hXaWR0aDogXCJ3aWRlXCIsXG4gICAgICAgIHBhcnNlUGF0dGVybnM6IHBhcnNlTW9udGhQYXR0ZXJucyxcbiAgICAgICAgZGVmYXVsdFBhcnNlV2lkdGg6IFwiYW55XCJcbiAgICAgIH0pLFxuICAgICAgZGF5OiAoMCwgX2luZGV4LmRlZmF1bHQpKHtcbiAgICAgICAgbWF0Y2hQYXR0ZXJuczogbWF0Y2hEYXlQYXR0ZXJucyxcbiAgICAgICAgZGVmYXVsdE1hdGNoV2lkdGg6IFwid2lkZVwiLFxuICAgICAgICBwYXJzZVBhdHRlcm5zOiBwYXJzZURheVBhdHRlcm5zLFxuICAgICAgICBkZWZhdWx0UGFyc2VXaWR0aDogXCJhbnlcIlxuICAgICAgfSksXG4gICAgICBkYXlQZXJpb2Q6ICgwLCBfaW5kZXguZGVmYXVsdCkoe1xuICAgICAgICBtYXRjaFBhdHRlcm5zOiBtYXRjaERheVBlcmlvZFBhdHRlcm5zLFxuICAgICAgICBkZWZhdWx0TWF0Y2hXaWR0aDogXCJhbnlcIixcbiAgICAgICAgcGFyc2VQYXR0ZXJuczogcGFyc2VEYXlQZXJpb2RQYXR0ZXJucyxcbiAgICAgICAgZGVmYXVsdFBhcnNlV2lkdGg6IFwiYW55XCJcbiAgICAgIH0pXG4gICAgfTtcbiAgICB2YXIgX2RlZmF1bHQgPSBtYXRjaDtcbiAgICBleHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMuZGVmYXVsdDtcbiAgfVxufSk7XG5cbi8vIC4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9sb2NhbGUvZW4tVVMvaW5kZXguanNcbnZhciByZXF1aXJlX2VuX1VTID0gX19jb21tb25KUyh7XG4gIFwiLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2xvY2FsZS9lbi1VUy9pbmRleC5qc1wiKGV4cG9ydHMsIG1vZHVsZSkge1xuICAgIFwidXNlIHN0cmljdFwiO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgICAgdmFsdWU6IHRydWVcbiAgICB9KTtcbiAgICBleHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7XG4gICAgdmFyIF9pbmRleCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZV9mb3JtYXREaXN0YW5jZSgpKTtcbiAgICB2YXIgX2luZGV4MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZV9mb3JtYXRMb25nKCkpO1xuICAgIHZhciBfaW5kZXgzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlX2Zvcm1hdFJlbGF0aXZlKCkpO1xuICAgIHZhciBfaW5kZXg0ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlX2xvY2FsaXplKCkpO1xuICAgIHZhciBfaW5kZXg1ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlX21hdGNoKCkpO1xuICAgIGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7XG4gICAgICByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTtcbiAgICB9XG4gICAgdmFyIGxvY2FsZSA9IHtcbiAgICAgIGNvZGU6IFwiZW4tVVNcIixcbiAgICAgIGZvcm1hdERpc3RhbmNlOiBfaW5kZXguZGVmYXVsdCxcbiAgICAgIGZvcm1hdExvbmc6IF9pbmRleDIuZGVmYXVsdCxcbiAgICAgIGZvcm1hdFJlbGF0aXZlOiBfaW5kZXgzLmRlZmF1bHQsXG4gICAgICBsb2NhbGl6ZTogX2luZGV4NC5kZWZhdWx0LFxuICAgICAgbWF0Y2g6IF9pbmRleDUuZGVmYXVsdCxcbiAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgd2Vla1N0YXJ0c09uOiAwLFxuICAgICAgICBmaXJzdFdlZWtDb250YWluc0RhdGU6IDFcbiAgICAgIH1cbiAgICB9O1xuICAgIHZhciBfZGVmYXVsdCA9IGxvY2FsZTtcbiAgICBleHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMuZGVmYXVsdDtcbiAgfVxufSk7XG5cbi8vIC4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9fbGliL3RvSW50ZWdlci9pbmRleC5qc1xudmFyIHJlcXVpcmVfdG9JbnRlZ2VyID0gX19jb21tb25KUyh7XG4gIFwiLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL19saWIvdG9JbnRlZ2VyL2luZGV4LmpzXCIoZXhwb3J0cywgbW9kdWxlKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgICB2YWx1ZTogdHJ1ZVxuICAgIH0pO1xuICAgIGV4cG9ydHMuZGVmYXVsdCA9IHRvSW50ZWdlcjtcbiAgICBmdW5jdGlvbiB0b0ludGVnZXIoZGlydHlOdW1iZXIpIHtcbiAgICAgIGlmIChkaXJ0eU51bWJlciA9PT0gbnVsbCB8fCBkaXJ0eU51bWJlciA9PT0gdHJ1ZSB8fCBkaXJ0eU51bWJlciA9PT0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuIE5hTjtcbiAgICAgIH1cbiAgICAgIHZhciBudW1iZXIgPSBOdW1iZXIoZGlydHlOdW1iZXIpO1xuICAgICAgaWYgKGlzTmFOKG51bWJlcikpIHtcbiAgICAgICAgcmV0dXJuIG51bWJlcjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBudW1iZXIgPCAwID8gTWF0aC5jZWlsKG51bWJlcikgOiBNYXRoLmZsb29yKG51bWJlcik7XG4gICAgfVxuICAgIG1vZHVsZS5leHBvcnRzID0gZXhwb3J0cy5kZWZhdWx0O1xuICB9XG59KTtcblxuLy8gLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2FkZE1pbGxpc2Vjb25kcy9pbmRleC5qc1xudmFyIHJlcXVpcmVfYWRkTWlsbGlzZWNvbmRzID0gX19jb21tb25KUyh7XG4gIFwiLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2FkZE1pbGxpc2Vjb25kcy9pbmRleC5qc1wiKGV4cG9ydHMsIG1vZHVsZSkge1xuICAgIFwidXNlIHN0cmljdFwiO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgICAgdmFsdWU6IHRydWVcbiAgICB9KTtcbiAgICBleHBvcnRzLmRlZmF1bHQgPSBhZGRNaWxsaXNlY29uZHM7XG4gICAgdmFyIF9pbmRleCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZV90b0ludGVnZXIoKSk7XG4gICAgdmFyIF9pbmRleDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmVfdG9EYXRlKCkpO1xuICAgIHZhciBfaW5kZXgzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlX3JlcXVpcmVkQXJncygpKTtcbiAgICBmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikge1xuICAgICAgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIGFkZE1pbGxpc2Vjb25kcyhkaXJ0eURhdGUsIGRpcnR5QW1vdW50KSB7XG4gICAgICAoMCwgX2luZGV4My5kZWZhdWx0KSgyLCBhcmd1bWVudHMpO1xuICAgICAgdmFyIHRpbWVzdGFtcCA9ICgwLCBfaW5kZXgyLmRlZmF1bHQpKGRpcnR5RGF0ZSkuZ2V0VGltZSgpO1xuICAgICAgdmFyIGFtb3VudCA9ICgwLCBfaW5kZXguZGVmYXVsdCkoZGlydHlBbW91bnQpO1xuICAgICAgcmV0dXJuIG5ldyBEYXRlKHRpbWVzdGFtcCArIGFtb3VudCk7XG4gICAgfVxuICAgIG1vZHVsZS5leHBvcnRzID0gZXhwb3J0cy5kZWZhdWx0O1xuICB9XG59KTtcblxuLy8gLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL3N1Yk1pbGxpc2Vjb25kcy9pbmRleC5qc1xudmFyIHJlcXVpcmVfc3ViTWlsbGlzZWNvbmRzID0gX19jb21tb25KUyh7XG4gIFwiLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL3N1Yk1pbGxpc2Vjb25kcy9pbmRleC5qc1wiKGV4cG9ydHMsIG1vZHVsZSkge1xuICAgIFwidXNlIHN0cmljdFwiO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgICAgdmFsdWU6IHRydWVcbiAgICB9KTtcbiAgICBleHBvcnRzLmRlZmF1bHQgPSBzdWJNaWxsaXNlY29uZHM7XG4gICAgdmFyIF9pbmRleCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZV90b0ludGVnZXIoKSk7XG4gICAgdmFyIF9pbmRleDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmVfYWRkTWlsbGlzZWNvbmRzKCkpO1xuICAgIHZhciBfaW5kZXgzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlX3JlcXVpcmVkQXJncygpKTtcbiAgICBmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikge1xuICAgICAgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIHN1Yk1pbGxpc2Vjb25kcyhkaXJ0eURhdGUsIGRpcnR5QW1vdW50KSB7XG4gICAgICAoMCwgX2luZGV4My5kZWZhdWx0KSgyLCBhcmd1bWVudHMpO1xuICAgICAgdmFyIGFtb3VudCA9ICgwLCBfaW5kZXguZGVmYXVsdCkoZGlydHlBbW91bnQpO1xuICAgICAgcmV0dXJuICgwLCBfaW5kZXgyLmRlZmF1bHQpKGRpcnR5RGF0ZSwgLWFtb3VudCk7XG4gICAgfVxuICAgIG1vZHVsZS5leHBvcnRzID0gZXhwb3J0cy5kZWZhdWx0O1xuICB9XG59KTtcblxuLy8gLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL19saWIvZ2V0VVRDRGF5T2ZZZWFyL2luZGV4LmpzXG52YXIgcmVxdWlyZV9nZXRVVENEYXlPZlllYXIgPSBfX2NvbW1vbkpTKHtcbiAgXCIuLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvX2xpYi9nZXRVVENEYXlPZlllYXIvaW5kZXguanNcIihleHBvcnRzLCBtb2R1bGUpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICAgIHZhbHVlOiB0cnVlXG4gICAgfSk7XG4gICAgZXhwb3J0cy5kZWZhdWx0ID0gZ2V0VVRDRGF5T2ZZZWFyO1xuICAgIHZhciBfaW5kZXggPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmVfdG9EYXRlKCkpO1xuICAgIHZhciBfaW5kZXgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlX3JlcXVpcmVkQXJncygpKTtcbiAgICBmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikge1xuICAgICAgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07XG4gICAgfVxuICAgIHZhciBNSUxMSVNFQ09ORFNfSU5fREFZID0gODY0ZTU7XG4gICAgZnVuY3Rpb24gZ2V0VVRDRGF5T2ZZZWFyKGRpcnR5RGF0ZSkge1xuICAgICAgKDAsIF9pbmRleDIuZGVmYXVsdCkoMSwgYXJndW1lbnRzKTtcbiAgICAgIHZhciBkYXRlID0gKDAsIF9pbmRleC5kZWZhdWx0KShkaXJ0eURhdGUpO1xuICAgICAgdmFyIHRpbWVzdGFtcCA9IGRhdGUuZ2V0VGltZSgpO1xuICAgICAgZGF0ZS5zZXRVVENNb250aCgwLCAxKTtcbiAgICAgIGRhdGUuc2V0VVRDSG91cnMoMCwgMCwgMCwgMCk7XG4gICAgICB2YXIgc3RhcnRPZlllYXJUaW1lc3RhbXAgPSBkYXRlLmdldFRpbWUoKTtcbiAgICAgIHZhciBkaWZmZXJlbmNlID0gdGltZXN0YW1wIC0gc3RhcnRPZlllYXJUaW1lc3RhbXA7XG4gICAgICByZXR1cm4gTWF0aC5mbG9vcihkaWZmZXJlbmNlIC8gTUlMTElTRUNPTkRTX0lOX0RBWSkgKyAxO1xuICAgIH1cbiAgICBtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMuZGVmYXVsdDtcbiAgfVxufSk7XG5cbi8vIC4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9fbGliL3N0YXJ0T2ZVVENJU09XZWVrL2luZGV4LmpzXG52YXIgcmVxdWlyZV9zdGFydE9mVVRDSVNPV2VlayA9IF9fY29tbW9uSlMoe1xuICBcIi4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9fbGliL3N0YXJ0T2ZVVENJU09XZWVrL2luZGV4LmpzXCIoZXhwb3J0cywgbW9kdWxlKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgICB2YWx1ZTogdHJ1ZVxuICAgIH0pO1xuICAgIGV4cG9ydHMuZGVmYXVsdCA9IHN0YXJ0T2ZVVENJU09XZWVrO1xuICAgIHZhciBfaW5kZXggPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmVfdG9EYXRlKCkpO1xuICAgIHZhciBfaW5kZXgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlX3JlcXVpcmVkQXJncygpKTtcbiAgICBmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikge1xuICAgICAgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIHN0YXJ0T2ZVVENJU09XZWVrKGRpcnR5RGF0ZSkge1xuICAgICAgKDAsIF9pbmRleDIuZGVmYXVsdCkoMSwgYXJndW1lbnRzKTtcbiAgICAgIHZhciB3ZWVrU3RhcnRzT24gPSAxO1xuICAgICAgdmFyIGRhdGUgPSAoMCwgX2luZGV4LmRlZmF1bHQpKGRpcnR5RGF0ZSk7XG4gICAgICB2YXIgZGF5ID0gZGF0ZS5nZXRVVENEYXkoKTtcbiAgICAgIHZhciBkaWZmID0gKGRheSA8IHdlZWtTdGFydHNPbiA/IDcgOiAwKSArIGRheSAtIHdlZWtTdGFydHNPbjtcbiAgICAgIGRhdGUuc2V0VVRDRGF0ZShkYXRlLmdldFVUQ0RhdGUoKSAtIGRpZmYpO1xuICAgICAgZGF0ZS5zZXRVVENIb3VycygwLCAwLCAwLCAwKTtcbiAgICAgIHJldHVybiBkYXRlO1xuICAgIH1cbiAgICBtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMuZGVmYXVsdDtcbiAgfVxufSk7XG5cbi8vIC4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9fbGliL2dldFVUQ0lTT1dlZWtZZWFyL2luZGV4LmpzXG52YXIgcmVxdWlyZV9nZXRVVENJU09XZWVrWWVhciA9IF9fY29tbW9uSlMoe1xuICBcIi4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9fbGliL2dldFVUQ0lTT1dlZWtZZWFyL2luZGV4LmpzXCIoZXhwb3J0cywgbW9kdWxlKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgICB2YWx1ZTogdHJ1ZVxuICAgIH0pO1xuICAgIGV4cG9ydHMuZGVmYXVsdCA9IGdldFVUQ0lTT1dlZWtZZWFyO1xuICAgIHZhciBfaW5kZXggPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmVfdG9EYXRlKCkpO1xuICAgIHZhciBfaW5kZXgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlX3JlcXVpcmVkQXJncygpKTtcbiAgICB2YXIgX2luZGV4MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZV9zdGFydE9mVVRDSVNPV2VlaygpKTtcbiAgICBmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikge1xuICAgICAgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldFVUQ0lTT1dlZWtZZWFyKGRpcnR5RGF0ZSkge1xuICAgICAgKDAsIF9pbmRleDIuZGVmYXVsdCkoMSwgYXJndW1lbnRzKTtcbiAgICAgIHZhciBkYXRlID0gKDAsIF9pbmRleC5kZWZhdWx0KShkaXJ0eURhdGUpO1xuICAgICAgdmFyIHllYXIgPSBkYXRlLmdldFVUQ0Z1bGxZZWFyKCk7XG4gICAgICB2YXIgZm91cnRoT2ZKYW51YXJ5T2ZOZXh0WWVhciA9IG5ldyBEYXRlKDApO1xuICAgICAgZm91cnRoT2ZKYW51YXJ5T2ZOZXh0WWVhci5zZXRVVENGdWxsWWVhcih5ZWFyICsgMSwgMCwgNCk7XG4gICAgICBmb3VydGhPZkphbnVhcnlPZk5leHRZZWFyLnNldFVUQ0hvdXJzKDAsIDAsIDAsIDApO1xuICAgICAgdmFyIHN0YXJ0T2ZOZXh0WWVhciA9ICgwLCBfaW5kZXgzLmRlZmF1bHQpKGZvdXJ0aE9mSmFudWFyeU9mTmV4dFllYXIpO1xuICAgICAgdmFyIGZvdXJ0aE9mSmFudWFyeU9mVGhpc1llYXIgPSBuZXcgRGF0ZSgwKTtcbiAgICAgIGZvdXJ0aE9mSmFudWFyeU9mVGhpc1llYXIuc2V0VVRDRnVsbFllYXIoeWVhciwgMCwgNCk7XG4gICAgICBmb3VydGhPZkphbnVhcnlPZlRoaXNZZWFyLnNldFVUQ0hvdXJzKDAsIDAsIDAsIDApO1xuICAgICAgdmFyIHN0YXJ0T2ZUaGlzWWVhciA9ICgwLCBfaW5kZXgzLmRlZmF1bHQpKGZvdXJ0aE9mSmFudWFyeU9mVGhpc1llYXIpO1xuICAgICAgaWYgKGRhdGUuZ2V0VGltZSgpID49IHN0YXJ0T2ZOZXh0WWVhci5nZXRUaW1lKCkpIHtcbiAgICAgICAgcmV0dXJuIHllYXIgKyAxO1xuICAgICAgfSBlbHNlIGlmIChkYXRlLmdldFRpbWUoKSA+PSBzdGFydE9mVGhpc1llYXIuZ2V0VGltZSgpKSB7XG4gICAgICAgIHJldHVybiB5ZWFyO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHllYXIgLSAxO1xuICAgICAgfVxuICAgIH1cbiAgICBtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMuZGVmYXVsdDtcbiAgfVxufSk7XG5cbi8vIC4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9fbGliL3N0YXJ0T2ZVVENJU09XZWVrWWVhci9pbmRleC5qc1xudmFyIHJlcXVpcmVfc3RhcnRPZlVUQ0lTT1dlZWtZZWFyID0gX19jb21tb25KUyh7XG4gIFwiLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL19saWIvc3RhcnRPZlVUQ0lTT1dlZWtZZWFyL2luZGV4LmpzXCIoZXhwb3J0cywgbW9kdWxlKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgICB2YWx1ZTogdHJ1ZVxuICAgIH0pO1xuICAgIGV4cG9ydHMuZGVmYXVsdCA9IHN0YXJ0T2ZVVENJU09XZWVrWWVhcjtcbiAgICB2YXIgX2luZGV4ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlX2dldFVUQ0lTT1dlZWtZZWFyKCkpO1xuICAgIHZhciBfaW5kZXgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlX3N0YXJ0T2ZVVENJU09XZWVrKCkpO1xuICAgIHZhciBfaW5kZXgzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlX3JlcXVpcmVkQXJncygpKTtcbiAgICBmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikge1xuICAgICAgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIHN0YXJ0T2ZVVENJU09XZWVrWWVhcihkaXJ0eURhdGUpIHtcbiAgICAgICgwLCBfaW5kZXgzLmRlZmF1bHQpKDEsIGFyZ3VtZW50cyk7XG4gICAgICB2YXIgeWVhciA9ICgwLCBfaW5kZXguZGVmYXVsdCkoZGlydHlEYXRlKTtcbiAgICAgIHZhciBmb3VydGhPZkphbnVhcnkgPSBuZXcgRGF0ZSgwKTtcbiAgICAgIGZvdXJ0aE9mSmFudWFyeS5zZXRVVENGdWxsWWVhcih5ZWFyLCAwLCA0KTtcbiAgICAgIGZvdXJ0aE9mSmFudWFyeS5zZXRVVENIb3VycygwLCAwLCAwLCAwKTtcbiAgICAgIHZhciBkYXRlID0gKDAsIF9pbmRleDIuZGVmYXVsdCkoZm91cnRoT2ZKYW51YXJ5KTtcbiAgICAgIHJldHVybiBkYXRlO1xuICAgIH1cbiAgICBtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMuZGVmYXVsdDtcbiAgfVxufSk7XG5cbi8vIC4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9fbGliL2dldFVUQ0lTT1dlZWsvaW5kZXguanNcbnZhciByZXF1aXJlX2dldFVUQ0lTT1dlZWsgPSBfX2NvbW1vbkpTKHtcbiAgXCIuLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvX2xpYi9nZXRVVENJU09XZWVrL2luZGV4LmpzXCIoZXhwb3J0cywgbW9kdWxlKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgICB2YWx1ZTogdHJ1ZVxuICAgIH0pO1xuICAgIGV4cG9ydHMuZGVmYXVsdCA9IGdldFVUQ0lTT1dlZWs7XG4gICAgdmFyIF9pbmRleCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZV90b0RhdGUoKSk7XG4gICAgdmFyIF9pbmRleDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmVfc3RhcnRPZlVUQ0lTT1dlZWsoKSk7XG4gICAgdmFyIF9pbmRleDMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmVfc3RhcnRPZlVUQ0lTT1dlZWtZZWFyKCkpO1xuICAgIHZhciBfaW5kZXg0ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlX3JlcXVpcmVkQXJncygpKTtcbiAgICBmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikge1xuICAgICAgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07XG4gICAgfVxuICAgIHZhciBNSUxMSVNFQ09ORFNfSU5fV0VFSyA9IDYwNDhlNTtcbiAgICBmdW5jdGlvbiBnZXRVVENJU09XZWVrKGRpcnR5RGF0ZSkge1xuICAgICAgKDAsIF9pbmRleDQuZGVmYXVsdCkoMSwgYXJndW1lbnRzKTtcbiAgICAgIHZhciBkYXRlID0gKDAsIF9pbmRleC5kZWZhdWx0KShkaXJ0eURhdGUpO1xuICAgICAgdmFyIGRpZmYgPSAoMCwgX2luZGV4Mi5kZWZhdWx0KShkYXRlKS5nZXRUaW1lKCkgLSAoMCwgX2luZGV4My5kZWZhdWx0KShkYXRlKS5nZXRUaW1lKCk7XG4gICAgICByZXR1cm4gTWF0aC5yb3VuZChkaWZmIC8gTUlMTElTRUNPTkRTX0lOX1dFRUspICsgMTtcbiAgICB9XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG4vLyAuLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvX2xpYi9zdGFydE9mVVRDV2Vlay9pbmRleC5qc1xudmFyIHJlcXVpcmVfc3RhcnRPZlVUQ1dlZWsgPSBfX2NvbW1vbkpTKHtcbiAgXCIuLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvX2xpYi9zdGFydE9mVVRDV2Vlay9pbmRleC5qc1wiKGV4cG9ydHMsIG1vZHVsZSkge1xuICAgIFwidXNlIHN0cmljdFwiO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgICAgdmFsdWU6IHRydWVcbiAgICB9KTtcbiAgICBleHBvcnRzLmRlZmF1bHQgPSBzdGFydE9mVVRDV2VlaztcbiAgICB2YXIgX2luZGV4ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlX3RvRGF0ZSgpKTtcbiAgICB2YXIgX2luZGV4MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZV9yZXF1aXJlZEFyZ3MoKSk7XG4gICAgdmFyIF9pbmRleDMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmVfdG9JbnRlZ2VyKCkpO1xuICAgIGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7XG4gICAgICByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gc3RhcnRPZlVUQ1dlZWsoZGlydHlEYXRlLCBkaXJ0eU9wdGlvbnMpIHtcbiAgICAgICgwLCBfaW5kZXgyLmRlZmF1bHQpKDEsIGFyZ3VtZW50cyk7XG4gICAgICB2YXIgb3B0aW9ucyA9IGRpcnR5T3B0aW9ucyB8fCB7fTtcbiAgICAgIHZhciBsb2NhbGUgPSBvcHRpb25zLmxvY2FsZTtcbiAgICAgIHZhciBsb2NhbGVXZWVrU3RhcnRzT24gPSBsb2NhbGUgJiYgbG9jYWxlLm9wdGlvbnMgJiYgbG9jYWxlLm9wdGlvbnMud2Vla1N0YXJ0c09uO1xuICAgICAgdmFyIGRlZmF1bHRXZWVrU3RhcnRzT24gPSBsb2NhbGVXZWVrU3RhcnRzT24gPT0gbnVsbCA/IDAgOiAoMCwgX2luZGV4My5kZWZhdWx0KShsb2NhbGVXZWVrU3RhcnRzT24pO1xuICAgICAgdmFyIHdlZWtTdGFydHNPbiA9IG9wdGlvbnMud2Vla1N0YXJ0c09uID09IG51bGwgPyBkZWZhdWx0V2Vla1N0YXJ0c09uIDogKDAsIF9pbmRleDMuZGVmYXVsdCkob3B0aW9ucy53ZWVrU3RhcnRzT24pO1xuICAgICAgaWYgKCEod2Vla1N0YXJ0c09uID49IDAgJiYgd2Vla1N0YXJ0c09uIDw9IDYpKSB7XG4gICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwid2Vla1N0YXJ0c09uIG11c3QgYmUgYmV0d2VlbiAwIGFuZCA2IGluY2x1c2l2ZWx5XCIpO1xuICAgICAgfVxuICAgICAgdmFyIGRhdGUgPSAoMCwgX2luZGV4LmRlZmF1bHQpKGRpcnR5RGF0ZSk7XG4gICAgICB2YXIgZGF5ID0gZGF0ZS5nZXRVVENEYXkoKTtcbiAgICAgIHZhciBkaWZmID0gKGRheSA8IHdlZWtTdGFydHNPbiA/IDcgOiAwKSArIGRheSAtIHdlZWtTdGFydHNPbjtcbiAgICAgIGRhdGUuc2V0VVRDRGF0ZShkYXRlLmdldFVUQ0RhdGUoKSAtIGRpZmYpO1xuICAgICAgZGF0ZS5zZXRVVENIb3VycygwLCAwLCAwLCAwKTtcbiAgICAgIHJldHVybiBkYXRlO1xuICAgIH1cbiAgICBtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMuZGVmYXVsdDtcbiAgfVxufSk7XG5cbi8vIC4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9fbGliL2dldFVUQ1dlZWtZZWFyL2luZGV4LmpzXG52YXIgcmVxdWlyZV9nZXRVVENXZWVrWWVhciA9IF9fY29tbW9uSlMoe1xuICBcIi4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9fbGliL2dldFVUQ1dlZWtZZWFyL2luZGV4LmpzXCIoZXhwb3J0cywgbW9kdWxlKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgICB2YWx1ZTogdHJ1ZVxuICAgIH0pO1xuICAgIGV4cG9ydHMuZGVmYXVsdCA9IGdldFVUQ1dlZWtZZWFyO1xuICAgIHZhciBfaW5kZXggPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmVfdG9EYXRlKCkpO1xuICAgIHZhciBfaW5kZXgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlX3JlcXVpcmVkQXJncygpKTtcbiAgICB2YXIgX2luZGV4MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZV9zdGFydE9mVVRDV2VlaygpKTtcbiAgICB2YXIgX2luZGV4NCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZV90b0ludGVnZXIoKSk7XG4gICAgZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHtcbiAgICAgIHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRVVENXZWVrWWVhcihkaXJ0eURhdGUsIGRpcnR5T3B0aW9ucykge1xuICAgICAgKDAsIF9pbmRleDIuZGVmYXVsdCkoMSwgYXJndW1lbnRzKTtcbiAgICAgIHZhciBkYXRlID0gKDAsIF9pbmRleC5kZWZhdWx0KShkaXJ0eURhdGUpO1xuICAgICAgdmFyIHllYXIgPSBkYXRlLmdldFVUQ0Z1bGxZZWFyKCk7XG4gICAgICB2YXIgb3B0aW9ucyA9IGRpcnR5T3B0aW9ucyB8fCB7fTtcbiAgICAgIHZhciBsb2NhbGUgPSBvcHRpb25zLmxvY2FsZTtcbiAgICAgIHZhciBsb2NhbGVGaXJzdFdlZWtDb250YWluc0RhdGUgPSBsb2NhbGUgJiYgbG9jYWxlLm9wdGlvbnMgJiYgbG9jYWxlLm9wdGlvbnMuZmlyc3RXZWVrQ29udGFpbnNEYXRlO1xuICAgICAgdmFyIGRlZmF1bHRGaXJzdFdlZWtDb250YWluc0RhdGUgPSBsb2NhbGVGaXJzdFdlZWtDb250YWluc0RhdGUgPT0gbnVsbCA/IDEgOiAoMCwgX2luZGV4NC5kZWZhdWx0KShsb2NhbGVGaXJzdFdlZWtDb250YWluc0RhdGUpO1xuICAgICAgdmFyIGZpcnN0V2Vla0NvbnRhaW5zRGF0ZSA9IG9wdGlvbnMuZmlyc3RXZWVrQ29udGFpbnNEYXRlID09IG51bGwgPyBkZWZhdWx0Rmlyc3RXZWVrQ29udGFpbnNEYXRlIDogKDAsIF9pbmRleDQuZGVmYXVsdCkob3B0aW9ucy5maXJzdFdlZWtDb250YWluc0RhdGUpO1xuICAgICAgaWYgKCEoZmlyc3RXZWVrQ29udGFpbnNEYXRlID49IDEgJiYgZmlyc3RXZWVrQ29udGFpbnNEYXRlIDw9IDcpKSB7XG4gICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwiZmlyc3RXZWVrQ29udGFpbnNEYXRlIG11c3QgYmUgYmV0d2VlbiAxIGFuZCA3IGluY2x1c2l2ZWx5XCIpO1xuICAgICAgfVxuICAgICAgdmFyIGZpcnN0V2Vla09mTmV4dFllYXIgPSBuZXcgRGF0ZSgwKTtcbiAgICAgIGZpcnN0V2Vla09mTmV4dFllYXIuc2V0VVRDRnVsbFllYXIoeWVhciArIDEsIDAsIGZpcnN0V2Vla0NvbnRhaW5zRGF0ZSk7XG4gICAgICBmaXJzdFdlZWtPZk5leHRZZWFyLnNldFVUQ0hvdXJzKDAsIDAsIDAsIDApO1xuICAgICAgdmFyIHN0YXJ0T2ZOZXh0WWVhciA9ICgwLCBfaW5kZXgzLmRlZmF1bHQpKGZpcnN0V2Vla09mTmV4dFllYXIsIGRpcnR5T3B0aW9ucyk7XG4gICAgICB2YXIgZmlyc3RXZWVrT2ZUaGlzWWVhciA9IG5ldyBEYXRlKDApO1xuICAgICAgZmlyc3RXZWVrT2ZUaGlzWWVhci5zZXRVVENGdWxsWWVhcih5ZWFyLCAwLCBmaXJzdFdlZWtDb250YWluc0RhdGUpO1xuICAgICAgZmlyc3RXZWVrT2ZUaGlzWWVhci5zZXRVVENIb3VycygwLCAwLCAwLCAwKTtcbiAgICAgIHZhciBzdGFydE9mVGhpc1llYXIgPSAoMCwgX2luZGV4My5kZWZhdWx0KShmaXJzdFdlZWtPZlRoaXNZZWFyLCBkaXJ0eU9wdGlvbnMpO1xuICAgICAgaWYgKGRhdGUuZ2V0VGltZSgpID49IHN0YXJ0T2ZOZXh0WWVhci5nZXRUaW1lKCkpIHtcbiAgICAgICAgcmV0dXJuIHllYXIgKyAxO1xuICAgICAgfSBlbHNlIGlmIChkYXRlLmdldFRpbWUoKSA+PSBzdGFydE9mVGhpc1llYXIuZ2V0VGltZSgpKSB7XG4gICAgICAgIHJldHVybiB5ZWFyO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHllYXIgLSAxO1xuICAgICAgfVxuICAgIH1cbiAgICBtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMuZGVmYXVsdDtcbiAgfVxufSk7XG5cbi8vIC4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9fbGliL3N0YXJ0T2ZVVENXZWVrWWVhci9pbmRleC5qc1xudmFyIHJlcXVpcmVfc3RhcnRPZlVUQ1dlZWtZZWFyID0gX19jb21tb25KUyh7XG4gIFwiLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL19saWIvc3RhcnRPZlVUQ1dlZWtZZWFyL2luZGV4LmpzXCIoZXhwb3J0cywgbW9kdWxlKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgICB2YWx1ZTogdHJ1ZVxuICAgIH0pO1xuICAgIGV4cG9ydHMuZGVmYXVsdCA9IHN0YXJ0T2ZVVENXZWVrWWVhcjtcbiAgICB2YXIgX2luZGV4ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlX2dldFVUQ1dlZWtZZWFyKCkpO1xuICAgIHZhciBfaW5kZXgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlX3JlcXVpcmVkQXJncygpKTtcbiAgICB2YXIgX2luZGV4MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZV9zdGFydE9mVVRDV2VlaygpKTtcbiAgICB2YXIgX2luZGV4NCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZV90b0ludGVnZXIoKSk7XG4gICAgZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHtcbiAgICAgIHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBzdGFydE9mVVRDV2Vla1llYXIoZGlydHlEYXRlLCBkaXJ0eU9wdGlvbnMpIHtcbiAgICAgICgwLCBfaW5kZXgyLmRlZmF1bHQpKDEsIGFyZ3VtZW50cyk7XG4gICAgICB2YXIgb3B0aW9ucyA9IGRpcnR5T3B0aW9ucyB8fCB7fTtcbiAgICAgIHZhciBsb2NhbGUgPSBvcHRpb25zLmxvY2FsZTtcbiAgICAgIHZhciBsb2NhbGVGaXJzdFdlZWtDb250YWluc0RhdGUgPSBsb2NhbGUgJiYgbG9jYWxlLm9wdGlvbnMgJiYgbG9jYWxlLm9wdGlvbnMuZmlyc3RXZWVrQ29udGFpbnNEYXRlO1xuICAgICAgdmFyIGRlZmF1bHRGaXJzdFdlZWtDb250YWluc0RhdGUgPSBsb2NhbGVGaXJzdFdlZWtDb250YWluc0RhdGUgPT0gbnVsbCA/IDEgOiAoMCwgX2luZGV4NC5kZWZhdWx0KShsb2NhbGVGaXJzdFdlZWtDb250YWluc0RhdGUpO1xuICAgICAgdmFyIGZpcnN0V2Vla0NvbnRhaW5zRGF0ZSA9IG9wdGlvbnMuZmlyc3RXZWVrQ29udGFpbnNEYXRlID09IG51bGwgPyBkZWZhdWx0Rmlyc3RXZWVrQ29udGFpbnNEYXRlIDogKDAsIF9pbmRleDQuZGVmYXVsdCkob3B0aW9ucy5maXJzdFdlZWtDb250YWluc0RhdGUpO1xuICAgICAgdmFyIHllYXIgPSAoMCwgX2luZGV4LmRlZmF1bHQpKGRpcnR5RGF0ZSwgZGlydHlPcHRpb25zKTtcbiAgICAgIHZhciBmaXJzdFdlZWsgPSBuZXcgRGF0ZSgwKTtcbiAgICAgIGZpcnN0V2Vlay5zZXRVVENGdWxsWWVhcih5ZWFyLCAwLCBmaXJzdFdlZWtDb250YWluc0RhdGUpO1xuICAgICAgZmlyc3RXZWVrLnNldFVUQ0hvdXJzKDAsIDAsIDAsIDApO1xuICAgICAgdmFyIGRhdGUgPSAoMCwgX2luZGV4My5kZWZhdWx0KShmaXJzdFdlZWssIGRpcnR5T3B0aW9ucyk7XG4gICAgICByZXR1cm4gZGF0ZTtcbiAgICB9XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG4vLyAuLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvX2xpYi9nZXRVVENXZWVrL2luZGV4LmpzXG52YXIgcmVxdWlyZV9nZXRVVENXZWVrID0gX19jb21tb25KUyh7XG4gIFwiLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL19saWIvZ2V0VVRDV2Vlay9pbmRleC5qc1wiKGV4cG9ydHMsIG1vZHVsZSkge1xuICAgIFwidXNlIHN0cmljdFwiO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgICAgdmFsdWU6IHRydWVcbiAgICB9KTtcbiAgICBleHBvcnRzLmRlZmF1bHQgPSBnZXRVVENXZWVrO1xuICAgIHZhciBfaW5kZXggPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmVfdG9EYXRlKCkpO1xuICAgIHZhciBfaW5kZXgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlX3N0YXJ0T2ZVVENXZWVrKCkpO1xuICAgIHZhciBfaW5kZXgzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlX3N0YXJ0T2ZVVENXZWVrWWVhcigpKTtcbiAgICB2YXIgX2luZGV4NCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZV9yZXF1aXJlZEFyZ3MoKSk7XG4gICAgZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHtcbiAgICAgIHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9O1xuICAgIH1cbiAgICB2YXIgTUlMTElTRUNPTkRTX0lOX1dFRUsgPSA2MDQ4ZTU7XG4gICAgZnVuY3Rpb24gZ2V0VVRDV2VlayhkaXJ0eURhdGUsIG9wdGlvbnMpIHtcbiAgICAgICgwLCBfaW5kZXg0LmRlZmF1bHQpKDEsIGFyZ3VtZW50cyk7XG4gICAgICB2YXIgZGF0ZSA9ICgwLCBfaW5kZXguZGVmYXVsdCkoZGlydHlEYXRlKTtcbiAgICAgIHZhciBkaWZmID0gKDAsIF9pbmRleDIuZGVmYXVsdCkoZGF0ZSwgb3B0aW9ucykuZ2V0VGltZSgpIC0gKDAsIF9pbmRleDMuZGVmYXVsdCkoZGF0ZSwgb3B0aW9ucykuZ2V0VGltZSgpO1xuICAgICAgcmV0dXJuIE1hdGgucm91bmQoZGlmZiAvIE1JTExJU0VDT05EU19JTl9XRUVLKSArIDE7XG4gICAgfVxuICAgIG1vZHVsZS5leHBvcnRzID0gZXhwb3J0cy5kZWZhdWx0O1xuICB9XG59KTtcblxuLy8gLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL19saWIvYWRkTGVhZGluZ1plcm9zL2luZGV4LmpzXG52YXIgcmVxdWlyZV9hZGRMZWFkaW5nWmVyb3MgPSBfX2NvbW1vbkpTKHtcbiAgXCIuLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvX2xpYi9hZGRMZWFkaW5nWmVyb3MvaW5kZXguanNcIihleHBvcnRzLCBtb2R1bGUpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICAgIHZhbHVlOiB0cnVlXG4gICAgfSk7XG4gICAgZXhwb3J0cy5kZWZhdWx0ID0gYWRkTGVhZGluZ1plcm9zO1xuICAgIGZ1bmN0aW9uIGFkZExlYWRpbmdaZXJvcyhudW1iZXIsIHRhcmdldExlbmd0aCkge1xuICAgICAgdmFyIHNpZ24gPSBudW1iZXIgPCAwID8gXCItXCIgOiBcIlwiO1xuICAgICAgdmFyIG91dHB1dCA9IE1hdGguYWJzKG51bWJlcikudG9TdHJpbmcoKTtcbiAgICAgIHdoaWxlIChvdXRwdXQubGVuZ3RoIDwgdGFyZ2V0TGVuZ3RoKSB7XG4gICAgICAgIG91dHB1dCA9IFwiMFwiICsgb3V0cHV0O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHNpZ24gKyBvdXRwdXQ7XG4gICAgfVxuICAgIG1vZHVsZS5leHBvcnRzID0gZXhwb3J0cy5kZWZhdWx0O1xuICB9XG59KTtcblxuLy8gLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL19saWIvZm9ybWF0L2xpZ2h0Rm9ybWF0dGVycy9pbmRleC5qc1xudmFyIHJlcXVpcmVfbGlnaHRGb3JtYXR0ZXJzID0gX19jb21tb25KUyh7XG4gIFwiLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL19saWIvZm9ybWF0L2xpZ2h0Rm9ybWF0dGVycy9pbmRleC5qc1wiKGV4cG9ydHMsIG1vZHVsZSkge1xuICAgIFwidXNlIHN0cmljdFwiO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgICAgdmFsdWU6IHRydWVcbiAgICB9KTtcbiAgICBleHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7XG4gICAgdmFyIF9pbmRleCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZV9hZGRMZWFkaW5nWmVyb3MoKSk7XG4gICAgZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHtcbiAgICAgIHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9O1xuICAgIH1cbiAgICB2YXIgZm9ybWF0dGVycyA9IHtcbiAgICAgIHk6IGZ1bmN0aW9uKGRhdGUsIHRva2VuKSB7XG4gICAgICAgIHZhciBzaWduZWRZZWFyID0gZGF0ZS5nZXRVVENGdWxsWWVhcigpO1xuICAgICAgICB2YXIgeWVhciA9IHNpZ25lZFllYXIgPiAwID8gc2lnbmVkWWVhciA6IDEgLSBzaWduZWRZZWFyO1xuICAgICAgICByZXR1cm4gKDAsIF9pbmRleC5kZWZhdWx0KSh0b2tlbiA9PT0gXCJ5eVwiID8geWVhciAlIDEwMCA6IHllYXIsIHRva2VuLmxlbmd0aCk7XG4gICAgICB9LFxuICAgICAgTTogZnVuY3Rpb24oZGF0ZSwgdG9rZW4pIHtcbiAgICAgICAgdmFyIG1vbnRoID0gZGF0ZS5nZXRVVENNb250aCgpO1xuICAgICAgICByZXR1cm4gdG9rZW4gPT09IFwiTVwiID8gU3RyaW5nKG1vbnRoICsgMSkgOiAoMCwgX2luZGV4LmRlZmF1bHQpKG1vbnRoICsgMSwgMik7XG4gICAgICB9LFxuICAgICAgZDogZnVuY3Rpb24oZGF0ZSwgdG9rZW4pIHtcbiAgICAgICAgcmV0dXJuICgwLCBfaW5kZXguZGVmYXVsdCkoZGF0ZS5nZXRVVENEYXRlKCksIHRva2VuLmxlbmd0aCk7XG4gICAgICB9LFxuICAgICAgYTogZnVuY3Rpb24oZGF0ZSwgdG9rZW4pIHtcbiAgICAgICAgdmFyIGRheVBlcmlvZEVudW1WYWx1ZSA9IGRhdGUuZ2V0VVRDSG91cnMoKSAvIDEyID49IDEgPyBcInBtXCIgOiBcImFtXCI7XG4gICAgICAgIHN3aXRjaCAodG9rZW4pIHtcbiAgICAgICAgICBjYXNlIFwiYVwiOlxuICAgICAgICAgIGNhc2UgXCJhYVwiOlxuICAgICAgICAgICAgcmV0dXJuIGRheVBlcmlvZEVudW1WYWx1ZS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICAgIGNhc2UgXCJhYWFcIjpcbiAgICAgICAgICAgIHJldHVybiBkYXlQZXJpb2RFbnVtVmFsdWU7XG4gICAgICAgICAgY2FzZSBcImFhYWFhXCI6XG4gICAgICAgICAgICByZXR1cm4gZGF5UGVyaW9kRW51bVZhbHVlWzBdO1xuICAgICAgICAgIGNhc2UgXCJhYWFhXCI6XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBkYXlQZXJpb2RFbnVtVmFsdWUgPT09IFwiYW1cIiA/IFwiYS5tLlwiIDogXCJwLm0uXCI7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBoOiBmdW5jdGlvbihkYXRlLCB0b2tlbikge1xuICAgICAgICByZXR1cm4gKDAsIF9pbmRleC5kZWZhdWx0KShkYXRlLmdldFVUQ0hvdXJzKCkgJSAxMiB8fCAxMiwgdG9rZW4ubGVuZ3RoKTtcbiAgICAgIH0sXG4gICAgICBIOiBmdW5jdGlvbihkYXRlLCB0b2tlbikge1xuICAgICAgICByZXR1cm4gKDAsIF9pbmRleC5kZWZhdWx0KShkYXRlLmdldFVUQ0hvdXJzKCksIHRva2VuLmxlbmd0aCk7XG4gICAgICB9LFxuICAgICAgbTogZnVuY3Rpb24oZGF0ZSwgdG9rZW4pIHtcbiAgICAgICAgcmV0dXJuICgwLCBfaW5kZXguZGVmYXVsdCkoZGF0ZS5nZXRVVENNaW51dGVzKCksIHRva2VuLmxlbmd0aCk7XG4gICAgICB9LFxuICAgICAgczogZnVuY3Rpb24oZGF0ZSwgdG9rZW4pIHtcbiAgICAgICAgcmV0dXJuICgwLCBfaW5kZXguZGVmYXVsdCkoZGF0ZS5nZXRVVENTZWNvbmRzKCksIHRva2VuLmxlbmd0aCk7XG4gICAgICB9LFxuICAgICAgUzogZnVuY3Rpb24oZGF0ZSwgdG9rZW4pIHtcbiAgICAgICAgdmFyIG51bWJlck9mRGlnaXRzID0gdG9rZW4ubGVuZ3RoO1xuICAgICAgICB2YXIgbWlsbGlzZWNvbmRzID0gZGF0ZS5nZXRVVENNaWxsaXNlY29uZHMoKTtcbiAgICAgICAgdmFyIGZyYWN0aW9uYWxTZWNvbmRzID0gTWF0aC5mbG9vcihtaWxsaXNlY29uZHMgKiBNYXRoLnBvdygxMCwgbnVtYmVyT2ZEaWdpdHMgLSAzKSk7XG4gICAgICAgIHJldHVybiAoMCwgX2luZGV4LmRlZmF1bHQpKGZyYWN0aW9uYWxTZWNvbmRzLCB0b2tlbi5sZW5ndGgpO1xuICAgICAgfVxuICAgIH07XG4gICAgdmFyIF9kZWZhdWx0ID0gZm9ybWF0dGVycztcbiAgICBleHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMuZGVmYXVsdDtcbiAgfVxufSk7XG5cbi8vIC4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9fbGliL2Zvcm1hdC9mb3JtYXR0ZXJzL2luZGV4LmpzXG52YXIgcmVxdWlyZV9mb3JtYXR0ZXJzID0gX19jb21tb25KUyh7XG4gIFwiLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL19saWIvZm9ybWF0L2Zvcm1hdHRlcnMvaW5kZXguanNcIihleHBvcnRzLCBtb2R1bGUpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICAgIHZhbHVlOiB0cnVlXG4gICAgfSk7XG4gICAgZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuICAgIHZhciBfaW5kZXggPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmVfZ2V0VVRDRGF5T2ZZZWFyKCkpO1xuICAgIHZhciBfaW5kZXgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlX2dldFVUQ0lTT1dlZWsoKSk7XG4gICAgdmFyIF9pbmRleDMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmVfZ2V0VVRDSVNPV2Vla1llYXIoKSk7XG4gICAgdmFyIF9pbmRleDQgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmVfZ2V0VVRDV2VlaygpKTtcbiAgICB2YXIgX2luZGV4NSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZV9nZXRVVENXZWVrWWVhcigpKTtcbiAgICB2YXIgX2luZGV4NiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZV9hZGRMZWFkaW5nWmVyb3MoKSk7XG4gICAgdmFyIF9pbmRleDcgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmVfbGlnaHRGb3JtYXR0ZXJzKCkpO1xuICAgIGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7XG4gICAgICByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTtcbiAgICB9XG4gICAgdmFyIGRheVBlcmlvZEVudW0gPSB7XG4gICAgICBhbTogXCJhbVwiLFxuICAgICAgcG06IFwicG1cIixcbiAgICAgIG1pZG5pZ2h0OiBcIm1pZG5pZ2h0XCIsXG4gICAgICBub29uOiBcIm5vb25cIixcbiAgICAgIG1vcm5pbmc6IFwibW9ybmluZ1wiLFxuICAgICAgYWZ0ZXJub29uOiBcImFmdGVybm9vblwiLFxuICAgICAgZXZlbmluZzogXCJldmVuaW5nXCIsXG4gICAgICBuaWdodDogXCJuaWdodFwiXG4gICAgfTtcbiAgICB2YXIgZm9ybWF0dGVycyA9IHtcbiAgICAgIEc6IGZ1bmN0aW9uKGRhdGUsIHRva2VuLCBsb2NhbGl6ZSkge1xuICAgICAgICB2YXIgZXJhID0gZGF0ZS5nZXRVVENGdWxsWWVhcigpID4gMCA/IDEgOiAwO1xuICAgICAgICBzd2l0Y2ggKHRva2VuKSB7XG4gICAgICAgICAgY2FzZSBcIkdcIjpcbiAgICAgICAgICBjYXNlIFwiR0dcIjpcbiAgICAgICAgICBjYXNlIFwiR0dHXCI6XG4gICAgICAgICAgICByZXR1cm4gbG9jYWxpemUuZXJhKGVyYSwge1xuICAgICAgICAgICAgICB3aWR0aDogXCJhYmJyZXZpYXRlZFwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICBjYXNlIFwiR0dHR0dcIjpcbiAgICAgICAgICAgIHJldHVybiBsb2NhbGl6ZS5lcmEoZXJhLCB7XG4gICAgICAgICAgICAgIHdpZHRoOiBcIm5hcnJvd1wiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICBjYXNlIFwiR0dHR1wiOlxuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gbG9jYWxpemUuZXJhKGVyYSwge1xuICAgICAgICAgICAgICB3aWR0aDogXCJ3aWRlXCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgeTogZnVuY3Rpb24oZGF0ZSwgdG9rZW4sIGxvY2FsaXplKSB7XG4gICAgICAgIGlmICh0b2tlbiA9PT0gXCJ5b1wiKSB7XG4gICAgICAgICAgdmFyIHNpZ25lZFllYXIgPSBkYXRlLmdldFVUQ0Z1bGxZZWFyKCk7XG4gICAgICAgICAgdmFyIHllYXIgPSBzaWduZWRZZWFyID4gMCA/IHNpZ25lZFllYXIgOiAxIC0gc2lnbmVkWWVhcjtcbiAgICAgICAgICByZXR1cm4gbG9jYWxpemUub3JkaW5hbE51bWJlcih5ZWFyLCB7XG4gICAgICAgICAgICB1bml0OiBcInllYXJcIlxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfaW5kZXg3LmRlZmF1bHQueShkYXRlLCB0b2tlbik7XG4gICAgICB9LFxuICAgICAgWTogZnVuY3Rpb24oZGF0ZSwgdG9rZW4sIGxvY2FsaXplLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBzaWduZWRXZWVrWWVhciA9ICgwLCBfaW5kZXg1LmRlZmF1bHQpKGRhdGUsIG9wdGlvbnMpO1xuICAgICAgICB2YXIgd2Vla1llYXIgPSBzaWduZWRXZWVrWWVhciA+IDAgPyBzaWduZWRXZWVrWWVhciA6IDEgLSBzaWduZWRXZWVrWWVhcjtcbiAgICAgICAgaWYgKHRva2VuID09PSBcIllZXCIpIHtcbiAgICAgICAgICB2YXIgdHdvRGlnaXRZZWFyID0gd2Vla1llYXIgJSAxMDA7XG4gICAgICAgICAgcmV0dXJuICgwLCBfaW5kZXg2LmRlZmF1bHQpKHR3b0RpZ2l0WWVhciwgMik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRva2VuID09PSBcIllvXCIpIHtcbiAgICAgICAgICByZXR1cm4gbG9jYWxpemUub3JkaW5hbE51bWJlcih3ZWVrWWVhciwge1xuICAgICAgICAgICAgdW5pdDogXCJ5ZWFyXCJcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKDAsIF9pbmRleDYuZGVmYXVsdCkod2Vla1llYXIsIHRva2VuLmxlbmd0aCk7XG4gICAgICB9LFxuICAgICAgUjogZnVuY3Rpb24oZGF0ZSwgdG9rZW4pIHtcbiAgICAgICAgdmFyIGlzb1dlZWtZZWFyID0gKDAsIF9pbmRleDMuZGVmYXVsdCkoZGF0ZSk7XG4gICAgICAgIHJldHVybiAoMCwgX2luZGV4Ni5kZWZhdWx0KShpc29XZWVrWWVhciwgdG9rZW4ubGVuZ3RoKTtcbiAgICAgIH0sXG4gICAgICB1OiBmdW5jdGlvbihkYXRlLCB0b2tlbikge1xuICAgICAgICB2YXIgeWVhciA9IGRhdGUuZ2V0VVRDRnVsbFllYXIoKTtcbiAgICAgICAgcmV0dXJuICgwLCBfaW5kZXg2LmRlZmF1bHQpKHllYXIsIHRva2VuLmxlbmd0aCk7XG4gICAgICB9LFxuICAgICAgUTogZnVuY3Rpb24oZGF0ZSwgdG9rZW4sIGxvY2FsaXplKSB7XG4gICAgICAgIHZhciBxdWFydGVyID0gTWF0aC5jZWlsKChkYXRlLmdldFVUQ01vbnRoKCkgKyAxKSAvIDMpO1xuICAgICAgICBzd2l0Y2ggKHRva2VuKSB7XG4gICAgICAgICAgY2FzZSBcIlFcIjpcbiAgICAgICAgICAgIHJldHVybiBTdHJpbmcocXVhcnRlcik7XG4gICAgICAgICAgY2FzZSBcIlFRXCI6XG4gICAgICAgICAgICByZXR1cm4gKDAsIF9pbmRleDYuZGVmYXVsdCkocXVhcnRlciwgMik7XG4gICAgICAgICAgY2FzZSBcIlFvXCI6XG4gICAgICAgICAgICByZXR1cm4gbG9jYWxpemUub3JkaW5hbE51bWJlcihxdWFydGVyLCB7XG4gICAgICAgICAgICAgIHVuaXQ6IFwicXVhcnRlclwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICBjYXNlIFwiUVFRXCI6XG4gICAgICAgICAgICByZXR1cm4gbG9jYWxpemUucXVhcnRlcihxdWFydGVyLCB7XG4gICAgICAgICAgICAgIHdpZHRoOiBcImFiYnJldmlhdGVkXCIsXG4gICAgICAgICAgICAgIGNvbnRleHQ6IFwiZm9ybWF0dGluZ1wiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICBjYXNlIFwiUVFRUVFcIjpcbiAgICAgICAgICAgIHJldHVybiBsb2NhbGl6ZS5xdWFydGVyKHF1YXJ0ZXIsIHtcbiAgICAgICAgICAgICAgd2lkdGg6IFwibmFycm93XCIsXG4gICAgICAgICAgICAgIGNvbnRleHQ6IFwiZm9ybWF0dGluZ1wiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICBjYXNlIFwiUVFRUVwiOlxuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gbG9jYWxpemUucXVhcnRlcihxdWFydGVyLCB7XG4gICAgICAgICAgICAgIHdpZHRoOiBcIndpZGVcIixcbiAgICAgICAgICAgICAgY29udGV4dDogXCJmb3JtYXR0aW5nXCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgcTogZnVuY3Rpb24oZGF0ZSwgdG9rZW4sIGxvY2FsaXplKSB7XG4gICAgICAgIHZhciBxdWFydGVyID0gTWF0aC5jZWlsKChkYXRlLmdldFVUQ01vbnRoKCkgKyAxKSAvIDMpO1xuICAgICAgICBzd2l0Y2ggKHRva2VuKSB7XG4gICAgICAgICAgY2FzZSBcInFcIjpcbiAgICAgICAgICAgIHJldHVybiBTdHJpbmcocXVhcnRlcik7XG4gICAgICAgICAgY2FzZSBcInFxXCI6XG4gICAgICAgICAgICByZXR1cm4gKDAsIF9pbmRleDYuZGVmYXVsdCkocXVhcnRlciwgMik7XG4gICAgICAgICAgY2FzZSBcInFvXCI6XG4gICAgICAgICAgICByZXR1cm4gbG9jYWxpemUub3JkaW5hbE51bWJlcihxdWFydGVyLCB7XG4gICAgICAgICAgICAgIHVuaXQ6IFwicXVhcnRlclwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICBjYXNlIFwicXFxXCI6XG4gICAgICAgICAgICByZXR1cm4gbG9jYWxpemUucXVhcnRlcihxdWFydGVyLCB7XG4gICAgICAgICAgICAgIHdpZHRoOiBcImFiYnJldmlhdGVkXCIsXG4gICAgICAgICAgICAgIGNvbnRleHQ6IFwic3RhbmRhbG9uZVwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICBjYXNlIFwicXFxcXFcIjpcbiAgICAgICAgICAgIHJldHVybiBsb2NhbGl6ZS5xdWFydGVyKHF1YXJ0ZXIsIHtcbiAgICAgICAgICAgICAgd2lkdGg6IFwibmFycm93XCIsXG4gICAgICAgICAgICAgIGNvbnRleHQ6IFwic3RhbmRhbG9uZVwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICBjYXNlIFwicXFxcVwiOlxuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gbG9jYWxpemUucXVhcnRlcihxdWFydGVyLCB7XG4gICAgICAgICAgICAgIHdpZHRoOiBcIndpZGVcIixcbiAgICAgICAgICAgICAgY29udGV4dDogXCJzdGFuZGFsb25lXCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgTTogZnVuY3Rpb24oZGF0ZSwgdG9rZW4sIGxvY2FsaXplKSB7XG4gICAgICAgIHZhciBtb250aCA9IGRhdGUuZ2V0VVRDTW9udGgoKTtcbiAgICAgICAgc3dpdGNoICh0b2tlbikge1xuICAgICAgICAgIGNhc2UgXCJNXCI6XG4gICAgICAgICAgY2FzZSBcIk1NXCI6XG4gICAgICAgICAgICByZXR1cm4gX2luZGV4Ny5kZWZhdWx0Lk0oZGF0ZSwgdG9rZW4pO1xuICAgICAgICAgIGNhc2UgXCJNb1wiOlxuICAgICAgICAgICAgcmV0dXJuIGxvY2FsaXplLm9yZGluYWxOdW1iZXIobW9udGggKyAxLCB7XG4gICAgICAgICAgICAgIHVuaXQ6IFwibW9udGhcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgY2FzZSBcIk1NTVwiOlxuICAgICAgICAgICAgcmV0dXJuIGxvY2FsaXplLm1vbnRoKG1vbnRoLCB7XG4gICAgICAgICAgICAgIHdpZHRoOiBcImFiYnJldmlhdGVkXCIsXG4gICAgICAgICAgICAgIGNvbnRleHQ6IFwiZm9ybWF0dGluZ1wiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICBjYXNlIFwiTU1NTU1cIjpcbiAgICAgICAgICAgIHJldHVybiBsb2NhbGl6ZS5tb250aChtb250aCwge1xuICAgICAgICAgICAgICB3aWR0aDogXCJuYXJyb3dcIixcbiAgICAgICAgICAgICAgY29udGV4dDogXCJmb3JtYXR0aW5nXCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIGNhc2UgXCJNTU1NXCI6XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBsb2NhbGl6ZS5tb250aChtb250aCwge1xuICAgICAgICAgICAgICB3aWR0aDogXCJ3aWRlXCIsXG4gICAgICAgICAgICAgIGNvbnRleHQ6IFwiZm9ybWF0dGluZ1wiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIEw6IGZ1bmN0aW9uKGRhdGUsIHRva2VuLCBsb2NhbGl6ZSkge1xuICAgICAgICB2YXIgbW9udGggPSBkYXRlLmdldFVUQ01vbnRoKCk7XG4gICAgICAgIHN3aXRjaCAodG9rZW4pIHtcbiAgICAgICAgICBjYXNlIFwiTFwiOlxuICAgICAgICAgICAgcmV0dXJuIFN0cmluZyhtb250aCArIDEpO1xuICAgICAgICAgIGNhc2UgXCJMTFwiOlxuICAgICAgICAgICAgcmV0dXJuICgwLCBfaW5kZXg2LmRlZmF1bHQpKG1vbnRoICsgMSwgMik7XG4gICAgICAgICAgY2FzZSBcIkxvXCI6XG4gICAgICAgICAgICByZXR1cm4gbG9jYWxpemUub3JkaW5hbE51bWJlcihtb250aCArIDEsIHtcbiAgICAgICAgICAgICAgdW5pdDogXCJtb250aFwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICBjYXNlIFwiTExMXCI6XG4gICAgICAgICAgICByZXR1cm4gbG9jYWxpemUubW9udGgobW9udGgsIHtcbiAgICAgICAgICAgICAgd2lkdGg6IFwiYWJicmV2aWF0ZWRcIixcbiAgICAgICAgICAgICAgY29udGV4dDogXCJzdGFuZGFsb25lXCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIGNhc2UgXCJMTExMTFwiOlxuICAgICAgICAgICAgcmV0dXJuIGxvY2FsaXplLm1vbnRoKG1vbnRoLCB7XG4gICAgICAgICAgICAgIHdpZHRoOiBcIm5hcnJvd1wiLFxuICAgICAgICAgICAgICBjb250ZXh0OiBcInN0YW5kYWxvbmVcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgY2FzZSBcIkxMTExcIjpcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIGxvY2FsaXplLm1vbnRoKG1vbnRoLCB7XG4gICAgICAgICAgICAgIHdpZHRoOiBcIndpZGVcIixcbiAgICAgICAgICAgICAgY29udGV4dDogXCJzdGFuZGFsb25lXCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgdzogZnVuY3Rpb24oZGF0ZSwgdG9rZW4sIGxvY2FsaXplLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciB3ZWVrID0gKDAsIF9pbmRleDQuZGVmYXVsdCkoZGF0ZSwgb3B0aW9ucyk7XG4gICAgICAgIGlmICh0b2tlbiA9PT0gXCJ3b1wiKSB7XG4gICAgICAgICAgcmV0dXJuIGxvY2FsaXplLm9yZGluYWxOdW1iZXIod2Vlaywge1xuICAgICAgICAgICAgdW5pdDogXCJ3ZWVrXCJcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKDAsIF9pbmRleDYuZGVmYXVsdCkod2VlaywgdG9rZW4ubGVuZ3RoKTtcbiAgICAgIH0sXG4gICAgICBJOiBmdW5jdGlvbihkYXRlLCB0b2tlbiwgbG9jYWxpemUpIHtcbiAgICAgICAgdmFyIGlzb1dlZWsgPSAoMCwgX2luZGV4Mi5kZWZhdWx0KShkYXRlKTtcbiAgICAgICAgaWYgKHRva2VuID09PSBcIklvXCIpIHtcbiAgICAgICAgICByZXR1cm4gbG9jYWxpemUub3JkaW5hbE51bWJlcihpc29XZWVrLCB7XG4gICAgICAgICAgICB1bml0OiBcIndlZWtcIlxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoMCwgX2luZGV4Ni5kZWZhdWx0KShpc29XZWVrLCB0b2tlbi5sZW5ndGgpO1xuICAgICAgfSxcbiAgICAgIGQ6IGZ1bmN0aW9uKGRhdGUsIHRva2VuLCBsb2NhbGl6ZSkge1xuICAgICAgICBpZiAodG9rZW4gPT09IFwiZG9cIikge1xuICAgICAgICAgIHJldHVybiBsb2NhbGl6ZS5vcmRpbmFsTnVtYmVyKGRhdGUuZ2V0VVRDRGF0ZSgpLCB7XG4gICAgICAgICAgICB1bml0OiBcImRhdGVcIlxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfaW5kZXg3LmRlZmF1bHQuZChkYXRlLCB0b2tlbik7XG4gICAgICB9LFxuICAgICAgRDogZnVuY3Rpb24oZGF0ZSwgdG9rZW4sIGxvY2FsaXplKSB7XG4gICAgICAgIHZhciBkYXlPZlllYXIgPSAoMCwgX2luZGV4LmRlZmF1bHQpKGRhdGUpO1xuICAgICAgICBpZiAodG9rZW4gPT09IFwiRG9cIikge1xuICAgICAgICAgIHJldHVybiBsb2NhbGl6ZS5vcmRpbmFsTnVtYmVyKGRheU9mWWVhciwge1xuICAgICAgICAgICAgdW5pdDogXCJkYXlPZlllYXJcIlxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoMCwgX2luZGV4Ni5kZWZhdWx0KShkYXlPZlllYXIsIHRva2VuLmxlbmd0aCk7XG4gICAgICB9LFxuICAgICAgRTogZnVuY3Rpb24oZGF0ZSwgdG9rZW4sIGxvY2FsaXplKSB7XG4gICAgICAgIHZhciBkYXlPZldlZWsgPSBkYXRlLmdldFVUQ0RheSgpO1xuICAgICAgICBzd2l0Y2ggKHRva2VuKSB7XG4gICAgICAgICAgY2FzZSBcIkVcIjpcbiAgICAgICAgICBjYXNlIFwiRUVcIjpcbiAgICAgICAgICBjYXNlIFwiRUVFXCI6XG4gICAgICAgICAgICByZXR1cm4gbG9jYWxpemUuZGF5KGRheU9mV2Vlaywge1xuICAgICAgICAgICAgICB3aWR0aDogXCJhYmJyZXZpYXRlZFwiLFxuICAgICAgICAgICAgICBjb250ZXh0OiBcImZvcm1hdHRpbmdcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgY2FzZSBcIkVFRUVFXCI6XG4gICAgICAgICAgICByZXR1cm4gbG9jYWxpemUuZGF5KGRheU9mV2Vlaywge1xuICAgICAgICAgICAgICB3aWR0aDogXCJuYXJyb3dcIixcbiAgICAgICAgICAgICAgY29udGV4dDogXCJmb3JtYXR0aW5nXCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIGNhc2UgXCJFRUVFRUVcIjpcbiAgICAgICAgICAgIHJldHVybiBsb2NhbGl6ZS5kYXkoZGF5T2ZXZWVrLCB7XG4gICAgICAgICAgICAgIHdpZHRoOiBcInNob3J0XCIsXG4gICAgICAgICAgICAgIGNvbnRleHQ6IFwiZm9ybWF0dGluZ1wiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICBjYXNlIFwiRUVFRVwiOlxuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gbG9jYWxpemUuZGF5KGRheU9mV2Vlaywge1xuICAgICAgICAgICAgICB3aWR0aDogXCJ3aWRlXCIsXG4gICAgICAgICAgICAgIGNvbnRleHQ6IFwiZm9ybWF0dGluZ1wiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGU6IGZ1bmN0aW9uKGRhdGUsIHRva2VuLCBsb2NhbGl6ZSwgb3B0aW9ucykge1xuICAgICAgICB2YXIgZGF5T2ZXZWVrID0gZGF0ZS5nZXRVVENEYXkoKTtcbiAgICAgICAgdmFyIGxvY2FsRGF5T2ZXZWVrID0gKGRheU9mV2VlayAtIG9wdGlvbnMud2Vla1N0YXJ0c09uICsgOCkgJSA3IHx8IDc7XG4gICAgICAgIHN3aXRjaCAodG9rZW4pIHtcbiAgICAgICAgICBjYXNlIFwiZVwiOlxuICAgICAgICAgICAgcmV0dXJuIFN0cmluZyhsb2NhbERheU9mV2Vlayk7XG4gICAgICAgICAgY2FzZSBcImVlXCI6XG4gICAgICAgICAgICByZXR1cm4gKDAsIF9pbmRleDYuZGVmYXVsdCkobG9jYWxEYXlPZldlZWssIDIpO1xuICAgICAgICAgIGNhc2UgXCJlb1wiOlxuICAgICAgICAgICAgcmV0dXJuIGxvY2FsaXplLm9yZGluYWxOdW1iZXIobG9jYWxEYXlPZldlZWssIHtcbiAgICAgICAgICAgICAgdW5pdDogXCJkYXlcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgY2FzZSBcImVlZVwiOlxuICAgICAgICAgICAgcmV0dXJuIGxvY2FsaXplLmRheShkYXlPZldlZWssIHtcbiAgICAgICAgICAgICAgd2lkdGg6IFwiYWJicmV2aWF0ZWRcIixcbiAgICAgICAgICAgICAgY29udGV4dDogXCJmb3JtYXR0aW5nXCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIGNhc2UgXCJlZWVlZVwiOlxuICAgICAgICAgICAgcmV0dXJuIGxvY2FsaXplLmRheShkYXlPZldlZWssIHtcbiAgICAgICAgICAgICAgd2lkdGg6IFwibmFycm93XCIsXG4gICAgICAgICAgICAgIGNvbnRleHQ6IFwiZm9ybWF0dGluZ1wiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICBjYXNlIFwiZWVlZWVlXCI6XG4gICAgICAgICAgICByZXR1cm4gbG9jYWxpemUuZGF5KGRheU9mV2Vlaywge1xuICAgICAgICAgICAgICB3aWR0aDogXCJzaG9ydFwiLFxuICAgICAgICAgICAgICBjb250ZXh0OiBcImZvcm1hdHRpbmdcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgY2FzZSBcImVlZWVcIjpcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIGxvY2FsaXplLmRheShkYXlPZldlZWssIHtcbiAgICAgICAgICAgICAgd2lkdGg6IFwid2lkZVwiLFxuICAgICAgICAgICAgICBjb250ZXh0OiBcImZvcm1hdHRpbmdcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBjOiBmdW5jdGlvbihkYXRlLCB0b2tlbiwgbG9jYWxpemUsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIGRheU9mV2VlayA9IGRhdGUuZ2V0VVRDRGF5KCk7XG4gICAgICAgIHZhciBsb2NhbERheU9mV2VlayA9IChkYXlPZldlZWsgLSBvcHRpb25zLndlZWtTdGFydHNPbiArIDgpICUgNyB8fCA3O1xuICAgICAgICBzd2l0Y2ggKHRva2VuKSB7XG4gICAgICAgICAgY2FzZSBcImNcIjpcbiAgICAgICAgICAgIHJldHVybiBTdHJpbmcobG9jYWxEYXlPZldlZWspO1xuICAgICAgICAgIGNhc2UgXCJjY1wiOlxuICAgICAgICAgICAgcmV0dXJuICgwLCBfaW5kZXg2LmRlZmF1bHQpKGxvY2FsRGF5T2ZXZWVrLCB0b2tlbi5sZW5ndGgpO1xuICAgICAgICAgIGNhc2UgXCJjb1wiOlxuICAgICAgICAgICAgcmV0dXJuIGxvY2FsaXplLm9yZGluYWxOdW1iZXIobG9jYWxEYXlPZldlZWssIHtcbiAgICAgICAgICAgICAgdW5pdDogXCJkYXlcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgY2FzZSBcImNjY1wiOlxuICAgICAgICAgICAgcmV0dXJuIGxvY2FsaXplLmRheShkYXlPZldlZWssIHtcbiAgICAgICAgICAgICAgd2lkdGg6IFwiYWJicmV2aWF0ZWRcIixcbiAgICAgICAgICAgICAgY29udGV4dDogXCJzdGFuZGFsb25lXCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIGNhc2UgXCJjY2NjY1wiOlxuICAgICAgICAgICAgcmV0dXJuIGxvY2FsaXplLmRheShkYXlPZldlZWssIHtcbiAgICAgICAgICAgICAgd2lkdGg6IFwibmFycm93XCIsXG4gICAgICAgICAgICAgIGNvbnRleHQ6IFwic3RhbmRhbG9uZVwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICBjYXNlIFwiY2NjY2NjXCI6XG4gICAgICAgICAgICByZXR1cm4gbG9jYWxpemUuZGF5KGRheU9mV2Vlaywge1xuICAgICAgICAgICAgICB3aWR0aDogXCJzaG9ydFwiLFxuICAgICAgICAgICAgICBjb250ZXh0OiBcInN0YW5kYWxvbmVcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgY2FzZSBcImNjY2NcIjpcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIGxvY2FsaXplLmRheShkYXlPZldlZWssIHtcbiAgICAgICAgICAgICAgd2lkdGg6IFwid2lkZVwiLFxuICAgICAgICAgICAgICBjb250ZXh0OiBcInN0YW5kYWxvbmVcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBpOiBmdW5jdGlvbihkYXRlLCB0b2tlbiwgbG9jYWxpemUpIHtcbiAgICAgICAgdmFyIGRheU9mV2VlayA9IGRhdGUuZ2V0VVRDRGF5KCk7XG4gICAgICAgIHZhciBpc29EYXlPZldlZWsgPSBkYXlPZldlZWsgPT09IDAgPyA3IDogZGF5T2ZXZWVrO1xuICAgICAgICBzd2l0Y2ggKHRva2VuKSB7XG4gICAgICAgICAgY2FzZSBcImlcIjpcbiAgICAgICAgICAgIHJldHVybiBTdHJpbmcoaXNvRGF5T2ZXZWVrKTtcbiAgICAgICAgICBjYXNlIFwiaWlcIjpcbiAgICAgICAgICAgIHJldHVybiAoMCwgX2luZGV4Ni5kZWZhdWx0KShpc29EYXlPZldlZWssIHRva2VuLmxlbmd0aCk7XG4gICAgICAgICAgY2FzZSBcImlvXCI6XG4gICAgICAgICAgICByZXR1cm4gbG9jYWxpemUub3JkaW5hbE51bWJlcihpc29EYXlPZldlZWssIHtcbiAgICAgICAgICAgICAgdW5pdDogXCJkYXlcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgY2FzZSBcImlpaVwiOlxuICAgICAgICAgICAgcmV0dXJuIGxvY2FsaXplLmRheShkYXlPZldlZWssIHtcbiAgICAgICAgICAgICAgd2lkdGg6IFwiYWJicmV2aWF0ZWRcIixcbiAgICAgICAgICAgICAgY29udGV4dDogXCJmb3JtYXR0aW5nXCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIGNhc2UgXCJpaWlpaVwiOlxuICAgICAgICAgICAgcmV0dXJuIGxvY2FsaXplLmRheShkYXlPZldlZWssIHtcbiAgICAgICAgICAgICAgd2lkdGg6IFwibmFycm93XCIsXG4gICAgICAgICAgICAgIGNvbnRleHQ6IFwiZm9ybWF0dGluZ1wiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICBjYXNlIFwiaWlpaWlpXCI6XG4gICAgICAgICAgICByZXR1cm4gbG9jYWxpemUuZGF5KGRheU9mV2Vlaywge1xuICAgICAgICAgICAgICB3aWR0aDogXCJzaG9ydFwiLFxuICAgICAgICAgICAgICBjb250ZXh0OiBcImZvcm1hdHRpbmdcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgY2FzZSBcImlpaWlcIjpcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIGxvY2FsaXplLmRheShkYXlPZldlZWssIHtcbiAgICAgICAgICAgICAgd2lkdGg6IFwid2lkZVwiLFxuICAgICAgICAgICAgICBjb250ZXh0OiBcImZvcm1hdHRpbmdcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBhOiBmdW5jdGlvbihkYXRlLCB0b2tlbiwgbG9jYWxpemUpIHtcbiAgICAgICAgdmFyIGhvdXJzID0gZGF0ZS5nZXRVVENIb3VycygpO1xuICAgICAgICB2YXIgZGF5UGVyaW9kRW51bVZhbHVlID0gaG91cnMgLyAxMiA+PSAxID8gXCJwbVwiIDogXCJhbVwiO1xuICAgICAgICBzd2l0Y2ggKHRva2VuKSB7XG4gICAgICAgICAgY2FzZSBcImFcIjpcbiAgICAgICAgICBjYXNlIFwiYWFcIjpcbiAgICAgICAgICAgIHJldHVybiBsb2NhbGl6ZS5kYXlQZXJpb2QoZGF5UGVyaW9kRW51bVZhbHVlLCB7XG4gICAgICAgICAgICAgIHdpZHRoOiBcImFiYnJldmlhdGVkXCIsXG4gICAgICAgICAgICAgIGNvbnRleHQ6IFwiZm9ybWF0dGluZ1wiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICBjYXNlIFwiYWFhXCI6XG4gICAgICAgICAgICByZXR1cm4gbG9jYWxpemUuZGF5UGVyaW9kKGRheVBlcmlvZEVudW1WYWx1ZSwge1xuICAgICAgICAgICAgICB3aWR0aDogXCJhYmJyZXZpYXRlZFwiLFxuICAgICAgICAgICAgICBjb250ZXh0OiBcImZvcm1hdHRpbmdcIlxuICAgICAgICAgICAgfSkudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICBjYXNlIFwiYWFhYWFcIjpcbiAgICAgICAgICAgIHJldHVybiBsb2NhbGl6ZS5kYXlQZXJpb2QoZGF5UGVyaW9kRW51bVZhbHVlLCB7XG4gICAgICAgICAgICAgIHdpZHRoOiBcIm5hcnJvd1wiLFxuICAgICAgICAgICAgICBjb250ZXh0OiBcImZvcm1hdHRpbmdcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgY2FzZSBcImFhYWFcIjpcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIGxvY2FsaXplLmRheVBlcmlvZChkYXlQZXJpb2RFbnVtVmFsdWUsIHtcbiAgICAgICAgICAgICAgd2lkdGg6IFwid2lkZVwiLFxuICAgICAgICAgICAgICBjb250ZXh0OiBcImZvcm1hdHRpbmdcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBiOiBmdW5jdGlvbihkYXRlLCB0b2tlbiwgbG9jYWxpemUpIHtcbiAgICAgICAgdmFyIGhvdXJzID0gZGF0ZS5nZXRVVENIb3VycygpO1xuICAgICAgICB2YXIgZGF5UGVyaW9kRW51bVZhbHVlO1xuICAgICAgICBpZiAoaG91cnMgPT09IDEyKSB7XG4gICAgICAgICAgZGF5UGVyaW9kRW51bVZhbHVlID0gZGF5UGVyaW9kRW51bS5ub29uO1xuICAgICAgICB9IGVsc2UgaWYgKGhvdXJzID09PSAwKSB7XG4gICAgICAgICAgZGF5UGVyaW9kRW51bVZhbHVlID0gZGF5UGVyaW9kRW51bS5taWRuaWdodDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkYXlQZXJpb2RFbnVtVmFsdWUgPSBob3VycyAvIDEyID49IDEgPyBcInBtXCIgOiBcImFtXCI7XG4gICAgICAgIH1cbiAgICAgICAgc3dpdGNoICh0b2tlbikge1xuICAgICAgICAgIGNhc2UgXCJiXCI6XG4gICAgICAgICAgY2FzZSBcImJiXCI6XG4gICAgICAgICAgICByZXR1cm4gbG9jYWxpemUuZGF5UGVyaW9kKGRheVBlcmlvZEVudW1WYWx1ZSwge1xuICAgICAgICAgICAgICB3aWR0aDogXCJhYmJyZXZpYXRlZFwiLFxuICAgICAgICAgICAgICBjb250ZXh0OiBcImZvcm1hdHRpbmdcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgY2FzZSBcImJiYlwiOlxuICAgICAgICAgICAgcmV0dXJuIGxvY2FsaXplLmRheVBlcmlvZChkYXlQZXJpb2RFbnVtVmFsdWUsIHtcbiAgICAgICAgICAgICAgd2lkdGg6IFwiYWJicmV2aWF0ZWRcIixcbiAgICAgICAgICAgICAgY29udGV4dDogXCJmb3JtYXR0aW5nXCJcbiAgICAgICAgICAgIH0pLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgY2FzZSBcImJiYmJiXCI6XG4gICAgICAgICAgICByZXR1cm4gbG9jYWxpemUuZGF5UGVyaW9kKGRheVBlcmlvZEVudW1WYWx1ZSwge1xuICAgICAgICAgICAgICB3aWR0aDogXCJuYXJyb3dcIixcbiAgICAgICAgICAgICAgY29udGV4dDogXCJmb3JtYXR0aW5nXCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIGNhc2UgXCJiYmJiXCI6XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBsb2NhbGl6ZS5kYXlQZXJpb2QoZGF5UGVyaW9kRW51bVZhbHVlLCB7XG4gICAgICAgICAgICAgIHdpZHRoOiBcIndpZGVcIixcbiAgICAgICAgICAgICAgY29udGV4dDogXCJmb3JtYXR0aW5nXCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgQjogZnVuY3Rpb24oZGF0ZSwgdG9rZW4sIGxvY2FsaXplKSB7XG4gICAgICAgIHZhciBob3VycyA9IGRhdGUuZ2V0VVRDSG91cnMoKTtcbiAgICAgICAgdmFyIGRheVBlcmlvZEVudW1WYWx1ZTtcbiAgICAgICAgaWYgKGhvdXJzID49IDE3KSB7XG4gICAgICAgICAgZGF5UGVyaW9kRW51bVZhbHVlID0gZGF5UGVyaW9kRW51bS5ldmVuaW5nO1xuICAgICAgICB9IGVsc2UgaWYgKGhvdXJzID49IDEyKSB7XG4gICAgICAgICAgZGF5UGVyaW9kRW51bVZhbHVlID0gZGF5UGVyaW9kRW51bS5hZnRlcm5vb247XG4gICAgICAgIH0gZWxzZSBpZiAoaG91cnMgPj0gNCkge1xuICAgICAgICAgIGRheVBlcmlvZEVudW1WYWx1ZSA9IGRheVBlcmlvZEVudW0ubW9ybmluZztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkYXlQZXJpb2RFbnVtVmFsdWUgPSBkYXlQZXJpb2RFbnVtLm5pZ2h0O1xuICAgICAgICB9XG4gICAgICAgIHN3aXRjaCAodG9rZW4pIHtcbiAgICAgICAgICBjYXNlIFwiQlwiOlxuICAgICAgICAgIGNhc2UgXCJCQlwiOlxuICAgICAgICAgIGNhc2UgXCJCQkJcIjpcbiAgICAgICAgICAgIHJldHVybiBsb2NhbGl6ZS5kYXlQZXJpb2QoZGF5UGVyaW9kRW51bVZhbHVlLCB7XG4gICAgICAgICAgICAgIHdpZHRoOiBcImFiYnJldmlhdGVkXCIsXG4gICAgICAgICAgICAgIGNvbnRleHQ6IFwiZm9ybWF0dGluZ1wiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICBjYXNlIFwiQkJCQkJcIjpcbiAgICAgICAgICAgIHJldHVybiBsb2NhbGl6ZS5kYXlQZXJpb2QoZGF5UGVyaW9kRW51bVZhbHVlLCB7XG4gICAgICAgICAgICAgIHdpZHRoOiBcIm5hcnJvd1wiLFxuICAgICAgICAgICAgICBjb250ZXh0OiBcImZvcm1hdHRpbmdcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgY2FzZSBcIkJCQkJcIjpcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIGxvY2FsaXplLmRheVBlcmlvZChkYXlQZXJpb2RFbnVtVmFsdWUsIHtcbiAgICAgICAgICAgICAgd2lkdGg6IFwid2lkZVwiLFxuICAgICAgICAgICAgICBjb250ZXh0OiBcImZvcm1hdHRpbmdcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBoOiBmdW5jdGlvbihkYXRlLCB0b2tlbiwgbG9jYWxpemUpIHtcbiAgICAgICAgaWYgKHRva2VuID09PSBcImhvXCIpIHtcbiAgICAgICAgICB2YXIgaG91cnMgPSBkYXRlLmdldFVUQ0hvdXJzKCkgJSAxMjtcbiAgICAgICAgICBpZiAoaG91cnMgPT09IDApXG4gICAgICAgICAgICBob3VycyA9IDEyO1xuICAgICAgICAgIHJldHVybiBsb2NhbGl6ZS5vcmRpbmFsTnVtYmVyKGhvdXJzLCB7XG4gICAgICAgICAgICB1bml0OiBcImhvdXJcIlxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfaW5kZXg3LmRlZmF1bHQuaChkYXRlLCB0b2tlbik7XG4gICAgICB9LFxuICAgICAgSDogZnVuY3Rpb24oZGF0ZSwgdG9rZW4sIGxvY2FsaXplKSB7XG4gICAgICAgIGlmICh0b2tlbiA9PT0gXCJIb1wiKSB7XG4gICAgICAgICAgcmV0dXJuIGxvY2FsaXplLm9yZGluYWxOdW1iZXIoZGF0ZS5nZXRVVENIb3VycygpLCB7XG4gICAgICAgICAgICB1bml0OiBcImhvdXJcIlxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfaW5kZXg3LmRlZmF1bHQuSChkYXRlLCB0b2tlbik7XG4gICAgICB9LFxuICAgICAgSzogZnVuY3Rpb24oZGF0ZSwgdG9rZW4sIGxvY2FsaXplKSB7XG4gICAgICAgIHZhciBob3VycyA9IGRhdGUuZ2V0VVRDSG91cnMoKSAlIDEyO1xuICAgICAgICBpZiAodG9rZW4gPT09IFwiS29cIikge1xuICAgICAgICAgIHJldHVybiBsb2NhbGl6ZS5vcmRpbmFsTnVtYmVyKGhvdXJzLCB7XG4gICAgICAgICAgICB1bml0OiBcImhvdXJcIlxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoMCwgX2luZGV4Ni5kZWZhdWx0KShob3VycywgdG9rZW4ubGVuZ3RoKTtcbiAgICAgIH0sXG4gICAgICBrOiBmdW5jdGlvbihkYXRlLCB0b2tlbiwgbG9jYWxpemUpIHtcbiAgICAgICAgdmFyIGhvdXJzID0gZGF0ZS5nZXRVVENIb3VycygpO1xuICAgICAgICBpZiAoaG91cnMgPT09IDApXG4gICAgICAgICAgaG91cnMgPSAyNDtcbiAgICAgICAgaWYgKHRva2VuID09PSBcImtvXCIpIHtcbiAgICAgICAgICByZXR1cm4gbG9jYWxpemUub3JkaW5hbE51bWJlcihob3Vycywge1xuICAgICAgICAgICAgdW5pdDogXCJob3VyXCJcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKDAsIF9pbmRleDYuZGVmYXVsdCkoaG91cnMsIHRva2VuLmxlbmd0aCk7XG4gICAgICB9LFxuICAgICAgbTogZnVuY3Rpb24oZGF0ZSwgdG9rZW4sIGxvY2FsaXplKSB7XG4gICAgICAgIGlmICh0b2tlbiA9PT0gXCJtb1wiKSB7XG4gICAgICAgICAgcmV0dXJuIGxvY2FsaXplLm9yZGluYWxOdW1iZXIoZGF0ZS5nZXRVVENNaW51dGVzKCksIHtcbiAgICAgICAgICAgIHVuaXQ6IFwibWludXRlXCJcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX2luZGV4Ny5kZWZhdWx0Lm0oZGF0ZSwgdG9rZW4pO1xuICAgICAgfSxcbiAgICAgIHM6IGZ1bmN0aW9uKGRhdGUsIHRva2VuLCBsb2NhbGl6ZSkge1xuICAgICAgICBpZiAodG9rZW4gPT09IFwic29cIikge1xuICAgICAgICAgIHJldHVybiBsb2NhbGl6ZS5vcmRpbmFsTnVtYmVyKGRhdGUuZ2V0VVRDU2Vjb25kcygpLCB7XG4gICAgICAgICAgICB1bml0OiBcInNlY29uZFwiXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF9pbmRleDcuZGVmYXVsdC5zKGRhdGUsIHRva2VuKTtcbiAgICAgIH0sXG4gICAgICBTOiBmdW5jdGlvbihkYXRlLCB0b2tlbikge1xuICAgICAgICByZXR1cm4gX2luZGV4Ny5kZWZhdWx0LlMoZGF0ZSwgdG9rZW4pO1xuICAgICAgfSxcbiAgICAgIFg6IGZ1bmN0aW9uKGRhdGUsIHRva2VuLCBfbG9jYWxpemUsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIG9yaWdpbmFsRGF0ZSA9IG9wdGlvbnMuX29yaWdpbmFsRGF0ZSB8fCBkYXRlO1xuICAgICAgICB2YXIgdGltZXpvbmVPZmZzZXQgPSBvcmlnaW5hbERhdGUuZ2V0VGltZXpvbmVPZmZzZXQoKTtcbiAgICAgICAgaWYgKHRpbWV6b25lT2Zmc2V0ID09PSAwKSB7XG4gICAgICAgICAgcmV0dXJuIFwiWlwiO1xuICAgICAgICB9XG4gICAgICAgIHN3aXRjaCAodG9rZW4pIHtcbiAgICAgICAgICBjYXNlIFwiWFwiOlxuICAgICAgICAgICAgcmV0dXJuIGZvcm1hdFRpbWV6b25lV2l0aE9wdGlvbmFsTWludXRlcyh0aW1lem9uZU9mZnNldCk7XG4gICAgICAgICAgY2FzZSBcIlhYWFhcIjpcbiAgICAgICAgICBjYXNlIFwiWFhcIjpcbiAgICAgICAgICAgIHJldHVybiBmb3JtYXRUaW1lem9uZSh0aW1lem9uZU9mZnNldCk7XG4gICAgICAgICAgY2FzZSBcIlhYWFhYXCI6XG4gICAgICAgICAgY2FzZSBcIlhYWFwiOlxuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gZm9ybWF0VGltZXpvbmUodGltZXpvbmVPZmZzZXQsIFwiOlwiKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHg6IGZ1bmN0aW9uKGRhdGUsIHRva2VuLCBfbG9jYWxpemUsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIG9yaWdpbmFsRGF0ZSA9IG9wdGlvbnMuX29yaWdpbmFsRGF0ZSB8fCBkYXRlO1xuICAgICAgICB2YXIgdGltZXpvbmVPZmZzZXQgPSBvcmlnaW5hbERhdGUuZ2V0VGltZXpvbmVPZmZzZXQoKTtcbiAgICAgICAgc3dpdGNoICh0b2tlbikge1xuICAgICAgICAgIGNhc2UgXCJ4XCI6XG4gICAgICAgICAgICByZXR1cm4gZm9ybWF0VGltZXpvbmVXaXRoT3B0aW9uYWxNaW51dGVzKHRpbWV6b25lT2Zmc2V0KTtcbiAgICAgICAgICBjYXNlIFwieHh4eFwiOlxuICAgICAgICAgIGNhc2UgXCJ4eFwiOlxuICAgICAgICAgICAgcmV0dXJuIGZvcm1hdFRpbWV6b25lKHRpbWV6b25lT2Zmc2V0KTtcbiAgICAgICAgICBjYXNlIFwieHh4eHhcIjpcbiAgICAgICAgICBjYXNlIFwieHh4XCI6XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBmb3JtYXRUaW1lem9uZSh0aW1lem9uZU9mZnNldCwgXCI6XCIpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgTzogZnVuY3Rpb24oZGF0ZSwgdG9rZW4sIF9sb2NhbGl6ZSwgb3B0aW9ucykge1xuICAgICAgICB2YXIgb3JpZ2luYWxEYXRlID0gb3B0aW9ucy5fb3JpZ2luYWxEYXRlIHx8IGRhdGU7XG4gICAgICAgIHZhciB0aW1lem9uZU9mZnNldCA9IG9yaWdpbmFsRGF0ZS5nZXRUaW1lem9uZU9mZnNldCgpO1xuICAgICAgICBzd2l0Y2ggKHRva2VuKSB7XG4gICAgICAgICAgY2FzZSBcIk9cIjpcbiAgICAgICAgICBjYXNlIFwiT09cIjpcbiAgICAgICAgICBjYXNlIFwiT09PXCI6XG4gICAgICAgICAgICByZXR1cm4gXCJHTVRcIiArIGZvcm1hdFRpbWV6b25lU2hvcnQodGltZXpvbmVPZmZzZXQsIFwiOlwiKTtcbiAgICAgICAgICBjYXNlIFwiT09PT1wiOlxuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gXCJHTVRcIiArIGZvcm1hdFRpbWV6b25lKHRpbWV6b25lT2Zmc2V0LCBcIjpcIik7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB6OiBmdW5jdGlvbihkYXRlLCB0b2tlbiwgX2xvY2FsaXplLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBvcmlnaW5hbERhdGUgPSBvcHRpb25zLl9vcmlnaW5hbERhdGUgfHwgZGF0ZTtcbiAgICAgICAgdmFyIHRpbWV6b25lT2Zmc2V0ID0gb3JpZ2luYWxEYXRlLmdldFRpbWV6b25lT2Zmc2V0KCk7XG4gICAgICAgIHN3aXRjaCAodG9rZW4pIHtcbiAgICAgICAgICBjYXNlIFwielwiOlxuICAgICAgICAgIGNhc2UgXCJ6elwiOlxuICAgICAgICAgIGNhc2UgXCJ6enpcIjpcbiAgICAgICAgICAgIHJldHVybiBcIkdNVFwiICsgZm9ybWF0VGltZXpvbmVTaG9ydCh0aW1lem9uZU9mZnNldCwgXCI6XCIpO1xuICAgICAgICAgIGNhc2UgXCJ6enp6XCI6XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBcIkdNVFwiICsgZm9ybWF0VGltZXpvbmUodGltZXpvbmVPZmZzZXQsIFwiOlwiKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHQ6IGZ1bmN0aW9uKGRhdGUsIHRva2VuLCBfbG9jYWxpemUsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIG9yaWdpbmFsRGF0ZSA9IG9wdGlvbnMuX29yaWdpbmFsRGF0ZSB8fCBkYXRlO1xuICAgICAgICB2YXIgdGltZXN0YW1wID0gTWF0aC5mbG9vcihvcmlnaW5hbERhdGUuZ2V0VGltZSgpIC8gMWUzKTtcbiAgICAgICAgcmV0dXJuICgwLCBfaW5kZXg2LmRlZmF1bHQpKHRpbWVzdGFtcCwgdG9rZW4ubGVuZ3RoKTtcbiAgICAgIH0sXG4gICAgICBUOiBmdW5jdGlvbihkYXRlLCB0b2tlbiwgX2xvY2FsaXplLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBvcmlnaW5hbERhdGUgPSBvcHRpb25zLl9vcmlnaW5hbERhdGUgfHwgZGF0ZTtcbiAgICAgICAgdmFyIHRpbWVzdGFtcCA9IG9yaWdpbmFsRGF0ZS5nZXRUaW1lKCk7XG4gICAgICAgIHJldHVybiAoMCwgX2luZGV4Ni5kZWZhdWx0KSh0aW1lc3RhbXAsIHRva2VuLmxlbmd0aCk7XG4gICAgICB9XG4gICAgfTtcbiAgICBmdW5jdGlvbiBmb3JtYXRUaW1lem9uZVNob3J0KG9mZnNldCwgZGlydHlEZWxpbWl0ZXIpIHtcbiAgICAgIHZhciBzaWduID0gb2Zmc2V0ID4gMCA/IFwiLVwiIDogXCIrXCI7XG4gICAgICB2YXIgYWJzT2Zmc2V0ID0gTWF0aC5hYnMob2Zmc2V0KTtcbiAgICAgIHZhciBob3VycyA9IE1hdGguZmxvb3IoYWJzT2Zmc2V0IC8gNjApO1xuICAgICAgdmFyIG1pbnV0ZXMgPSBhYnNPZmZzZXQgJSA2MDtcbiAgICAgIGlmIChtaW51dGVzID09PSAwKSB7XG4gICAgICAgIHJldHVybiBzaWduICsgU3RyaW5nKGhvdXJzKTtcbiAgICAgIH1cbiAgICAgIHZhciBkZWxpbWl0ZXIgPSBkaXJ0eURlbGltaXRlciB8fCBcIlwiO1xuICAgICAgcmV0dXJuIHNpZ24gKyBTdHJpbmcoaG91cnMpICsgZGVsaW1pdGVyICsgKDAsIF9pbmRleDYuZGVmYXVsdCkobWludXRlcywgMik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGZvcm1hdFRpbWV6b25lV2l0aE9wdGlvbmFsTWludXRlcyhvZmZzZXQsIGRpcnR5RGVsaW1pdGVyKSB7XG4gICAgICBpZiAob2Zmc2V0ICUgNjAgPT09IDApIHtcbiAgICAgICAgdmFyIHNpZ24gPSBvZmZzZXQgPiAwID8gXCItXCIgOiBcIitcIjtcbiAgICAgICAgcmV0dXJuIHNpZ24gKyAoMCwgX2luZGV4Ni5kZWZhdWx0KShNYXRoLmFicyhvZmZzZXQpIC8gNjAsIDIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZvcm1hdFRpbWV6b25lKG9mZnNldCwgZGlydHlEZWxpbWl0ZXIpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBmb3JtYXRUaW1lem9uZShvZmZzZXQsIGRpcnR5RGVsaW1pdGVyKSB7XG4gICAgICB2YXIgZGVsaW1pdGVyID0gZGlydHlEZWxpbWl0ZXIgfHwgXCJcIjtcbiAgICAgIHZhciBzaWduID0gb2Zmc2V0ID4gMCA/IFwiLVwiIDogXCIrXCI7XG4gICAgICB2YXIgYWJzT2Zmc2V0ID0gTWF0aC5hYnMob2Zmc2V0KTtcbiAgICAgIHZhciBob3VycyA9ICgwLCBfaW5kZXg2LmRlZmF1bHQpKE1hdGguZmxvb3IoYWJzT2Zmc2V0IC8gNjApLCAyKTtcbiAgICAgIHZhciBtaW51dGVzID0gKDAsIF9pbmRleDYuZGVmYXVsdCkoYWJzT2Zmc2V0ICUgNjAsIDIpO1xuICAgICAgcmV0dXJuIHNpZ24gKyBob3VycyArIGRlbGltaXRlciArIG1pbnV0ZXM7XG4gICAgfVxuICAgIHZhciBfZGVmYXVsdCA9IGZvcm1hdHRlcnM7XG4gICAgZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG4vLyAuLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvX2xpYi9mb3JtYXQvbG9uZ0Zvcm1hdHRlcnMvaW5kZXguanNcbnZhciByZXF1aXJlX2xvbmdGb3JtYXR0ZXJzID0gX19jb21tb25KUyh7XG4gIFwiLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL19saWIvZm9ybWF0L2xvbmdGb3JtYXR0ZXJzL2luZGV4LmpzXCIoZXhwb3J0cywgbW9kdWxlKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgICB2YWx1ZTogdHJ1ZVxuICAgIH0pO1xuICAgIGV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcbiAgICBmdW5jdGlvbiBkYXRlTG9uZ0Zvcm1hdHRlcihwYXR0ZXJuLCBmb3JtYXRMb25nKSB7XG4gICAgICBzd2l0Y2ggKHBhdHRlcm4pIHtcbiAgICAgICAgY2FzZSBcIlBcIjpcbiAgICAgICAgICByZXR1cm4gZm9ybWF0TG9uZy5kYXRlKHtcbiAgICAgICAgICAgIHdpZHRoOiBcInNob3J0XCJcbiAgICAgICAgICB9KTtcbiAgICAgICAgY2FzZSBcIlBQXCI6XG4gICAgICAgICAgcmV0dXJuIGZvcm1hdExvbmcuZGF0ZSh7XG4gICAgICAgICAgICB3aWR0aDogXCJtZWRpdW1cIlxuICAgICAgICAgIH0pO1xuICAgICAgICBjYXNlIFwiUFBQXCI6XG4gICAgICAgICAgcmV0dXJuIGZvcm1hdExvbmcuZGF0ZSh7XG4gICAgICAgICAgICB3aWR0aDogXCJsb25nXCJcbiAgICAgICAgICB9KTtcbiAgICAgICAgY2FzZSBcIlBQUFBcIjpcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZXR1cm4gZm9ybWF0TG9uZy5kYXRlKHtcbiAgICAgICAgICAgIHdpZHRoOiBcImZ1bGxcIlxuICAgICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiB0aW1lTG9uZ0Zvcm1hdHRlcihwYXR0ZXJuLCBmb3JtYXRMb25nKSB7XG4gICAgICBzd2l0Y2ggKHBhdHRlcm4pIHtcbiAgICAgICAgY2FzZSBcInBcIjpcbiAgICAgICAgICByZXR1cm4gZm9ybWF0TG9uZy50aW1lKHtcbiAgICAgICAgICAgIHdpZHRoOiBcInNob3J0XCJcbiAgICAgICAgICB9KTtcbiAgICAgICAgY2FzZSBcInBwXCI6XG4gICAgICAgICAgcmV0dXJuIGZvcm1hdExvbmcudGltZSh7XG4gICAgICAgICAgICB3aWR0aDogXCJtZWRpdW1cIlxuICAgICAgICAgIH0pO1xuICAgICAgICBjYXNlIFwicHBwXCI6XG4gICAgICAgICAgcmV0dXJuIGZvcm1hdExvbmcudGltZSh7XG4gICAgICAgICAgICB3aWR0aDogXCJsb25nXCJcbiAgICAgICAgICB9KTtcbiAgICAgICAgY2FzZSBcInBwcHBcIjpcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZXR1cm4gZm9ybWF0TG9uZy50aW1lKHtcbiAgICAgICAgICAgIHdpZHRoOiBcImZ1bGxcIlxuICAgICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBkYXRlVGltZUxvbmdGb3JtYXR0ZXIocGF0dGVybiwgZm9ybWF0TG9uZykge1xuICAgICAgdmFyIG1hdGNoUmVzdWx0ID0gcGF0dGVybi5tYXRjaCgvKFArKShwKyk/LykgfHwgW107XG4gICAgICB2YXIgZGF0ZVBhdHRlcm4gPSBtYXRjaFJlc3VsdFsxXTtcbiAgICAgIHZhciB0aW1lUGF0dGVybiA9IG1hdGNoUmVzdWx0WzJdO1xuICAgICAgaWYgKCF0aW1lUGF0dGVybikge1xuICAgICAgICByZXR1cm4gZGF0ZUxvbmdGb3JtYXR0ZXIocGF0dGVybiwgZm9ybWF0TG9uZyk7XG4gICAgICB9XG4gICAgICB2YXIgZGF0ZVRpbWVGb3JtYXQ7XG4gICAgICBzd2l0Y2ggKGRhdGVQYXR0ZXJuKSB7XG4gICAgICAgIGNhc2UgXCJQXCI6XG4gICAgICAgICAgZGF0ZVRpbWVGb3JtYXQgPSBmb3JtYXRMb25nLmRhdGVUaW1lKHtcbiAgICAgICAgICAgIHdpZHRoOiBcInNob3J0XCJcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIlBQXCI6XG4gICAgICAgICAgZGF0ZVRpbWVGb3JtYXQgPSBmb3JtYXRMb25nLmRhdGVUaW1lKHtcbiAgICAgICAgICAgIHdpZHRoOiBcIm1lZGl1bVwiXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJQUFBcIjpcbiAgICAgICAgICBkYXRlVGltZUZvcm1hdCA9IGZvcm1hdExvbmcuZGF0ZVRpbWUoe1xuICAgICAgICAgICAgd2lkdGg6IFwibG9uZ1wiXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJQUFBQXCI6XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgZGF0ZVRpbWVGb3JtYXQgPSBmb3JtYXRMb25nLmRhdGVUaW1lKHtcbiAgICAgICAgICAgIHdpZHRoOiBcImZ1bGxcIlxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGRhdGVUaW1lRm9ybWF0LnJlcGxhY2UoXCJ7e2RhdGV9fVwiLCBkYXRlTG9uZ0Zvcm1hdHRlcihkYXRlUGF0dGVybiwgZm9ybWF0TG9uZykpLnJlcGxhY2UoXCJ7e3RpbWV9fVwiLCB0aW1lTG9uZ0Zvcm1hdHRlcih0aW1lUGF0dGVybiwgZm9ybWF0TG9uZykpO1xuICAgIH1cbiAgICB2YXIgbG9uZ0Zvcm1hdHRlcnMgPSB7XG4gICAgICBwOiB0aW1lTG9uZ0Zvcm1hdHRlcixcbiAgICAgIFA6IGRhdGVUaW1lTG9uZ0Zvcm1hdHRlclxuICAgIH07XG4gICAgdmFyIF9kZWZhdWx0ID0gbG9uZ0Zvcm1hdHRlcnM7XG4gICAgZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG4vLyAuLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvX2xpYi9nZXRUaW1lem9uZU9mZnNldEluTWlsbGlzZWNvbmRzL2luZGV4LmpzXG52YXIgcmVxdWlyZV9nZXRUaW1lem9uZU9mZnNldEluTWlsbGlzZWNvbmRzID0gX19jb21tb25KUyh7XG4gIFwiLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL19saWIvZ2V0VGltZXpvbmVPZmZzZXRJbk1pbGxpc2Vjb25kcy9pbmRleC5qc1wiKGV4cG9ydHMsIG1vZHVsZSkge1xuICAgIFwidXNlIHN0cmljdFwiO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgICAgdmFsdWU6IHRydWVcbiAgICB9KTtcbiAgICBleHBvcnRzLmRlZmF1bHQgPSBnZXRUaW1lem9uZU9mZnNldEluTWlsbGlzZWNvbmRzO1xuICAgIGZ1bmN0aW9uIGdldFRpbWV6b25lT2Zmc2V0SW5NaWxsaXNlY29uZHMoZGF0ZSkge1xuICAgICAgdmFyIHV0Y0RhdGUgPSBuZXcgRGF0ZShEYXRlLlVUQyhkYXRlLmdldEZ1bGxZZWFyKCksIGRhdGUuZ2V0TW9udGgoKSwgZGF0ZS5nZXREYXRlKCksIGRhdGUuZ2V0SG91cnMoKSwgZGF0ZS5nZXRNaW51dGVzKCksIGRhdGUuZ2V0U2Vjb25kcygpLCBkYXRlLmdldE1pbGxpc2Vjb25kcygpKSk7XG4gICAgICB1dGNEYXRlLnNldFVUQ0Z1bGxZZWFyKGRhdGUuZ2V0RnVsbFllYXIoKSk7XG4gICAgICByZXR1cm4gZGF0ZS5nZXRUaW1lKCkgLSB1dGNEYXRlLmdldFRpbWUoKTtcbiAgICB9XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG4vLyAuLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvX2xpYi9wcm90ZWN0ZWRUb2tlbnMvaW5kZXguanNcbnZhciByZXF1aXJlX3Byb3RlY3RlZFRva2VucyA9IF9fY29tbW9uSlMoe1xuICBcIi4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9fbGliL3Byb3RlY3RlZFRva2Vucy9pbmRleC5qc1wiKGV4cG9ydHMpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICAgIHZhbHVlOiB0cnVlXG4gICAgfSk7XG4gICAgZXhwb3J0cy5pc1Byb3RlY3RlZERheU9mWWVhclRva2VuID0gaXNQcm90ZWN0ZWREYXlPZlllYXJUb2tlbjtcbiAgICBleHBvcnRzLmlzUHJvdGVjdGVkV2Vla1llYXJUb2tlbiA9IGlzUHJvdGVjdGVkV2Vla1llYXJUb2tlbjtcbiAgICBleHBvcnRzLnRocm93UHJvdGVjdGVkRXJyb3IgPSB0aHJvd1Byb3RlY3RlZEVycm9yO1xuICAgIHZhciBwcm90ZWN0ZWREYXlPZlllYXJUb2tlbnMgPSBbXCJEXCIsIFwiRERcIl07XG4gICAgdmFyIHByb3RlY3RlZFdlZWtZZWFyVG9rZW5zID0gW1wiWVlcIiwgXCJZWVlZXCJdO1xuICAgIGZ1bmN0aW9uIGlzUHJvdGVjdGVkRGF5T2ZZZWFyVG9rZW4odG9rZW4pIHtcbiAgICAgIHJldHVybiBwcm90ZWN0ZWREYXlPZlllYXJUb2tlbnMuaW5kZXhPZih0b2tlbikgIT09IC0xO1xuICAgIH1cbiAgICBmdW5jdGlvbiBpc1Byb3RlY3RlZFdlZWtZZWFyVG9rZW4odG9rZW4pIHtcbiAgICAgIHJldHVybiBwcm90ZWN0ZWRXZWVrWWVhclRva2Vucy5pbmRleE9mKHRva2VuKSAhPT0gLTE7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHRocm93UHJvdGVjdGVkRXJyb3IodG9rZW4sIGZvcm1hdDQsIGlucHV0KSB7XG4gICAgICBpZiAodG9rZW4gPT09IFwiWVlZWVwiKSB7XG4gICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwiVXNlIGB5eXl5YCBpbnN0ZWFkIG9mIGBZWVlZYCAoaW4gYFwiLmNvbmNhdChmb3JtYXQ0LCBcImApIGZvciBmb3JtYXR0aW5nIHllYXJzIHRvIHRoZSBpbnB1dCBgXCIpLmNvbmNhdChpbnB1dCwgXCJgOyBzZWU6IGh0dHBzOi8vZ2l0LmlvL2Z4Q3lyXCIpKTtcbiAgICAgIH0gZWxzZSBpZiAodG9rZW4gPT09IFwiWVlcIikge1xuICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIlVzZSBgeXlgIGluc3RlYWQgb2YgYFlZYCAoaW4gYFwiLmNvbmNhdChmb3JtYXQ0LCBcImApIGZvciBmb3JtYXR0aW5nIHllYXJzIHRvIHRoZSBpbnB1dCBgXCIpLmNvbmNhdChpbnB1dCwgXCJgOyBzZWU6IGh0dHBzOi8vZ2l0LmlvL2Z4Q3lyXCIpKTtcbiAgICAgIH0gZWxzZSBpZiAodG9rZW4gPT09IFwiRFwiKSB7XG4gICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwiVXNlIGBkYCBpbnN0ZWFkIG9mIGBEYCAoaW4gYFwiLmNvbmNhdChmb3JtYXQ0LCBcImApIGZvciBmb3JtYXR0aW5nIGRheXMgb2YgdGhlIG1vbnRoIHRvIHRoZSBpbnB1dCBgXCIpLmNvbmNhdChpbnB1dCwgXCJgOyBzZWU6IGh0dHBzOi8vZ2l0LmlvL2Z4Q3lyXCIpKTtcbiAgICAgIH0gZWxzZSBpZiAodG9rZW4gPT09IFwiRERcIikge1xuICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIlVzZSBgZGRgIGluc3RlYWQgb2YgYEREYCAoaW4gYFwiLmNvbmNhdChmb3JtYXQ0LCBcImApIGZvciBmb3JtYXR0aW5nIGRheXMgb2YgdGhlIG1vbnRoIHRvIHRoZSBpbnB1dCBgXCIpLmNvbmNhdChpbnB1dCwgXCJgOyBzZWU6IGh0dHBzOi8vZ2l0LmlvL2Z4Q3lyXCIpKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn0pO1xuXG4vLyAuLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZm9ybWF0L2luZGV4LmpzXG52YXIgcmVxdWlyZV9mb3JtYXQgPSBfX2NvbW1vbkpTKHtcbiAgXCIuLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZm9ybWF0L2luZGV4LmpzXCIoZXhwb3J0cywgbW9kdWxlKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgICB2YWx1ZTogdHJ1ZVxuICAgIH0pO1xuICAgIGV4cG9ydHMuZGVmYXVsdCA9IGZvcm1hdDQ7XG4gICAgdmFyIF9pbmRleCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZV9pc1ZhbGlkKCkpO1xuICAgIHZhciBfaW5kZXgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlX2VuX1VTKCkpO1xuICAgIHZhciBfaW5kZXgzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlX3N1Yk1pbGxpc2Vjb25kcygpKTtcbiAgICB2YXIgX2luZGV4NCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZV90b0RhdGUoKSk7XG4gICAgdmFyIF9pbmRleDUgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmVfZm9ybWF0dGVycygpKTtcbiAgICB2YXIgX2luZGV4NiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZV9sb25nRm9ybWF0dGVycygpKTtcbiAgICB2YXIgX2luZGV4NyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZV9nZXRUaW1lem9uZU9mZnNldEluTWlsbGlzZWNvbmRzKCkpO1xuICAgIHZhciBfaW5kZXg4ID0gcmVxdWlyZV9wcm90ZWN0ZWRUb2tlbnMoKTtcbiAgICB2YXIgX2luZGV4OSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZV90b0ludGVnZXIoKSk7XG4gICAgdmFyIF9pbmRleDEwID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlX3JlcXVpcmVkQXJncygpKTtcbiAgICBmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikge1xuICAgICAgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07XG4gICAgfVxuICAgIHZhciBmb3JtYXR0aW5nVG9rZW5zUmVnRXhwID0gL1t5WVFxTUx3SWREZWNpaEhLa21zXW98KFxcdylcXDEqfCcnfCcoJyd8W14nXSkrKCd8JCl8Li9nO1xuICAgIHZhciBsb25nRm9ybWF0dGluZ1Rva2Vuc1JlZ0V4cCA9IC9QK3ArfFArfHArfCcnfCcoJyd8W14nXSkrKCd8JCl8Li9nO1xuICAgIHZhciBlc2NhcGVkU3RyaW5nUmVnRXhwID0gL14nKFteXSo/KSc/JC87XG4gICAgdmFyIGRvdWJsZVF1b3RlUmVnRXhwID0gLycnL2c7XG4gICAgdmFyIHVuZXNjYXBlZExhdGluQ2hhcmFjdGVyUmVnRXhwID0gL1thLXpBLVpdLztcbiAgICBmdW5jdGlvbiBmb3JtYXQ0KGRpcnR5RGF0ZSwgZGlydHlGb3JtYXRTdHIsIGRpcnR5T3B0aW9ucykge1xuICAgICAgKDAsIF9pbmRleDEwLmRlZmF1bHQpKDIsIGFyZ3VtZW50cyk7XG4gICAgICB2YXIgZm9ybWF0U3RyID0gU3RyaW5nKGRpcnR5Rm9ybWF0U3RyKTtcbiAgICAgIHZhciBvcHRpb25zID0gZGlydHlPcHRpb25zIHx8IHt9O1xuICAgICAgdmFyIGxvY2FsZSA9IG9wdGlvbnMubG9jYWxlIHx8IF9pbmRleDIuZGVmYXVsdDtcbiAgICAgIHZhciBsb2NhbGVGaXJzdFdlZWtDb250YWluc0RhdGUgPSBsb2NhbGUub3B0aW9ucyAmJiBsb2NhbGUub3B0aW9ucy5maXJzdFdlZWtDb250YWluc0RhdGU7XG4gICAgICB2YXIgZGVmYXVsdEZpcnN0V2Vla0NvbnRhaW5zRGF0ZSA9IGxvY2FsZUZpcnN0V2Vla0NvbnRhaW5zRGF0ZSA9PSBudWxsID8gMSA6ICgwLCBfaW5kZXg5LmRlZmF1bHQpKGxvY2FsZUZpcnN0V2Vla0NvbnRhaW5zRGF0ZSk7XG4gICAgICB2YXIgZmlyc3RXZWVrQ29udGFpbnNEYXRlID0gb3B0aW9ucy5maXJzdFdlZWtDb250YWluc0RhdGUgPT0gbnVsbCA/IGRlZmF1bHRGaXJzdFdlZWtDb250YWluc0RhdGUgOiAoMCwgX2luZGV4OS5kZWZhdWx0KShvcHRpb25zLmZpcnN0V2Vla0NvbnRhaW5zRGF0ZSk7XG4gICAgICBpZiAoIShmaXJzdFdlZWtDb250YWluc0RhdGUgPj0gMSAmJiBmaXJzdFdlZWtDb250YWluc0RhdGUgPD0gNykpIHtcbiAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJmaXJzdFdlZWtDb250YWluc0RhdGUgbXVzdCBiZSBiZXR3ZWVuIDEgYW5kIDcgaW5jbHVzaXZlbHlcIik7XG4gICAgICB9XG4gICAgICB2YXIgbG9jYWxlV2Vla1N0YXJ0c09uID0gbG9jYWxlLm9wdGlvbnMgJiYgbG9jYWxlLm9wdGlvbnMud2Vla1N0YXJ0c09uO1xuICAgICAgdmFyIGRlZmF1bHRXZWVrU3RhcnRzT24gPSBsb2NhbGVXZWVrU3RhcnRzT24gPT0gbnVsbCA/IDAgOiAoMCwgX2luZGV4OS5kZWZhdWx0KShsb2NhbGVXZWVrU3RhcnRzT24pO1xuICAgICAgdmFyIHdlZWtTdGFydHNPbiA9IG9wdGlvbnMud2Vla1N0YXJ0c09uID09IG51bGwgPyBkZWZhdWx0V2Vla1N0YXJ0c09uIDogKDAsIF9pbmRleDkuZGVmYXVsdCkob3B0aW9ucy53ZWVrU3RhcnRzT24pO1xuICAgICAgaWYgKCEod2Vla1N0YXJ0c09uID49IDAgJiYgd2Vla1N0YXJ0c09uIDw9IDYpKSB7XG4gICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwid2Vla1N0YXJ0c09uIG11c3QgYmUgYmV0d2VlbiAwIGFuZCA2IGluY2x1c2l2ZWx5XCIpO1xuICAgICAgfVxuICAgICAgaWYgKCFsb2NhbGUubG9jYWxpemUpIHtcbiAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJsb2NhbGUgbXVzdCBjb250YWluIGxvY2FsaXplIHByb3BlcnR5XCIpO1xuICAgICAgfVxuICAgICAgaWYgKCFsb2NhbGUuZm9ybWF0TG9uZykge1xuICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcImxvY2FsZSBtdXN0IGNvbnRhaW4gZm9ybWF0TG9uZyBwcm9wZXJ0eVwiKTtcbiAgICAgIH1cbiAgICAgIHZhciBvcmlnaW5hbERhdGUgPSAoMCwgX2luZGV4NC5kZWZhdWx0KShkaXJ0eURhdGUpO1xuICAgICAgaWYgKCEoMCwgX2luZGV4LmRlZmF1bHQpKG9yaWdpbmFsRGF0ZSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJJbnZhbGlkIHRpbWUgdmFsdWVcIik7XG4gICAgICB9XG4gICAgICB2YXIgdGltZXpvbmVPZmZzZXQgPSAoMCwgX2luZGV4Ny5kZWZhdWx0KShvcmlnaW5hbERhdGUpO1xuICAgICAgdmFyIHV0Y0RhdGUgPSAoMCwgX2luZGV4My5kZWZhdWx0KShvcmlnaW5hbERhdGUsIHRpbWV6b25lT2Zmc2V0KTtcbiAgICAgIHZhciBmb3JtYXR0ZXJPcHRpb25zID0ge1xuICAgICAgICBmaXJzdFdlZWtDb250YWluc0RhdGUsXG4gICAgICAgIHdlZWtTdGFydHNPbixcbiAgICAgICAgbG9jYWxlLFxuICAgICAgICBfb3JpZ2luYWxEYXRlOiBvcmlnaW5hbERhdGVcbiAgICAgIH07XG4gICAgICB2YXIgcmVzdWx0ID0gZm9ybWF0U3RyLm1hdGNoKGxvbmdGb3JtYXR0aW5nVG9rZW5zUmVnRXhwKS5tYXAoZnVuY3Rpb24oc3Vic3RyaW5nKSB7XG4gICAgICAgIHZhciBmaXJzdENoYXJhY3RlciA9IHN1YnN0cmluZ1swXTtcbiAgICAgICAgaWYgKGZpcnN0Q2hhcmFjdGVyID09PSBcInBcIiB8fCBmaXJzdENoYXJhY3RlciA9PT0gXCJQXCIpIHtcbiAgICAgICAgICB2YXIgbG9uZ0Zvcm1hdHRlciA9IF9pbmRleDYuZGVmYXVsdFtmaXJzdENoYXJhY3Rlcl07XG4gICAgICAgICAgcmV0dXJuIGxvbmdGb3JtYXR0ZXIoc3Vic3RyaW5nLCBsb2NhbGUuZm9ybWF0TG9uZywgZm9ybWF0dGVyT3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN1YnN0cmluZztcbiAgICAgIH0pLmpvaW4oXCJcIikubWF0Y2goZm9ybWF0dGluZ1Rva2Vuc1JlZ0V4cCkubWFwKGZ1bmN0aW9uKHN1YnN0cmluZykge1xuICAgICAgICBpZiAoc3Vic3RyaW5nID09PSBcIicnXCIpIHtcbiAgICAgICAgICByZXR1cm4gXCInXCI7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGZpcnN0Q2hhcmFjdGVyID0gc3Vic3RyaW5nWzBdO1xuICAgICAgICBpZiAoZmlyc3RDaGFyYWN0ZXIgPT09IFwiJ1wiKSB7XG4gICAgICAgICAgcmV0dXJuIGNsZWFuRXNjYXBlZFN0cmluZyhzdWJzdHJpbmcpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBmb3JtYXR0ZXIgPSBfaW5kZXg1LmRlZmF1bHRbZmlyc3RDaGFyYWN0ZXJdO1xuICAgICAgICBpZiAoZm9ybWF0dGVyKSB7XG4gICAgICAgICAgaWYgKCFvcHRpb25zLnVzZUFkZGl0aW9uYWxXZWVrWWVhclRva2VucyAmJiAoMCwgX2luZGV4OC5pc1Byb3RlY3RlZFdlZWtZZWFyVG9rZW4pKHN1YnN0cmluZykpIHtcbiAgICAgICAgICAgICgwLCBfaW5kZXg4LnRocm93UHJvdGVjdGVkRXJyb3IpKHN1YnN0cmluZywgZGlydHlGb3JtYXRTdHIsIGRpcnR5RGF0ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghb3B0aW9ucy51c2VBZGRpdGlvbmFsRGF5T2ZZZWFyVG9rZW5zICYmICgwLCBfaW5kZXg4LmlzUHJvdGVjdGVkRGF5T2ZZZWFyVG9rZW4pKHN1YnN0cmluZykpIHtcbiAgICAgICAgICAgICgwLCBfaW5kZXg4LnRocm93UHJvdGVjdGVkRXJyb3IpKHN1YnN0cmluZywgZGlydHlGb3JtYXRTdHIsIGRpcnR5RGF0ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBmb3JtYXR0ZXIodXRjRGF0ZSwgc3Vic3RyaW5nLCBsb2NhbGUubG9jYWxpemUsIGZvcm1hdHRlck9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmaXJzdENoYXJhY3Rlci5tYXRjaCh1bmVzY2FwZWRMYXRpbkNoYXJhY3RlclJlZ0V4cCkpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkZvcm1hdCBzdHJpbmcgY29udGFpbnMgYW4gdW5lc2NhcGVkIGxhdGluIGFscGhhYmV0IGNoYXJhY3RlciBgXCIgKyBmaXJzdENoYXJhY3RlciArIFwiYFwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3Vic3RyaW5nO1xuICAgICAgfSkuam9pbihcIlwiKTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNsZWFuRXNjYXBlZFN0cmluZyhpbnB1dCkge1xuICAgICAgcmV0dXJuIGlucHV0Lm1hdGNoKGVzY2FwZWRTdHJpbmdSZWdFeHApWzFdLnJlcGxhY2UoZG91YmxlUXVvdGVSZWdFeHAsIFwiJ1wiKTtcbiAgICB9XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG4vLyAuLi8uLi9ub2RlX21vZHVsZXMvbG9kYXNoLnRocm90dGxlL2luZGV4LmpzXG52YXIgcmVxdWlyZV9sb2Rhc2ggPSBfX2NvbW1vbkpTKHtcbiAgXCIuLi8uLi9ub2RlX21vZHVsZXMvbG9kYXNoLnRocm90dGxlL2luZGV4LmpzXCIoZXhwb3J0cywgbW9kdWxlKSB7XG4gICAgdmFyIEZVTkNfRVJST1JfVEVYVCA9IFwiRXhwZWN0ZWQgYSBmdW5jdGlvblwiO1xuICAgIHZhciBOQU4gPSAwIC8gMDtcbiAgICB2YXIgc3ltYm9sVGFnID0gXCJbb2JqZWN0IFN5bWJvbF1cIjtcbiAgICB2YXIgcmVUcmltID0gL15cXHMrfFxccyskL2c7XG4gICAgdmFyIHJlSXNCYWRIZXggPSAvXlstK10weFswLTlhLWZdKyQvaTtcbiAgICB2YXIgcmVJc0JpbmFyeSA9IC9eMGJbMDFdKyQvaTtcbiAgICB2YXIgcmVJc09jdGFsID0gL14wb1swLTddKyQvaTtcbiAgICB2YXIgZnJlZVBhcnNlSW50ID0gcGFyc2VJbnQ7XG4gICAgdmFyIGZyZWVHbG9iYWwgPSB0eXBlb2YgZ2xvYmFsID09IFwib2JqZWN0XCIgJiYgZ2xvYmFsICYmIGdsb2JhbC5PYmplY3QgPT09IE9iamVjdCAmJiBnbG9iYWw7XG4gICAgdmFyIGZyZWVTZWxmID0gdHlwZW9mIHNlbGYgPT0gXCJvYmplY3RcIiAmJiBzZWxmICYmIHNlbGYuT2JqZWN0ID09PSBPYmplY3QgJiYgc2VsZjtcbiAgICB2YXIgcm9vdCA9IGZyZWVHbG9iYWwgfHwgZnJlZVNlbGYgfHwgRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpO1xuICAgIHZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG4gICAgdmFyIG9iamVjdFRvU3RyaW5nID0gb2JqZWN0UHJvdG8udG9TdHJpbmc7XG4gICAgdmFyIG5hdGl2ZU1heCA9IE1hdGgubWF4O1xuICAgIHZhciBuYXRpdmVNaW4gPSBNYXRoLm1pbjtcbiAgICB2YXIgbm93ID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gcm9vdC5EYXRlLm5vdygpO1xuICAgIH07XG4gICAgZnVuY3Rpb24gZGVib3VuY2UoZnVuYywgd2FpdCwgb3B0aW9ucykge1xuICAgICAgdmFyIGxhc3RBcmdzLCBsYXN0VGhpcywgbWF4V2FpdCwgcmVzdWx0LCB0aW1lcklkLCBsYXN0Q2FsbFRpbWUsIGxhc3RJbnZva2VUaW1lID0gMCwgbGVhZGluZyA9IGZhbHNlLCBtYXhpbmcgPSBmYWxzZSwgdHJhaWxpbmcgPSB0cnVlO1xuICAgICAgaWYgKHR5cGVvZiBmdW5jICE9IFwiZnVuY3Rpb25cIikge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICB3YWl0ID0gdG9OdW1iZXIod2FpdCkgfHwgMDtcbiAgICAgIGlmIChpc09iamVjdChvcHRpb25zKSkge1xuICAgICAgICBsZWFkaW5nID0gISFvcHRpb25zLmxlYWRpbmc7XG4gICAgICAgIG1heGluZyA9IFwibWF4V2FpdFwiIGluIG9wdGlvbnM7XG4gICAgICAgIG1heFdhaXQgPSBtYXhpbmcgPyBuYXRpdmVNYXgodG9OdW1iZXIob3B0aW9ucy5tYXhXYWl0KSB8fCAwLCB3YWl0KSA6IG1heFdhaXQ7XG4gICAgICAgIHRyYWlsaW5nID0gXCJ0cmFpbGluZ1wiIGluIG9wdGlvbnMgPyAhIW9wdGlvbnMudHJhaWxpbmcgOiB0cmFpbGluZztcbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIGludm9rZUZ1bmModGltZSkge1xuICAgICAgICB2YXIgYXJncyA9IGxhc3RBcmdzLCB0aGlzQXJnID0gbGFzdFRoaXM7XG4gICAgICAgIGxhc3RBcmdzID0gbGFzdFRoaXMgPSB2b2lkIDA7XG4gICAgICAgIGxhc3RJbnZva2VUaW1lID0gdGltZTtcbiAgICAgICAgcmVzdWx0ID0gZnVuYy5hcHBseSh0aGlzQXJnLCBhcmdzKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIGxlYWRpbmdFZGdlKHRpbWUpIHtcbiAgICAgICAgbGFzdEludm9rZVRpbWUgPSB0aW1lO1xuICAgICAgICB0aW1lcklkID0gc2V0VGltZW91dCh0aW1lckV4cGlyZWQsIHdhaXQpO1xuICAgICAgICByZXR1cm4gbGVhZGluZyA/IGludm9rZUZ1bmModGltZSkgOiByZXN1bHQ7XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiByZW1haW5pbmdXYWl0KHRpbWUpIHtcbiAgICAgICAgdmFyIHRpbWVTaW5jZUxhc3RDYWxsID0gdGltZSAtIGxhc3RDYWxsVGltZSwgdGltZVNpbmNlTGFzdEludm9rZSA9IHRpbWUgLSBsYXN0SW52b2tlVGltZSwgcmVzdWx0MiA9IHdhaXQgLSB0aW1lU2luY2VMYXN0Q2FsbDtcbiAgICAgICAgcmV0dXJuIG1heGluZyA/IG5hdGl2ZU1pbihyZXN1bHQyLCBtYXhXYWl0IC0gdGltZVNpbmNlTGFzdEludm9rZSkgOiByZXN1bHQyO1xuICAgICAgfVxuICAgICAgZnVuY3Rpb24gc2hvdWxkSW52b2tlKHRpbWUpIHtcbiAgICAgICAgdmFyIHRpbWVTaW5jZUxhc3RDYWxsID0gdGltZSAtIGxhc3RDYWxsVGltZSwgdGltZVNpbmNlTGFzdEludm9rZSA9IHRpbWUgLSBsYXN0SW52b2tlVGltZTtcbiAgICAgICAgcmV0dXJuIGxhc3RDYWxsVGltZSA9PT0gdm9pZCAwIHx8IHRpbWVTaW5jZUxhc3RDYWxsID49IHdhaXQgfHwgdGltZVNpbmNlTGFzdENhbGwgPCAwIHx8IG1heGluZyAmJiB0aW1lU2luY2VMYXN0SW52b2tlID49IG1heFdhaXQ7XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiB0aW1lckV4cGlyZWQoKSB7XG4gICAgICAgIHZhciB0aW1lID0gbm93KCk7XG4gICAgICAgIGlmIChzaG91bGRJbnZva2UodGltZSkpIHtcbiAgICAgICAgICByZXR1cm4gdHJhaWxpbmdFZGdlKHRpbWUpO1xuICAgICAgICB9XG4gICAgICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgcmVtYWluaW5nV2FpdCh0aW1lKSk7XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiB0cmFpbGluZ0VkZ2UodGltZSkge1xuICAgICAgICB0aW1lcklkID0gdm9pZCAwO1xuICAgICAgICBpZiAodHJhaWxpbmcgJiYgbGFzdEFyZ3MpIHtcbiAgICAgICAgICByZXR1cm4gaW52b2tlRnVuYyh0aW1lKTtcbiAgICAgICAgfVxuICAgICAgICBsYXN0QXJncyA9IGxhc3RUaGlzID0gdm9pZCAwO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgICAgZnVuY3Rpb24gY2FuY2VsKCkge1xuICAgICAgICBpZiAodGltZXJJZCAhPT0gdm9pZCAwKSB7XG4gICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVySWQpO1xuICAgICAgICB9XG4gICAgICAgIGxhc3RJbnZva2VUaW1lID0gMDtcbiAgICAgICAgbGFzdEFyZ3MgPSBsYXN0Q2FsbFRpbWUgPSBsYXN0VGhpcyA9IHRpbWVySWQgPSB2b2lkIDA7XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiBmbHVzaCgpIHtcbiAgICAgICAgcmV0dXJuIHRpbWVySWQgPT09IHZvaWQgMCA/IHJlc3VsdCA6IHRyYWlsaW5nRWRnZShub3coKSk7XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiBkZWJvdW5jZWQoKSB7XG4gICAgICAgIHZhciB0aW1lID0gbm93KCksIGlzSW52b2tpbmcgPSBzaG91bGRJbnZva2UodGltZSk7XG4gICAgICAgIGxhc3RBcmdzID0gYXJndW1lbnRzO1xuICAgICAgICBsYXN0VGhpcyA9IHRoaXM7XG4gICAgICAgIGxhc3RDYWxsVGltZSA9IHRpbWU7XG4gICAgICAgIGlmIChpc0ludm9raW5nKSB7XG4gICAgICAgICAgaWYgKHRpbWVySWQgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgcmV0dXJuIGxlYWRpbmdFZGdlKGxhc3RDYWxsVGltZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChtYXhpbmcpIHtcbiAgICAgICAgICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgd2FpdCk7XG4gICAgICAgICAgICByZXR1cm4gaW52b2tlRnVuYyhsYXN0Q2FsbFRpbWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodGltZXJJZCA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgdGltZXJJZCA9IHNldFRpbWVvdXQodGltZXJFeHBpcmVkLCB3YWl0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgICAgZGVib3VuY2VkLmNhbmNlbCA9IGNhbmNlbDtcbiAgICAgIGRlYm91bmNlZC5mbHVzaCA9IGZsdXNoO1xuICAgICAgcmV0dXJuIGRlYm91bmNlZDtcbiAgICB9XG4gICAgZnVuY3Rpb24gdGhyb3R0bGUyKGZ1bmMsIHdhaXQsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBsZWFkaW5nID0gdHJ1ZSwgdHJhaWxpbmcgPSB0cnVlO1xuICAgICAgaWYgKHR5cGVvZiBmdW5jICE9IFwiZnVuY3Rpb25cIikge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICBpZiAoaXNPYmplY3Qob3B0aW9ucykpIHtcbiAgICAgICAgbGVhZGluZyA9IFwibGVhZGluZ1wiIGluIG9wdGlvbnMgPyAhIW9wdGlvbnMubGVhZGluZyA6IGxlYWRpbmc7XG4gICAgICAgIHRyYWlsaW5nID0gXCJ0cmFpbGluZ1wiIGluIG9wdGlvbnMgPyAhIW9wdGlvbnMudHJhaWxpbmcgOiB0cmFpbGluZztcbiAgICAgIH1cbiAgICAgIHJldHVybiBkZWJvdW5jZShmdW5jLCB3YWl0LCB7XG4gICAgICAgIFwibGVhZGluZ1wiOiBsZWFkaW5nLFxuICAgICAgICBcIm1heFdhaXRcIjogd2FpdCxcbiAgICAgICAgXCJ0cmFpbGluZ1wiOiB0cmFpbGluZ1xuICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGlzT2JqZWN0KHZhbHVlKSB7XG4gICAgICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgICAgIHJldHVybiAhIXZhbHVlICYmICh0eXBlID09IFwib2JqZWN0XCIgfHwgdHlwZSA9PSBcImZ1bmN0aW9uXCIpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBpc09iamVjdExpa2UodmFsdWUpIHtcbiAgICAgIHJldHVybiAhIXZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PSBcIm9iamVjdFwiO1xuICAgIH1cbiAgICBmdW5jdGlvbiBpc1N5bWJvbCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSBcInN5bWJvbFwiIHx8IGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgb2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT0gc3ltYm9sVGFnO1xuICAgIH1cbiAgICBmdW5jdGlvbiB0b051bWJlcih2YWx1ZSkge1xuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSBcIm51bWJlclwiKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChpc1N5bWJvbCh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIE5BTjtcbiAgICAgIH1cbiAgICAgIGlmIChpc09iamVjdCh2YWx1ZSkpIHtcbiAgICAgICAgdmFyIG90aGVyID0gdHlwZW9mIHZhbHVlLnZhbHVlT2YgPT0gXCJmdW5jdGlvblwiID8gdmFsdWUudmFsdWVPZigpIDogdmFsdWU7XG4gICAgICAgIHZhbHVlID0gaXNPYmplY3Qob3RoZXIpID8gb3RoZXIgKyBcIlwiIDogb3RoZXI7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIHZhbHVlICE9IFwic3RyaW5nXCIpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlID09PSAwID8gdmFsdWUgOiArdmFsdWU7XG4gICAgICB9XG4gICAgICB2YWx1ZSA9IHZhbHVlLnJlcGxhY2UocmVUcmltLCBcIlwiKTtcbiAgICAgIHZhciBpc0JpbmFyeSA9IHJlSXNCaW5hcnkudGVzdCh2YWx1ZSk7XG4gICAgICByZXR1cm4gaXNCaW5hcnkgfHwgcmVJc09jdGFsLnRlc3QodmFsdWUpID8gZnJlZVBhcnNlSW50KHZhbHVlLnNsaWNlKDIpLCBpc0JpbmFyeSA/IDIgOiA4KSA6IHJlSXNCYWRIZXgudGVzdCh2YWx1ZSkgPyBOQU4gOiArdmFsdWU7XG4gICAgfVxuICAgIG1vZHVsZS5leHBvcnRzID0gdGhyb3R0bGUyO1xuICB9XG59KTtcblxuLy8gLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2dldERhdGUvaW5kZXguanNcbnZhciByZXF1aXJlX2dldERhdGUgPSBfX2NvbW1vbkpTKHtcbiAgXCIuLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZ2V0RGF0ZS9pbmRleC5qc1wiKGV4cG9ydHMsIG1vZHVsZSkge1xuICAgIFwidXNlIHN0cmljdFwiO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgICAgdmFsdWU6IHRydWVcbiAgICB9KTtcbiAgICBleHBvcnRzLmRlZmF1bHQgPSBnZXREYXRlMjtcbiAgICB2YXIgX2luZGV4ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlX3RvRGF0ZSgpKTtcbiAgICB2YXIgX2luZGV4MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZV9yZXF1aXJlZEFyZ3MoKSk7XG4gICAgZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHtcbiAgICAgIHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXREYXRlMihkaXJ0eURhdGUpIHtcbiAgICAgICgwLCBfaW5kZXgyLmRlZmF1bHQpKDEsIGFyZ3VtZW50cyk7XG4gICAgICB2YXIgZGF0ZSA9ICgwLCBfaW5kZXguZGVmYXVsdCkoZGlydHlEYXRlKTtcbiAgICAgIHZhciBkYXlPZk1vbnRoID0gZGF0ZS5nZXREYXRlKCk7XG4gICAgICByZXR1cm4gZGF5T2ZNb250aDtcbiAgICB9XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG4vLyAuLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZ2V0RGF5L2luZGV4LmpzXG52YXIgcmVxdWlyZV9nZXREYXkgPSBfX2NvbW1vbkpTKHtcbiAgXCIuLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZ2V0RGF5L2luZGV4LmpzXCIoZXhwb3J0cywgbW9kdWxlKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgICB2YWx1ZTogdHJ1ZVxuICAgIH0pO1xuICAgIGV4cG9ydHMuZGVmYXVsdCA9IGdldERheTI7XG4gICAgdmFyIF9pbmRleCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZV90b0RhdGUoKSk7XG4gICAgdmFyIF9pbmRleDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmVfcmVxdWlyZWRBcmdzKCkpO1xuICAgIGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7XG4gICAgICByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0RGF5MihkaXJ0eURhdGUpIHtcbiAgICAgICgwLCBfaW5kZXgyLmRlZmF1bHQpKDEsIGFyZ3VtZW50cyk7XG4gICAgICB2YXIgZGF0ZSA9ICgwLCBfaW5kZXguZGVmYXVsdCkoZGlydHlEYXRlKTtcbiAgICAgIHZhciBkYXkgPSBkYXRlLmdldERheSgpO1xuICAgICAgcmV0dXJuIGRheTtcbiAgICB9XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG4vLyAuLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZ2V0SG91cnMvaW5kZXguanNcbnZhciByZXF1aXJlX2dldEhvdXJzID0gX19jb21tb25KUyh7XG4gIFwiLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2dldEhvdXJzL2luZGV4LmpzXCIoZXhwb3J0cywgbW9kdWxlKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgICB2YWx1ZTogdHJ1ZVxuICAgIH0pO1xuICAgIGV4cG9ydHMuZGVmYXVsdCA9IGdldEhvdXJzMjtcbiAgICB2YXIgX2luZGV4ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlX3RvRGF0ZSgpKTtcbiAgICB2YXIgX2luZGV4MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZV9yZXF1aXJlZEFyZ3MoKSk7XG4gICAgZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHtcbiAgICAgIHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRIb3VyczIoZGlydHlEYXRlKSB7XG4gICAgICAoMCwgX2luZGV4Mi5kZWZhdWx0KSgxLCBhcmd1bWVudHMpO1xuICAgICAgdmFyIGRhdGUgPSAoMCwgX2luZGV4LmRlZmF1bHQpKGRpcnR5RGF0ZSk7XG4gICAgICB2YXIgaG91cnMgPSBkYXRlLmdldEhvdXJzKCk7XG4gICAgICByZXR1cm4gaG91cnM7XG4gICAgfVxuICAgIG1vZHVsZS5leHBvcnRzID0gZXhwb3J0cy5kZWZhdWx0O1xuICB9XG59KTtcblxuLy8gLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2dldE1pbnV0ZXMvaW5kZXguanNcbnZhciByZXF1aXJlX2dldE1pbnV0ZXMgPSBfX2NvbW1vbkpTKHtcbiAgXCIuLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZ2V0TWludXRlcy9pbmRleC5qc1wiKGV4cG9ydHMsIG1vZHVsZSkge1xuICAgIFwidXNlIHN0cmljdFwiO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgICAgdmFsdWU6IHRydWVcbiAgICB9KTtcbiAgICBleHBvcnRzLmRlZmF1bHQgPSBnZXRNaW51dGVzMjtcbiAgICB2YXIgX2luZGV4ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlX3RvRGF0ZSgpKTtcbiAgICB2YXIgX2luZGV4MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZV9yZXF1aXJlZEFyZ3MoKSk7XG4gICAgZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHtcbiAgICAgIHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRNaW51dGVzMihkaXJ0eURhdGUpIHtcbiAgICAgICgwLCBfaW5kZXgyLmRlZmF1bHQpKDEsIGFyZ3VtZW50cyk7XG4gICAgICB2YXIgZGF0ZSA9ICgwLCBfaW5kZXguZGVmYXVsdCkoZGlydHlEYXRlKTtcbiAgICAgIHZhciBtaW51dGVzID0gZGF0ZS5nZXRNaW51dGVzKCk7XG4gICAgICByZXR1cm4gbWludXRlcztcbiAgICB9XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG4vLyAuLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZ2V0TW9udGgvaW5kZXguanNcbnZhciByZXF1aXJlX2dldE1vbnRoID0gX19jb21tb25KUyh7XG4gIFwiLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2dldE1vbnRoL2luZGV4LmpzXCIoZXhwb3J0cywgbW9kdWxlKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgICB2YWx1ZTogdHJ1ZVxuICAgIH0pO1xuICAgIGV4cG9ydHMuZGVmYXVsdCA9IGdldE1vbnRoMjtcbiAgICB2YXIgX2luZGV4ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlX3RvRGF0ZSgpKTtcbiAgICB2YXIgX2luZGV4MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZV9yZXF1aXJlZEFyZ3MoKSk7XG4gICAgZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHtcbiAgICAgIHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRNb250aDIoZGlydHlEYXRlKSB7XG4gICAgICAoMCwgX2luZGV4Mi5kZWZhdWx0KSgxLCBhcmd1bWVudHMpO1xuICAgICAgdmFyIGRhdGUgPSAoMCwgX2luZGV4LmRlZmF1bHQpKGRpcnR5RGF0ZSk7XG4gICAgICB2YXIgbW9udGggPSBkYXRlLmdldE1vbnRoKCk7XG4gICAgICByZXR1cm4gbW9udGg7XG4gICAgfVxuICAgIG1vZHVsZS5leHBvcnRzID0gZXhwb3J0cy5kZWZhdWx0O1xuICB9XG59KTtcblxuLy8gLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2dldFllYXIvaW5kZXguanNcbnZhciByZXF1aXJlX2dldFllYXIgPSBfX2NvbW1vbkpTKHtcbiAgXCIuLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZ2V0WWVhci9pbmRleC5qc1wiKGV4cG9ydHMsIG1vZHVsZSkge1xuICAgIFwidXNlIHN0cmljdFwiO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgICAgdmFsdWU6IHRydWVcbiAgICB9KTtcbiAgICBleHBvcnRzLmRlZmF1bHQgPSBnZXRZZWFyMjtcbiAgICB2YXIgX2luZGV4ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlX3RvRGF0ZSgpKTtcbiAgICB2YXIgX2luZGV4MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZV9yZXF1aXJlZEFyZ3MoKSk7XG4gICAgZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHtcbiAgICAgIHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRZZWFyMihkaXJ0eURhdGUpIHtcbiAgICAgICgwLCBfaW5kZXgyLmRlZmF1bHQpKDEsIGFyZ3VtZW50cyk7XG4gICAgICByZXR1cm4gKDAsIF9pbmRleC5kZWZhdWx0KShkaXJ0eURhdGUpLmdldEZ1bGxZZWFyKCk7XG4gICAgfVxuICAgIG1vZHVsZS5leHBvcnRzID0gZXhwb3J0cy5kZWZhdWx0O1xuICB9XG59KTtcblxuLy8gLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2FkZERheXMvaW5kZXguanNcbnZhciByZXF1aXJlX2FkZERheXMgPSBfX2NvbW1vbkpTKHtcbiAgXCIuLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvYWRkRGF5cy9pbmRleC5qc1wiKGV4cG9ydHMsIG1vZHVsZSkge1xuICAgIFwidXNlIHN0cmljdFwiO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgICAgdmFsdWU6IHRydWVcbiAgICB9KTtcbiAgICBleHBvcnRzLmRlZmF1bHQgPSBhZGREYXlzO1xuICAgIHZhciBfaW5kZXggPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmVfdG9JbnRlZ2VyKCkpO1xuICAgIHZhciBfaW5kZXgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlX3RvRGF0ZSgpKTtcbiAgICB2YXIgX2luZGV4MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZV9yZXF1aXJlZEFyZ3MoKSk7XG4gICAgZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHtcbiAgICAgIHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBhZGREYXlzKGRpcnR5RGF0ZSwgZGlydHlBbW91bnQpIHtcbiAgICAgICgwLCBfaW5kZXgzLmRlZmF1bHQpKDIsIGFyZ3VtZW50cyk7XG4gICAgICB2YXIgZGF0ZSA9ICgwLCBfaW5kZXgyLmRlZmF1bHQpKGRpcnR5RGF0ZSk7XG4gICAgICB2YXIgYW1vdW50ID0gKDAsIF9pbmRleC5kZWZhdWx0KShkaXJ0eUFtb3VudCk7XG4gICAgICBpZiAoaXNOYU4oYW1vdW50KSkge1xuICAgICAgICByZXR1cm4gbmV3IERhdGUoTmFOKTtcbiAgICAgIH1cbiAgICAgIGlmICghYW1vdW50KSB7XG4gICAgICAgIHJldHVybiBkYXRlO1xuICAgICAgfVxuICAgICAgZGF0ZS5zZXREYXRlKGRhdGUuZ2V0RGF0ZSgpICsgYW1vdW50KTtcbiAgICAgIHJldHVybiBkYXRlO1xuICAgIH1cbiAgICBtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMuZGVmYXVsdDtcbiAgfVxufSk7XG5cbi8vIC4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9hZGRNb250aHMvaW5kZXguanNcbnZhciByZXF1aXJlX2FkZE1vbnRocyA9IF9fY29tbW9uSlMoe1xuICBcIi4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9hZGRNb250aHMvaW5kZXguanNcIihleHBvcnRzLCBtb2R1bGUpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICAgIHZhbHVlOiB0cnVlXG4gICAgfSk7XG4gICAgZXhwb3J0cy5kZWZhdWx0ID0gYWRkTW9udGhzO1xuICAgIHZhciBfaW5kZXggPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmVfdG9JbnRlZ2VyKCkpO1xuICAgIHZhciBfaW5kZXgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlX3RvRGF0ZSgpKTtcbiAgICB2YXIgX2luZGV4MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZV9yZXF1aXJlZEFyZ3MoKSk7XG4gICAgZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHtcbiAgICAgIHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBhZGRNb250aHMoZGlydHlEYXRlLCBkaXJ0eUFtb3VudCkge1xuICAgICAgKDAsIF9pbmRleDMuZGVmYXVsdCkoMiwgYXJndW1lbnRzKTtcbiAgICAgIHZhciBkYXRlID0gKDAsIF9pbmRleDIuZGVmYXVsdCkoZGlydHlEYXRlKTtcbiAgICAgIHZhciBhbW91bnQgPSAoMCwgX2luZGV4LmRlZmF1bHQpKGRpcnR5QW1vdW50KTtcbiAgICAgIGlmIChpc05hTihhbW91bnQpKSB7XG4gICAgICAgIHJldHVybiBuZXcgRGF0ZShOYU4pO1xuICAgICAgfVxuICAgICAgaWYgKCFhbW91bnQpIHtcbiAgICAgICAgcmV0dXJuIGRhdGU7XG4gICAgICB9XG4gICAgICB2YXIgZGF5T2ZNb250aCA9IGRhdGUuZ2V0RGF0ZSgpO1xuICAgICAgdmFyIGVuZE9mRGVzaXJlZE1vbnRoID0gbmV3IERhdGUoZGF0ZS5nZXRUaW1lKCkpO1xuICAgICAgZW5kT2ZEZXNpcmVkTW9udGguc2V0TW9udGgoZGF0ZS5nZXRNb250aCgpICsgYW1vdW50ICsgMSwgMCk7XG4gICAgICB2YXIgZGF5c0luTW9udGggPSBlbmRPZkRlc2lyZWRNb250aC5nZXREYXRlKCk7XG4gICAgICBpZiAoZGF5T2ZNb250aCA+PSBkYXlzSW5Nb250aCkge1xuICAgICAgICByZXR1cm4gZW5kT2ZEZXNpcmVkTW9udGg7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkYXRlLnNldEZ1bGxZZWFyKGVuZE9mRGVzaXJlZE1vbnRoLmdldEZ1bGxZZWFyKCksIGVuZE9mRGVzaXJlZE1vbnRoLmdldE1vbnRoKCksIGRheU9mTW9udGgpO1xuICAgICAgICByZXR1cm4gZGF0ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG4vLyAuLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvYWRkL2luZGV4LmpzXG52YXIgcmVxdWlyZV9hZGQgPSBfX2NvbW1vbkpTKHtcbiAgXCIuLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvYWRkL2luZGV4LmpzXCIoZXhwb3J0cywgbW9kdWxlKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgICB2YWx1ZTogdHJ1ZVxuICAgIH0pO1xuICAgIGV4cG9ydHMuZGVmYXVsdCA9IGFkZDI7XG4gICAgdmFyIF9pbmRleCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZV9hZGREYXlzKCkpO1xuICAgIHZhciBfaW5kZXgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlX2FkZE1vbnRocygpKTtcbiAgICB2YXIgX2luZGV4MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZV90b0RhdGUoKSk7XG4gICAgdmFyIF9pbmRleDQgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmVfcmVxdWlyZWRBcmdzKCkpO1xuICAgIHZhciBfaW5kZXg1ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlX3RvSW50ZWdlcigpKTtcbiAgICBmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikge1xuICAgICAgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIGFkZDIoZGlydHlEYXRlLCBkdXJhdGlvbikge1xuICAgICAgKDAsIF9pbmRleDQuZGVmYXVsdCkoMiwgYXJndW1lbnRzKTtcbiAgICAgIGlmICghZHVyYXRpb24gfHwgdHlwZW9mIGR1cmF0aW9uICE9PSBcIm9iamVjdFwiKVxuICAgICAgICByZXR1cm4gbmV3IERhdGUoTmFOKTtcbiAgICAgIHZhciB5ZWFycyA9IGR1cmF0aW9uLnllYXJzID8gKDAsIF9pbmRleDUuZGVmYXVsdCkoZHVyYXRpb24ueWVhcnMpIDogMDtcbiAgICAgIHZhciBtb250aHMgPSBkdXJhdGlvbi5tb250aHMgPyAoMCwgX2luZGV4NS5kZWZhdWx0KShkdXJhdGlvbi5tb250aHMpIDogMDtcbiAgICAgIHZhciB3ZWVrcyA9IGR1cmF0aW9uLndlZWtzID8gKDAsIF9pbmRleDUuZGVmYXVsdCkoZHVyYXRpb24ud2Vla3MpIDogMDtcbiAgICAgIHZhciBkYXlzID0gZHVyYXRpb24uZGF5cyA/ICgwLCBfaW5kZXg1LmRlZmF1bHQpKGR1cmF0aW9uLmRheXMpIDogMDtcbiAgICAgIHZhciBob3VycyA9IGR1cmF0aW9uLmhvdXJzID8gKDAsIF9pbmRleDUuZGVmYXVsdCkoZHVyYXRpb24uaG91cnMpIDogMDtcbiAgICAgIHZhciBtaW51dGVzID0gZHVyYXRpb24ubWludXRlcyA/ICgwLCBfaW5kZXg1LmRlZmF1bHQpKGR1cmF0aW9uLm1pbnV0ZXMpIDogMDtcbiAgICAgIHZhciBzZWNvbmRzID0gZHVyYXRpb24uc2Vjb25kcyA/ICgwLCBfaW5kZXg1LmRlZmF1bHQpKGR1cmF0aW9uLnNlY29uZHMpIDogMDtcbiAgICAgIHZhciBkYXRlID0gKDAsIF9pbmRleDMuZGVmYXVsdCkoZGlydHlEYXRlKTtcbiAgICAgIHZhciBkYXRlV2l0aE1vbnRocyA9IG1vbnRocyB8fCB5ZWFycyA/ICgwLCBfaW5kZXgyLmRlZmF1bHQpKGRhdGUsIG1vbnRocyArIHllYXJzICogMTIpIDogZGF0ZTtcbiAgICAgIHZhciBkYXRlV2l0aERheXMgPSBkYXlzIHx8IHdlZWtzID8gKDAsIF9pbmRleC5kZWZhdWx0KShkYXRlV2l0aE1vbnRocywgZGF5cyArIHdlZWtzICogNykgOiBkYXRlV2l0aE1vbnRocztcbiAgICAgIHZhciBtaW51dGVzVG9BZGQgPSBtaW51dGVzICsgaG91cnMgKiA2MDtcbiAgICAgIHZhciBzZWNvbmRzVG9BZGQgPSBzZWNvbmRzICsgbWludXRlc1RvQWRkICogNjA7XG4gICAgICB2YXIgbXNUb0FkZCA9IHNlY29uZHNUb0FkZCAqIDFlMztcbiAgICAgIHZhciBmaW5hbERhdGUgPSBuZXcgRGF0ZShkYXRlV2l0aERheXMuZ2V0VGltZSgpICsgbXNUb0FkZCk7XG4gICAgICByZXR1cm4gZmluYWxEYXRlO1xuICAgIH1cbiAgICBtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMuZGVmYXVsdDtcbiAgfVxufSk7XG5cbi8vIC4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9zdWJEYXlzL2luZGV4LmpzXG52YXIgcmVxdWlyZV9zdWJEYXlzID0gX19jb21tb25KUyh7XG4gIFwiLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL3N1YkRheXMvaW5kZXguanNcIihleHBvcnRzLCBtb2R1bGUpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICAgIHZhbHVlOiB0cnVlXG4gICAgfSk7XG4gICAgZXhwb3J0cy5kZWZhdWx0ID0gc3ViRGF5cztcbiAgICB2YXIgX2luZGV4ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlX3RvSW50ZWdlcigpKTtcbiAgICB2YXIgX2luZGV4MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZV9hZGREYXlzKCkpO1xuICAgIHZhciBfaW5kZXgzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlX3JlcXVpcmVkQXJncygpKTtcbiAgICBmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikge1xuICAgICAgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIHN1YkRheXMoZGlydHlEYXRlLCBkaXJ0eUFtb3VudCkge1xuICAgICAgKDAsIF9pbmRleDMuZGVmYXVsdCkoMiwgYXJndW1lbnRzKTtcbiAgICAgIHZhciBhbW91bnQgPSAoMCwgX2luZGV4LmRlZmF1bHQpKGRpcnR5QW1vdW50KTtcbiAgICAgIHJldHVybiAoMCwgX2luZGV4Mi5kZWZhdWx0KShkaXJ0eURhdGUsIC1hbW91bnQpO1xuICAgIH1cbiAgICBtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMuZGVmYXVsdDtcbiAgfVxufSk7XG5cbi8vIC4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9zdWJNb250aHMvaW5kZXguanNcbnZhciByZXF1aXJlX3N1Yk1vbnRocyA9IF9fY29tbW9uSlMoe1xuICBcIi4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9zdWJNb250aHMvaW5kZXguanNcIihleHBvcnRzLCBtb2R1bGUpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICAgIHZhbHVlOiB0cnVlXG4gICAgfSk7XG4gICAgZXhwb3J0cy5kZWZhdWx0ID0gc3ViTW9udGhzO1xuICAgIHZhciBfaW5kZXggPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmVfdG9JbnRlZ2VyKCkpO1xuICAgIHZhciBfaW5kZXgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlX2FkZE1vbnRocygpKTtcbiAgICB2YXIgX2luZGV4MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZV9yZXF1aXJlZEFyZ3MoKSk7XG4gICAgZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHtcbiAgICAgIHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBzdWJNb250aHMoZGlydHlEYXRlLCBkaXJ0eUFtb3VudCkge1xuICAgICAgKDAsIF9pbmRleDMuZGVmYXVsdCkoMiwgYXJndW1lbnRzKTtcbiAgICAgIHZhciBhbW91bnQgPSAoMCwgX2luZGV4LmRlZmF1bHQpKGRpcnR5QW1vdW50KTtcbiAgICAgIHJldHVybiAoMCwgX2luZGV4Mi5kZWZhdWx0KShkaXJ0eURhdGUsIC1hbW91bnQpO1xuICAgIH1cbiAgICBtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMuZGVmYXVsdDtcbiAgfVxufSk7XG5cbi8vIC4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9zdWIvaW5kZXguanNcbnZhciByZXF1aXJlX3N1YiA9IF9fY29tbW9uSlMoe1xuICBcIi4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9zdWIvaW5kZXguanNcIihleHBvcnRzLCBtb2R1bGUpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICAgIHZhbHVlOiB0cnVlXG4gICAgfSk7XG4gICAgZXhwb3J0cy5kZWZhdWx0ID0gc3ViMjtcbiAgICB2YXIgX2luZGV4ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlX3N1YkRheXMoKSk7XG4gICAgdmFyIF9pbmRleDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmVfc3ViTW9udGhzKCkpO1xuICAgIHZhciBfaW5kZXgzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlX3JlcXVpcmVkQXJncygpKTtcbiAgICB2YXIgX2luZGV4NCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZV90b0ludGVnZXIoKSk7XG4gICAgZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHtcbiAgICAgIHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBzdWIyKGRhdGUsIGR1cmF0aW9uKSB7XG4gICAgICAoMCwgX2luZGV4My5kZWZhdWx0KSgyLCBhcmd1bWVudHMpO1xuICAgICAgaWYgKCFkdXJhdGlvbiB8fCB0eXBlb2YgZHVyYXRpb24gIT09IFwib2JqZWN0XCIpXG4gICAgICAgIHJldHVybiBuZXcgRGF0ZShOYU4pO1xuICAgICAgdmFyIHllYXJzID0gZHVyYXRpb24ueWVhcnMgPyAoMCwgX2luZGV4NC5kZWZhdWx0KShkdXJhdGlvbi55ZWFycykgOiAwO1xuICAgICAgdmFyIG1vbnRocyA9IGR1cmF0aW9uLm1vbnRocyA/ICgwLCBfaW5kZXg0LmRlZmF1bHQpKGR1cmF0aW9uLm1vbnRocykgOiAwO1xuICAgICAgdmFyIHdlZWtzID0gZHVyYXRpb24ud2Vla3MgPyAoMCwgX2luZGV4NC5kZWZhdWx0KShkdXJhdGlvbi53ZWVrcykgOiAwO1xuICAgICAgdmFyIGRheXMgPSBkdXJhdGlvbi5kYXlzID8gKDAsIF9pbmRleDQuZGVmYXVsdCkoZHVyYXRpb24uZGF5cykgOiAwO1xuICAgICAgdmFyIGhvdXJzID0gZHVyYXRpb24uaG91cnMgPyAoMCwgX2luZGV4NC5kZWZhdWx0KShkdXJhdGlvbi5ob3VycykgOiAwO1xuICAgICAgdmFyIG1pbnV0ZXMgPSBkdXJhdGlvbi5taW51dGVzID8gKDAsIF9pbmRleDQuZGVmYXVsdCkoZHVyYXRpb24ubWludXRlcykgOiAwO1xuICAgICAgdmFyIHNlY29uZHMgPSBkdXJhdGlvbi5zZWNvbmRzID8gKDAsIF9pbmRleDQuZGVmYXVsdCkoZHVyYXRpb24uc2Vjb25kcykgOiAwO1xuICAgICAgdmFyIGRhdGVXaXRob3V0TW9udGhzID0gKDAsIF9pbmRleDIuZGVmYXVsdCkoZGF0ZSwgbW9udGhzICsgeWVhcnMgKiAxMik7XG4gICAgICB2YXIgZGF0ZVdpdGhvdXREYXlzID0gKDAsIF9pbmRleC5kZWZhdWx0KShkYXRlV2l0aG91dE1vbnRocywgZGF5cyArIHdlZWtzICogNyk7XG4gICAgICB2YXIgbWludXRlc3RvU3ViID0gbWludXRlcyArIGhvdXJzICogNjA7XG4gICAgICB2YXIgc2Vjb25kc3RvU3ViID0gc2Vjb25kcyArIG1pbnV0ZXN0b1N1YiAqIDYwO1xuICAgICAgdmFyIG1zdG9TdWIgPSBzZWNvbmRzdG9TdWIgKiAxZTM7XG4gICAgICB2YXIgZmluYWxEYXRlID0gbmV3IERhdGUoZGF0ZVdpdGhvdXREYXlzLmdldFRpbWUoKSAtIG1zdG9TdWIpO1xuICAgICAgcmV0dXJuIGZpbmFsRGF0ZTtcbiAgICB9XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG4vLyAuLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvY29tcGFyZUFzYy9pbmRleC5qc1xudmFyIHJlcXVpcmVfY29tcGFyZUFzYyA9IF9fY29tbW9uSlMoe1xuICBcIi4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9jb21wYXJlQXNjL2luZGV4LmpzXCIoZXhwb3J0cywgbW9kdWxlKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgICB2YWx1ZTogdHJ1ZVxuICAgIH0pO1xuICAgIGV4cG9ydHMuZGVmYXVsdCA9IGNvbXBhcmVBc2M7XG4gICAgdmFyIF9pbmRleCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZV90b0RhdGUoKSk7XG4gICAgdmFyIF9pbmRleDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmVfcmVxdWlyZWRBcmdzKCkpO1xuICAgIGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7XG4gICAgICByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY29tcGFyZUFzYyhkaXJ0eURhdGVMZWZ0LCBkaXJ0eURhdGVSaWdodCkge1xuICAgICAgKDAsIF9pbmRleDIuZGVmYXVsdCkoMiwgYXJndW1lbnRzKTtcbiAgICAgIHZhciBkYXRlTGVmdCA9ICgwLCBfaW5kZXguZGVmYXVsdCkoZGlydHlEYXRlTGVmdCk7XG4gICAgICB2YXIgZGF0ZVJpZ2h0ID0gKDAsIF9pbmRleC5kZWZhdWx0KShkaXJ0eURhdGVSaWdodCk7XG4gICAgICB2YXIgZGlmZiA9IGRhdGVMZWZ0LmdldFRpbWUoKSAtIGRhdGVSaWdodC5nZXRUaW1lKCk7XG4gICAgICBpZiAoZGlmZiA8IDApIHtcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgfSBlbHNlIGlmIChkaWZmID4gMCkge1xuICAgICAgICByZXR1cm4gMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBkaWZmO1xuICAgICAgfVxuICAgIH1cbiAgICBtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMuZGVmYXVsdDtcbiAgfVxufSk7XG5cbi8vIC4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9kaWZmZXJlbmNlSW5DYWxlbmRhclllYXJzL2luZGV4LmpzXG52YXIgcmVxdWlyZV9kaWZmZXJlbmNlSW5DYWxlbmRhclllYXJzID0gX19jb21tb25KUyh7XG4gIFwiLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2RpZmZlcmVuY2VJbkNhbGVuZGFyWWVhcnMvaW5kZXguanNcIihleHBvcnRzLCBtb2R1bGUpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICAgIHZhbHVlOiB0cnVlXG4gICAgfSk7XG4gICAgZXhwb3J0cy5kZWZhdWx0ID0gZGlmZmVyZW5jZUluQ2FsZW5kYXJZZWFycztcbiAgICB2YXIgX2luZGV4ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlX3RvRGF0ZSgpKTtcbiAgICB2YXIgX2luZGV4MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZV9yZXF1aXJlZEFyZ3MoKSk7XG4gICAgZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHtcbiAgICAgIHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBkaWZmZXJlbmNlSW5DYWxlbmRhclllYXJzKGRpcnR5RGF0ZUxlZnQsIGRpcnR5RGF0ZVJpZ2h0KSB7XG4gICAgICAoMCwgX2luZGV4Mi5kZWZhdWx0KSgyLCBhcmd1bWVudHMpO1xuICAgICAgdmFyIGRhdGVMZWZ0ID0gKDAsIF9pbmRleC5kZWZhdWx0KShkaXJ0eURhdGVMZWZ0KTtcbiAgICAgIHZhciBkYXRlUmlnaHQgPSAoMCwgX2luZGV4LmRlZmF1bHQpKGRpcnR5RGF0ZVJpZ2h0KTtcbiAgICAgIHJldHVybiBkYXRlTGVmdC5nZXRGdWxsWWVhcigpIC0gZGF0ZVJpZ2h0LmdldEZ1bGxZZWFyKCk7XG4gICAgfVxuICAgIG1vZHVsZS5leHBvcnRzID0gZXhwb3J0cy5kZWZhdWx0O1xuICB9XG59KTtcblxuLy8gLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2RpZmZlcmVuY2VJblllYXJzL2luZGV4LmpzXG52YXIgcmVxdWlyZV9kaWZmZXJlbmNlSW5ZZWFycyA9IF9fY29tbW9uSlMoe1xuICBcIi4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9kaWZmZXJlbmNlSW5ZZWFycy9pbmRleC5qc1wiKGV4cG9ydHMsIG1vZHVsZSkge1xuICAgIFwidXNlIHN0cmljdFwiO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgICAgdmFsdWU6IHRydWVcbiAgICB9KTtcbiAgICBleHBvcnRzLmRlZmF1bHQgPSBkaWZmZXJlbmNlSW5ZZWFycztcbiAgICB2YXIgX2luZGV4ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlX3RvRGF0ZSgpKTtcbiAgICB2YXIgX2luZGV4MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZV9kaWZmZXJlbmNlSW5DYWxlbmRhclllYXJzKCkpO1xuICAgIHZhciBfaW5kZXgzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlX2NvbXBhcmVBc2MoKSk7XG4gICAgdmFyIF9pbmRleDQgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmVfcmVxdWlyZWRBcmdzKCkpO1xuICAgIGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7XG4gICAgICByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZGlmZmVyZW5jZUluWWVhcnMoZGlydHlEYXRlTGVmdCwgZGlydHlEYXRlUmlnaHQpIHtcbiAgICAgICgwLCBfaW5kZXg0LmRlZmF1bHQpKDIsIGFyZ3VtZW50cyk7XG4gICAgICB2YXIgZGF0ZUxlZnQgPSAoMCwgX2luZGV4LmRlZmF1bHQpKGRpcnR5RGF0ZUxlZnQpO1xuICAgICAgdmFyIGRhdGVSaWdodCA9ICgwLCBfaW5kZXguZGVmYXVsdCkoZGlydHlEYXRlUmlnaHQpO1xuICAgICAgdmFyIHNpZ24gPSAoMCwgX2luZGV4My5kZWZhdWx0KShkYXRlTGVmdCwgZGF0ZVJpZ2h0KTtcbiAgICAgIHZhciBkaWZmZXJlbmNlID0gTWF0aC5hYnMoKDAsIF9pbmRleDIuZGVmYXVsdCkoZGF0ZUxlZnQsIGRhdGVSaWdodCkpO1xuICAgICAgZGF0ZUxlZnQuc2V0RnVsbFllYXIoMTU4NCk7XG4gICAgICBkYXRlUmlnaHQuc2V0RnVsbFllYXIoMTU4NCk7XG4gICAgICB2YXIgaXNMYXN0WWVhck5vdEZ1bGwgPSAoMCwgX2luZGV4My5kZWZhdWx0KShkYXRlTGVmdCwgZGF0ZVJpZ2h0KSA9PT0gLXNpZ247XG4gICAgICB2YXIgcmVzdWx0ID0gc2lnbiAqIChkaWZmZXJlbmNlIC0gTnVtYmVyKGlzTGFzdFllYXJOb3RGdWxsKSk7XG4gICAgICByZXR1cm4gcmVzdWx0ID09PSAwID8gMCA6IHJlc3VsdDtcbiAgICB9XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG4vLyAuLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZGlmZmVyZW5jZUluQ2FsZW5kYXJNb250aHMvaW5kZXguanNcbnZhciByZXF1aXJlX2RpZmZlcmVuY2VJbkNhbGVuZGFyTW9udGhzID0gX19jb21tb25KUyh7XG4gIFwiLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2RpZmZlcmVuY2VJbkNhbGVuZGFyTW9udGhzL2luZGV4LmpzXCIoZXhwb3J0cywgbW9kdWxlKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgICB2YWx1ZTogdHJ1ZVxuICAgIH0pO1xuICAgIGV4cG9ydHMuZGVmYXVsdCA9IGRpZmZlcmVuY2VJbkNhbGVuZGFyTW9udGhzO1xuICAgIHZhciBfaW5kZXggPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmVfdG9EYXRlKCkpO1xuICAgIHZhciBfaW5kZXgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlX3JlcXVpcmVkQXJncygpKTtcbiAgICBmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikge1xuICAgICAgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRpZmZlcmVuY2VJbkNhbGVuZGFyTW9udGhzKGRpcnR5RGF0ZUxlZnQsIGRpcnR5RGF0ZVJpZ2h0KSB7XG4gICAgICAoMCwgX2luZGV4Mi5kZWZhdWx0KSgyLCBhcmd1bWVudHMpO1xuICAgICAgdmFyIGRhdGVMZWZ0ID0gKDAsIF9pbmRleC5kZWZhdWx0KShkaXJ0eURhdGVMZWZ0KTtcbiAgICAgIHZhciBkYXRlUmlnaHQgPSAoMCwgX2luZGV4LmRlZmF1bHQpKGRpcnR5RGF0ZVJpZ2h0KTtcbiAgICAgIHZhciB5ZWFyRGlmZiA9IGRhdGVMZWZ0LmdldEZ1bGxZZWFyKCkgLSBkYXRlUmlnaHQuZ2V0RnVsbFllYXIoKTtcbiAgICAgIHZhciBtb250aERpZmYgPSBkYXRlTGVmdC5nZXRNb250aCgpIC0gZGF0ZVJpZ2h0LmdldE1vbnRoKCk7XG4gICAgICByZXR1cm4geWVhckRpZmYgKiAxMiArIG1vbnRoRGlmZjtcbiAgICB9XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG4vLyAuLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZW5kT2ZEYXkvaW5kZXguanNcbnZhciByZXF1aXJlX2VuZE9mRGF5ID0gX19jb21tb25KUyh7XG4gIFwiLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2VuZE9mRGF5L2luZGV4LmpzXCIoZXhwb3J0cywgbW9kdWxlKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgICB2YWx1ZTogdHJ1ZVxuICAgIH0pO1xuICAgIGV4cG9ydHMuZGVmYXVsdCA9IGVuZE9mRGF5O1xuICAgIHZhciBfaW5kZXggPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmVfdG9EYXRlKCkpO1xuICAgIHZhciBfaW5kZXgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlX3JlcXVpcmVkQXJncygpKTtcbiAgICBmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikge1xuICAgICAgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIGVuZE9mRGF5KGRpcnR5RGF0ZSkge1xuICAgICAgKDAsIF9pbmRleDIuZGVmYXVsdCkoMSwgYXJndW1lbnRzKTtcbiAgICAgIHZhciBkYXRlID0gKDAsIF9pbmRleC5kZWZhdWx0KShkaXJ0eURhdGUpO1xuICAgICAgZGF0ZS5zZXRIb3VycygyMywgNTksIDU5LCA5OTkpO1xuICAgICAgcmV0dXJuIGRhdGU7XG4gICAgfVxuICAgIG1vZHVsZS5leHBvcnRzID0gZXhwb3J0cy5kZWZhdWx0O1xuICB9XG59KTtcblxuLy8gLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2VuZE9mTW9udGgvaW5kZXguanNcbnZhciByZXF1aXJlX2VuZE9mTW9udGggPSBfX2NvbW1vbkpTKHtcbiAgXCIuLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZW5kT2ZNb250aC9pbmRleC5qc1wiKGV4cG9ydHMsIG1vZHVsZSkge1xuICAgIFwidXNlIHN0cmljdFwiO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgICAgdmFsdWU6IHRydWVcbiAgICB9KTtcbiAgICBleHBvcnRzLmRlZmF1bHQgPSBlbmRPZk1vbnRoO1xuICAgIHZhciBfaW5kZXggPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmVfdG9EYXRlKCkpO1xuICAgIHZhciBfaW5kZXgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlX3JlcXVpcmVkQXJncygpKTtcbiAgICBmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikge1xuICAgICAgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIGVuZE9mTW9udGgoZGlydHlEYXRlKSB7XG4gICAgICAoMCwgX2luZGV4Mi5kZWZhdWx0KSgxLCBhcmd1bWVudHMpO1xuICAgICAgdmFyIGRhdGUgPSAoMCwgX2luZGV4LmRlZmF1bHQpKGRpcnR5RGF0ZSk7XG4gICAgICB2YXIgbW9udGggPSBkYXRlLmdldE1vbnRoKCk7XG4gICAgICBkYXRlLnNldEZ1bGxZZWFyKGRhdGUuZ2V0RnVsbFllYXIoKSwgbW9udGggKyAxLCAwKTtcbiAgICAgIGRhdGUuc2V0SG91cnMoMjMsIDU5LCA1OSwgOTk5KTtcbiAgICAgIHJldHVybiBkYXRlO1xuICAgIH1cbiAgICBtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMuZGVmYXVsdDtcbiAgfVxufSk7XG5cbi8vIC4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9pc0xhc3REYXlPZk1vbnRoL2luZGV4LmpzXG52YXIgcmVxdWlyZV9pc0xhc3REYXlPZk1vbnRoID0gX19jb21tb25KUyh7XG4gIFwiLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2lzTGFzdERheU9mTW9udGgvaW5kZXguanNcIihleHBvcnRzLCBtb2R1bGUpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICAgIHZhbHVlOiB0cnVlXG4gICAgfSk7XG4gICAgZXhwb3J0cy5kZWZhdWx0ID0gaXNMYXN0RGF5T2ZNb250aDtcbiAgICB2YXIgX2luZGV4ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlX3RvRGF0ZSgpKTtcbiAgICB2YXIgX2luZGV4MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZV9lbmRPZkRheSgpKTtcbiAgICB2YXIgX2luZGV4MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZV9lbmRPZk1vbnRoKCkpO1xuICAgIHZhciBfaW5kZXg0ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlX3JlcXVpcmVkQXJncygpKTtcbiAgICBmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikge1xuICAgICAgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIGlzTGFzdERheU9mTW9udGgoZGlydHlEYXRlKSB7XG4gICAgICAoMCwgX2luZGV4NC5kZWZhdWx0KSgxLCBhcmd1bWVudHMpO1xuICAgICAgdmFyIGRhdGUgPSAoMCwgX2luZGV4LmRlZmF1bHQpKGRpcnR5RGF0ZSk7XG4gICAgICByZXR1cm4gKDAsIF9pbmRleDIuZGVmYXVsdCkoZGF0ZSkuZ2V0VGltZSgpID09PSAoMCwgX2luZGV4My5kZWZhdWx0KShkYXRlKS5nZXRUaW1lKCk7XG4gICAgfVxuICAgIG1vZHVsZS5leHBvcnRzID0gZXhwb3J0cy5kZWZhdWx0O1xuICB9XG59KTtcblxuLy8gLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2RpZmZlcmVuY2VJbk1vbnRocy9pbmRleC5qc1xudmFyIHJlcXVpcmVfZGlmZmVyZW5jZUluTW9udGhzID0gX19jb21tb25KUyh7XG4gIFwiLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2RpZmZlcmVuY2VJbk1vbnRocy9pbmRleC5qc1wiKGV4cG9ydHMsIG1vZHVsZSkge1xuICAgIFwidXNlIHN0cmljdFwiO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgICAgdmFsdWU6IHRydWVcbiAgICB9KTtcbiAgICBleHBvcnRzLmRlZmF1bHQgPSBkaWZmZXJlbmNlSW5Nb250aHM7XG4gICAgdmFyIF9pbmRleCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZV90b0RhdGUoKSk7XG4gICAgdmFyIF9pbmRleDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmVfZGlmZmVyZW5jZUluQ2FsZW5kYXJNb250aHMoKSk7XG4gICAgdmFyIF9pbmRleDMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmVfY29tcGFyZUFzYygpKTtcbiAgICB2YXIgX2luZGV4NCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZV9yZXF1aXJlZEFyZ3MoKSk7XG4gICAgdmFyIF9pbmRleDUgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmVfaXNMYXN0RGF5T2ZNb250aCgpKTtcbiAgICBmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikge1xuICAgICAgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRpZmZlcmVuY2VJbk1vbnRocyhkaXJ0eURhdGVMZWZ0LCBkaXJ0eURhdGVSaWdodCkge1xuICAgICAgKDAsIF9pbmRleDQuZGVmYXVsdCkoMiwgYXJndW1lbnRzKTtcbiAgICAgIHZhciBkYXRlTGVmdCA9ICgwLCBfaW5kZXguZGVmYXVsdCkoZGlydHlEYXRlTGVmdCk7XG4gICAgICB2YXIgZGF0ZVJpZ2h0ID0gKDAsIF9pbmRleC5kZWZhdWx0KShkaXJ0eURhdGVSaWdodCk7XG4gICAgICB2YXIgc2lnbiA9ICgwLCBfaW5kZXgzLmRlZmF1bHQpKGRhdGVMZWZ0LCBkYXRlUmlnaHQpO1xuICAgICAgdmFyIGRpZmZlcmVuY2UgPSBNYXRoLmFicygoMCwgX2luZGV4Mi5kZWZhdWx0KShkYXRlTGVmdCwgZGF0ZVJpZ2h0KSk7XG4gICAgICB2YXIgcmVzdWx0O1xuICAgICAgaWYgKGRpZmZlcmVuY2UgPCAxKSB7XG4gICAgICAgIHJlc3VsdCA9IDA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoZGF0ZUxlZnQuZ2V0TW9udGgoKSA9PT0gMSAmJiBkYXRlTGVmdC5nZXREYXRlKCkgPiAyNykge1xuICAgICAgICAgIGRhdGVMZWZ0LnNldERhdGUoMzApO1xuICAgICAgICB9XG4gICAgICAgIGRhdGVMZWZ0LnNldE1vbnRoKGRhdGVMZWZ0LmdldE1vbnRoKCkgLSBzaWduICogZGlmZmVyZW5jZSk7XG4gICAgICAgIHZhciBpc0xhc3RNb250aE5vdEZ1bGwgPSAoMCwgX2luZGV4My5kZWZhdWx0KShkYXRlTGVmdCwgZGF0ZVJpZ2h0KSA9PT0gLXNpZ247XG4gICAgICAgIGlmICgoMCwgX2luZGV4NS5kZWZhdWx0KSgoMCwgX2luZGV4LmRlZmF1bHQpKGRpcnR5RGF0ZUxlZnQpKSAmJiBkaWZmZXJlbmNlID09PSAxICYmICgwLCBfaW5kZXgzLmRlZmF1bHQpKGRpcnR5RGF0ZUxlZnQsIGRhdGVSaWdodCkgPT09IDEpIHtcbiAgICAgICAgICBpc0xhc3RNb250aE5vdEZ1bGwgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXN1bHQgPSBzaWduICogKGRpZmZlcmVuY2UgLSBOdW1iZXIoaXNMYXN0TW9udGhOb3RGdWxsKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0ID09PSAwID8gMCA6IHJlc3VsdDtcbiAgICB9XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG4vLyAuLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvc3RhcnRPZkRheS9pbmRleC5qc1xudmFyIHJlcXVpcmVfc3RhcnRPZkRheSA9IF9fY29tbW9uSlMoe1xuICBcIi4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9zdGFydE9mRGF5L2luZGV4LmpzXCIoZXhwb3J0cywgbW9kdWxlKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgICB2YWx1ZTogdHJ1ZVxuICAgIH0pO1xuICAgIGV4cG9ydHMuZGVmYXVsdCA9IHN0YXJ0T2ZEYXk7XG4gICAgdmFyIF9pbmRleCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZV90b0RhdGUoKSk7XG4gICAgdmFyIF9pbmRleDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmVfcmVxdWlyZWRBcmdzKCkpO1xuICAgIGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7XG4gICAgICByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gc3RhcnRPZkRheShkaXJ0eURhdGUpIHtcbiAgICAgICgwLCBfaW5kZXgyLmRlZmF1bHQpKDEsIGFyZ3VtZW50cyk7XG4gICAgICB2YXIgZGF0ZSA9ICgwLCBfaW5kZXguZGVmYXVsdCkoZGlydHlEYXRlKTtcbiAgICAgIGRhdGUuc2V0SG91cnMoMCwgMCwgMCwgMCk7XG4gICAgICByZXR1cm4gZGF0ZTtcbiAgICB9XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG4vLyAuLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZGlmZmVyZW5jZUluQ2FsZW5kYXJEYXlzL2luZGV4LmpzXG52YXIgcmVxdWlyZV9kaWZmZXJlbmNlSW5DYWxlbmRhckRheXMgPSBfX2NvbW1vbkpTKHtcbiAgXCIuLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZGlmZmVyZW5jZUluQ2FsZW5kYXJEYXlzL2luZGV4LmpzXCIoZXhwb3J0cywgbW9kdWxlKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgICB2YWx1ZTogdHJ1ZVxuICAgIH0pO1xuICAgIGV4cG9ydHMuZGVmYXVsdCA9IGRpZmZlcmVuY2VJbkNhbGVuZGFyRGF5cztcbiAgICB2YXIgX2luZGV4ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlX2dldFRpbWV6b25lT2Zmc2V0SW5NaWxsaXNlY29uZHMoKSk7XG4gICAgdmFyIF9pbmRleDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmVfc3RhcnRPZkRheSgpKTtcbiAgICB2YXIgX2luZGV4MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZV9yZXF1aXJlZEFyZ3MoKSk7XG4gICAgZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHtcbiAgICAgIHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9O1xuICAgIH1cbiAgICB2YXIgTUlMTElTRUNPTkRTX0lOX0RBWSA9IDg2NGU1O1xuICAgIGZ1bmN0aW9uIGRpZmZlcmVuY2VJbkNhbGVuZGFyRGF5cyhkaXJ0eURhdGVMZWZ0LCBkaXJ0eURhdGVSaWdodCkge1xuICAgICAgKDAsIF9pbmRleDMuZGVmYXVsdCkoMiwgYXJndW1lbnRzKTtcbiAgICAgIHZhciBzdGFydE9mRGF5TGVmdCA9ICgwLCBfaW5kZXgyLmRlZmF1bHQpKGRpcnR5RGF0ZUxlZnQpO1xuICAgICAgdmFyIHN0YXJ0T2ZEYXlSaWdodCA9ICgwLCBfaW5kZXgyLmRlZmF1bHQpKGRpcnR5RGF0ZVJpZ2h0KTtcbiAgICAgIHZhciB0aW1lc3RhbXBMZWZ0ID0gc3RhcnRPZkRheUxlZnQuZ2V0VGltZSgpIC0gKDAsIF9pbmRleC5kZWZhdWx0KShzdGFydE9mRGF5TGVmdCk7XG4gICAgICB2YXIgdGltZXN0YW1wUmlnaHQgPSBzdGFydE9mRGF5UmlnaHQuZ2V0VGltZSgpIC0gKDAsIF9pbmRleC5kZWZhdWx0KShzdGFydE9mRGF5UmlnaHQpO1xuICAgICAgcmV0dXJuIE1hdGgucm91bmQoKHRpbWVzdGFtcExlZnQgLSB0aW1lc3RhbXBSaWdodCkgLyBNSUxMSVNFQ09ORFNfSU5fREFZKTtcbiAgICB9XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG4vLyAuLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZGlmZmVyZW5jZUluRGF5cy9pbmRleC5qc1xudmFyIHJlcXVpcmVfZGlmZmVyZW5jZUluRGF5cyA9IF9fY29tbW9uSlMoe1xuICBcIi4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9kaWZmZXJlbmNlSW5EYXlzL2luZGV4LmpzXCIoZXhwb3J0cywgbW9kdWxlKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgICB2YWx1ZTogdHJ1ZVxuICAgIH0pO1xuICAgIGV4cG9ydHMuZGVmYXVsdCA9IGRpZmZlcmVuY2VJbkRheXM7XG4gICAgdmFyIF9pbmRleCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZV90b0RhdGUoKSk7XG4gICAgdmFyIF9pbmRleDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmVfZGlmZmVyZW5jZUluQ2FsZW5kYXJEYXlzKCkpO1xuICAgIHZhciBfaW5kZXgzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlX3JlcXVpcmVkQXJncygpKTtcbiAgICBmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikge1xuICAgICAgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvbXBhcmVMb2NhbEFzYyhkYXRlTGVmdCwgZGF0ZVJpZ2h0KSB7XG4gICAgICB2YXIgZGlmZiA9IGRhdGVMZWZ0LmdldEZ1bGxZZWFyKCkgLSBkYXRlUmlnaHQuZ2V0RnVsbFllYXIoKSB8fCBkYXRlTGVmdC5nZXRNb250aCgpIC0gZGF0ZVJpZ2h0LmdldE1vbnRoKCkgfHwgZGF0ZUxlZnQuZ2V0RGF0ZSgpIC0gZGF0ZVJpZ2h0LmdldERhdGUoKSB8fCBkYXRlTGVmdC5nZXRIb3VycygpIC0gZGF0ZVJpZ2h0LmdldEhvdXJzKCkgfHwgZGF0ZUxlZnQuZ2V0TWludXRlcygpIC0gZGF0ZVJpZ2h0LmdldE1pbnV0ZXMoKSB8fCBkYXRlTGVmdC5nZXRTZWNvbmRzKCkgLSBkYXRlUmlnaHQuZ2V0U2Vjb25kcygpIHx8IGRhdGVMZWZ0LmdldE1pbGxpc2Vjb25kcygpIC0gZGF0ZVJpZ2h0LmdldE1pbGxpc2Vjb25kcygpO1xuICAgICAgaWYgKGRpZmYgPCAwKSB7XG4gICAgICAgIHJldHVybiAtMTtcbiAgICAgIH0gZWxzZSBpZiAoZGlmZiA+IDApIHtcbiAgICAgICAgcmV0dXJuIDE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZGlmZjtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZGlmZmVyZW5jZUluRGF5cyhkaXJ0eURhdGVMZWZ0LCBkaXJ0eURhdGVSaWdodCkge1xuICAgICAgKDAsIF9pbmRleDMuZGVmYXVsdCkoMiwgYXJndW1lbnRzKTtcbiAgICAgIHZhciBkYXRlTGVmdCA9ICgwLCBfaW5kZXguZGVmYXVsdCkoZGlydHlEYXRlTGVmdCk7XG4gICAgICB2YXIgZGF0ZVJpZ2h0ID0gKDAsIF9pbmRleC5kZWZhdWx0KShkaXJ0eURhdGVSaWdodCk7XG4gICAgICB2YXIgc2lnbiA9IGNvbXBhcmVMb2NhbEFzYyhkYXRlTGVmdCwgZGF0ZVJpZ2h0KTtcbiAgICAgIHZhciBkaWZmZXJlbmNlID0gTWF0aC5hYnMoKDAsIF9pbmRleDIuZGVmYXVsdCkoZGF0ZUxlZnQsIGRhdGVSaWdodCkpO1xuICAgICAgZGF0ZUxlZnQuc2V0RGF0ZShkYXRlTGVmdC5nZXREYXRlKCkgLSBzaWduICogZGlmZmVyZW5jZSk7XG4gICAgICB2YXIgaXNMYXN0RGF5Tm90RnVsbCA9IE51bWJlcihjb21wYXJlTG9jYWxBc2MoZGF0ZUxlZnQsIGRhdGVSaWdodCkgPT09IC1zaWduKTtcbiAgICAgIHZhciByZXN1bHQgPSBzaWduICogKGRpZmZlcmVuY2UgLSBpc0xhc3REYXlOb3RGdWxsKTtcbiAgICAgIHJldHVybiByZXN1bHQgPT09IDAgPyAwIDogcmVzdWx0O1xuICAgIH1cbiAgICBtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMuZGVmYXVsdDtcbiAgfVxufSk7XG5cbi8vIC4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9jb25zdGFudHMvaW5kZXguanNcbnZhciByZXF1aXJlX2NvbnN0YW50cyA9IF9fY29tbW9uSlMoe1xuICBcIi4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9jb25zdGFudHMvaW5kZXguanNcIihleHBvcnRzKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgICB2YWx1ZTogdHJ1ZVxuICAgIH0pO1xuICAgIGV4cG9ydHMuc2Vjb25kc0luTWludXRlID0gZXhwb3J0cy5zZWNvbmRzSW5Ib3VyID0gZXhwb3J0cy5xdWFydGVyc0luWWVhciA9IGV4cG9ydHMubW9udGhzSW5ZZWFyID0gZXhwb3J0cy5tb250aHNJblF1YXJ0ZXIgPSBleHBvcnRzLm1pbnV0ZXNJbkhvdXIgPSBleHBvcnRzLm1pblRpbWUgPSBleHBvcnRzLm1pbGxpc2Vjb25kc0luU2Vjb25kID0gZXhwb3J0cy5taWxsaXNlY29uZHNJbkhvdXIgPSBleHBvcnRzLm1pbGxpc2Vjb25kc0luTWludXRlID0gZXhwb3J0cy5tYXhUaW1lID0gZXhwb3J0cy5kYXlzSW5XZWVrID0gdm9pZCAwO1xuICAgIHZhciBkYXlzSW5XZWVrID0gNztcbiAgICBleHBvcnRzLmRheXNJbldlZWsgPSBkYXlzSW5XZWVrO1xuICAgIHZhciBtYXhUaW1lID0gTWF0aC5wb3coMTAsIDgpICogMjQgKiA2MCAqIDYwICogMWUzO1xuICAgIGV4cG9ydHMubWF4VGltZSA9IG1heFRpbWU7XG4gICAgdmFyIG1pbGxpc2Vjb25kc0luTWludXRlID0gNmU0O1xuICAgIGV4cG9ydHMubWlsbGlzZWNvbmRzSW5NaW51dGUgPSBtaWxsaXNlY29uZHNJbk1pbnV0ZTtcbiAgICB2YXIgbWlsbGlzZWNvbmRzSW5Ib3VyID0gMzZlNTtcbiAgICBleHBvcnRzLm1pbGxpc2Vjb25kc0luSG91ciA9IG1pbGxpc2Vjb25kc0luSG91cjtcbiAgICB2YXIgbWlsbGlzZWNvbmRzSW5TZWNvbmQgPSAxZTM7XG4gICAgZXhwb3J0cy5taWxsaXNlY29uZHNJblNlY29uZCA9IG1pbGxpc2Vjb25kc0luU2Vjb25kO1xuICAgIHZhciBtaW5UaW1lID0gLW1heFRpbWU7XG4gICAgZXhwb3J0cy5taW5UaW1lID0gbWluVGltZTtcbiAgICB2YXIgbWludXRlc0luSG91ciA9IDYwO1xuICAgIGV4cG9ydHMubWludXRlc0luSG91ciA9IG1pbnV0ZXNJbkhvdXI7XG4gICAgdmFyIG1vbnRoc0luUXVhcnRlciA9IDM7XG4gICAgZXhwb3J0cy5tb250aHNJblF1YXJ0ZXIgPSBtb250aHNJblF1YXJ0ZXI7XG4gICAgdmFyIG1vbnRoc0luWWVhciA9IDEyO1xuICAgIGV4cG9ydHMubW9udGhzSW5ZZWFyID0gbW9udGhzSW5ZZWFyO1xuICAgIHZhciBxdWFydGVyc0luWWVhciA9IDQ7XG4gICAgZXhwb3J0cy5xdWFydGVyc0luWWVhciA9IHF1YXJ0ZXJzSW5ZZWFyO1xuICAgIHZhciBzZWNvbmRzSW5Ib3VyID0gMzYwMDtcbiAgICBleHBvcnRzLnNlY29uZHNJbkhvdXIgPSBzZWNvbmRzSW5Ib3VyO1xuICAgIHZhciBzZWNvbmRzSW5NaW51dGUgPSA2MDtcbiAgICBleHBvcnRzLnNlY29uZHNJbk1pbnV0ZSA9IHNlY29uZHNJbk1pbnV0ZTtcbiAgfVxufSk7XG5cbi8vIC4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9kaWZmZXJlbmNlSW5NaWxsaXNlY29uZHMvaW5kZXguanNcbnZhciByZXF1aXJlX2RpZmZlcmVuY2VJbk1pbGxpc2Vjb25kcyA9IF9fY29tbW9uSlMoe1xuICBcIi4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9kaWZmZXJlbmNlSW5NaWxsaXNlY29uZHMvaW5kZXguanNcIihleHBvcnRzLCBtb2R1bGUpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICAgIHZhbHVlOiB0cnVlXG4gICAgfSk7XG4gICAgZXhwb3J0cy5kZWZhdWx0ID0gZGlmZmVyZW5jZUluTWlsbGlzZWNvbmRzO1xuICAgIHZhciBfaW5kZXggPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmVfdG9EYXRlKCkpO1xuICAgIHZhciBfaW5kZXgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlX3JlcXVpcmVkQXJncygpKTtcbiAgICBmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikge1xuICAgICAgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRpZmZlcmVuY2VJbk1pbGxpc2Vjb25kcyhkYXRlTGVmdCwgZGF0ZVJpZ2h0KSB7XG4gICAgICAoMCwgX2luZGV4Mi5kZWZhdWx0KSgyLCBhcmd1bWVudHMpO1xuICAgICAgcmV0dXJuICgwLCBfaW5kZXguZGVmYXVsdCkoZGF0ZUxlZnQpLmdldFRpbWUoKSAtICgwLCBfaW5kZXguZGVmYXVsdCkoZGF0ZVJpZ2h0KS5nZXRUaW1lKCk7XG4gICAgfVxuICAgIG1vZHVsZS5leHBvcnRzID0gZXhwb3J0cy5kZWZhdWx0O1xuICB9XG59KTtcblxuLy8gLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL19saWIvcm91bmRpbmdNZXRob2RzL2luZGV4LmpzXG52YXIgcmVxdWlyZV9yb3VuZGluZ01ldGhvZHMgPSBfX2NvbW1vbkpTKHtcbiAgXCIuLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvX2xpYi9yb3VuZGluZ01ldGhvZHMvaW5kZXguanNcIihleHBvcnRzKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgICB2YWx1ZTogdHJ1ZVxuICAgIH0pO1xuICAgIGV4cG9ydHMuZ2V0Um91bmRpbmdNZXRob2QgPSBnZXRSb3VuZGluZ01ldGhvZDtcbiAgICB2YXIgcm91bmRpbmdNYXAgPSB7XG4gICAgICBjZWlsOiBNYXRoLmNlaWwsXG4gICAgICByb3VuZDogTWF0aC5yb3VuZCxcbiAgICAgIGZsb29yOiBNYXRoLmZsb29yLFxuICAgICAgdHJ1bmM6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZSA8IDAgPyBNYXRoLmNlaWwodmFsdWUpIDogTWF0aC5mbG9vcih2YWx1ZSk7XG4gICAgICB9XG4gICAgfTtcbiAgICB2YXIgZGVmYXVsdFJvdW5kaW5nTWV0aG9kID0gXCJ0cnVuY1wiO1xuICAgIGZ1bmN0aW9uIGdldFJvdW5kaW5nTWV0aG9kKG1ldGhvZCkge1xuICAgICAgcmV0dXJuIG1ldGhvZCA/IHJvdW5kaW5nTWFwW21ldGhvZF0gOiByb3VuZGluZ01hcFtkZWZhdWx0Um91bmRpbmdNZXRob2RdO1xuICAgIH1cbiAgfVxufSk7XG5cbi8vIC4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9kaWZmZXJlbmNlSW5Ib3Vycy9pbmRleC5qc1xudmFyIHJlcXVpcmVfZGlmZmVyZW5jZUluSG91cnMgPSBfX2NvbW1vbkpTKHtcbiAgXCIuLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZGlmZmVyZW5jZUluSG91cnMvaW5kZXguanNcIihleHBvcnRzLCBtb2R1bGUpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICAgIHZhbHVlOiB0cnVlXG4gICAgfSk7XG4gICAgZXhwb3J0cy5kZWZhdWx0ID0gZGlmZmVyZW5jZUluSG91cnM7XG4gICAgdmFyIF9pbmRleCA9IHJlcXVpcmVfY29uc3RhbnRzKCk7XG4gICAgdmFyIF9pbmRleDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmVfZGlmZmVyZW5jZUluTWlsbGlzZWNvbmRzKCkpO1xuICAgIHZhciBfaW5kZXgzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlX3JlcXVpcmVkQXJncygpKTtcbiAgICB2YXIgX2luZGV4NCA9IHJlcXVpcmVfcm91bmRpbmdNZXRob2RzKCk7XG4gICAgZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHtcbiAgICAgIHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBkaWZmZXJlbmNlSW5Ib3VycyhkYXRlTGVmdCwgZGF0ZVJpZ2h0LCBvcHRpb25zKSB7XG4gICAgICAoMCwgX2luZGV4My5kZWZhdWx0KSgyLCBhcmd1bWVudHMpO1xuICAgICAgdmFyIGRpZmYgPSAoMCwgX2luZGV4Mi5kZWZhdWx0KShkYXRlTGVmdCwgZGF0ZVJpZ2h0KSAvIF9pbmRleC5taWxsaXNlY29uZHNJbkhvdXI7XG4gICAgICByZXR1cm4gKDAsIF9pbmRleDQuZ2V0Um91bmRpbmdNZXRob2QpKG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5yb3VuZGluZ01ldGhvZCkoZGlmZik7XG4gICAgfVxuICAgIG1vZHVsZS5leHBvcnRzID0gZXhwb3J0cy5kZWZhdWx0O1xuICB9XG59KTtcblxuLy8gLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2RpZmZlcmVuY2VJbk1pbnV0ZXMvaW5kZXguanNcbnZhciByZXF1aXJlX2RpZmZlcmVuY2VJbk1pbnV0ZXMgPSBfX2NvbW1vbkpTKHtcbiAgXCIuLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZGlmZmVyZW5jZUluTWludXRlcy9pbmRleC5qc1wiKGV4cG9ydHMsIG1vZHVsZSkge1xuICAgIFwidXNlIHN0cmljdFwiO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgICAgdmFsdWU6IHRydWVcbiAgICB9KTtcbiAgICBleHBvcnRzLmRlZmF1bHQgPSBkaWZmZXJlbmNlSW5NaW51dGVzO1xuICAgIHZhciBfaW5kZXggPSByZXF1aXJlX2NvbnN0YW50cygpO1xuICAgIHZhciBfaW5kZXgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlX2RpZmZlcmVuY2VJbk1pbGxpc2Vjb25kcygpKTtcbiAgICB2YXIgX2luZGV4MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZV9yZXF1aXJlZEFyZ3MoKSk7XG4gICAgdmFyIF9pbmRleDQgPSByZXF1aXJlX3JvdW5kaW5nTWV0aG9kcygpO1xuICAgIGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7XG4gICAgICByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZGlmZmVyZW5jZUluTWludXRlcyhkYXRlTGVmdCwgZGF0ZVJpZ2h0LCBvcHRpb25zKSB7XG4gICAgICAoMCwgX2luZGV4My5kZWZhdWx0KSgyLCBhcmd1bWVudHMpO1xuICAgICAgdmFyIGRpZmYgPSAoMCwgX2luZGV4Mi5kZWZhdWx0KShkYXRlTGVmdCwgZGF0ZVJpZ2h0KSAvIF9pbmRleC5taWxsaXNlY29uZHNJbk1pbnV0ZTtcbiAgICAgIHJldHVybiAoMCwgX2luZGV4NC5nZXRSb3VuZGluZ01ldGhvZCkob3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnJvdW5kaW5nTWV0aG9kKShkaWZmKTtcbiAgICB9XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG4vLyAuLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZGlmZmVyZW5jZUluU2Vjb25kcy9pbmRleC5qc1xudmFyIHJlcXVpcmVfZGlmZmVyZW5jZUluU2Vjb25kcyA9IF9fY29tbW9uSlMoe1xuICBcIi4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9kaWZmZXJlbmNlSW5TZWNvbmRzL2luZGV4LmpzXCIoZXhwb3J0cywgbW9kdWxlKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgICB2YWx1ZTogdHJ1ZVxuICAgIH0pO1xuICAgIGV4cG9ydHMuZGVmYXVsdCA9IGRpZmZlcmVuY2VJblNlY29uZHM7XG4gICAgdmFyIF9pbmRleCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZV9kaWZmZXJlbmNlSW5NaWxsaXNlY29uZHMoKSk7XG4gICAgdmFyIF9pbmRleDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmVfcmVxdWlyZWRBcmdzKCkpO1xuICAgIHZhciBfaW5kZXgzID0gcmVxdWlyZV9yb3VuZGluZ01ldGhvZHMoKTtcbiAgICBmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikge1xuICAgICAgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRpZmZlcmVuY2VJblNlY29uZHMoZGF0ZUxlZnQsIGRhdGVSaWdodCwgb3B0aW9ucykge1xuICAgICAgKDAsIF9pbmRleDIuZGVmYXVsdCkoMiwgYXJndW1lbnRzKTtcbiAgICAgIHZhciBkaWZmID0gKDAsIF9pbmRleC5kZWZhdWx0KShkYXRlTGVmdCwgZGF0ZVJpZ2h0KSAvIDFlMztcbiAgICAgIHJldHVybiAoMCwgX2luZGV4My5nZXRSb3VuZGluZ01ldGhvZCkob3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnJvdW5kaW5nTWV0aG9kKShkaWZmKTtcbiAgICB9XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG4vLyAuLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvaW50ZXJ2YWxUb0R1cmF0aW9uL2luZGV4LmpzXG52YXIgcmVxdWlyZV9pbnRlcnZhbFRvRHVyYXRpb24gPSBfX2NvbW1vbkpTKHtcbiAgXCIuLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvaW50ZXJ2YWxUb0R1cmF0aW9uL2luZGV4LmpzXCIoZXhwb3J0cywgbW9kdWxlKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgICB2YWx1ZTogdHJ1ZVxuICAgIH0pO1xuICAgIGV4cG9ydHMuZGVmYXVsdCA9IGludGVydmFsVG9EdXJhdGlvbjI7XG4gICAgdmFyIF9pbmRleCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZV9jb21wYXJlQXNjKCkpO1xuICAgIHZhciBfaW5kZXgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlX2RpZmZlcmVuY2VJblllYXJzKCkpO1xuICAgIHZhciBfaW5kZXgzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlX2RpZmZlcmVuY2VJbk1vbnRocygpKTtcbiAgICB2YXIgX2luZGV4NCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZV9kaWZmZXJlbmNlSW5EYXlzKCkpO1xuICAgIHZhciBfaW5kZXg1ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlX2RpZmZlcmVuY2VJbkhvdXJzKCkpO1xuICAgIHZhciBfaW5kZXg2ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlX2RpZmZlcmVuY2VJbk1pbnV0ZXMoKSk7XG4gICAgdmFyIF9pbmRleDcgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmVfZGlmZmVyZW5jZUluU2Vjb25kcygpKTtcbiAgICB2YXIgX2luZGV4OCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZV9pc1ZhbGlkKCkpO1xuICAgIHZhciBfaW5kZXg5ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlX3JlcXVpcmVkQXJncygpKTtcbiAgICB2YXIgX2luZGV4MTAgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmVfdG9EYXRlKCkpO1xuICAgIHZhciBfaW5kZXgxMSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZV9zdWIoKSk7XG4gICAgZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHtcbiAgICAgIHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBpbnRlcnZhbFRvRHVyYXRpb24yKF9yZWYpIHtcbiAgICAgIHZhciBzdGFydCA9IF9yZWYuc3RhcnQsIGVuZCA9IF9yZWYuZW5kO1xuICAgICAgKDAsIF9pbmRleDkuZGVmYXVsdCkoMSwgYXJndW1lbnRzKTtcbiAgICAgIHZhciBkYXRlTGVmdCA9ICgwLCBfaW5kZXgxMC5kZWZhdWx0KShzdGFydCk7XG4gICAgICB2YXIgZGF0ZVJpZ2h0ID0gKDAsIF9pbmRleDEwLmRlZmF1bHQpKGVuZCk7XG4gICAgICBpZiAoISgwLCBfaW5kZXg4LmRlZmF1bHQpKGRhdGVMZWZ0KSkge1xuICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIlN0YXJ0IERhdGUgaXMgaW52YWxpZFwiKTtcbiAgICAgIH1cbiAgICAgIGlmICghKDAsIF9pbmRleDguZGVmYXVsdCkoZGF0ZVJpZ2h0KSkge1xuICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkVuZCBEYXRlIGlzIGludmFsaWRcIik7XG4gICAgICB9XG4gICAgICB2YXIgZHVyYXRpb24gPSB7XG4gICAgICAgIHllYXJzOiAwLFxuICAgICAgICBtb250aHM6IDAsXG4gICAgICAgIGRheXM6IDAsXG4gICAgICAgIGhvdXJzOiAwLFxuICAgICAgICBtaW51dGVzOiAwLFxuICAgICAgICBzZWNvbmRzOiAwXG4gICAgICB9O1xuICAgICAgdmFyIHNpZ24gPSAoMCwgX2luZGV4LmRlZmF1bHQpKGRhdGVMZWZ0LCBkYXRlUmlnaHQpO1xuICAgICAgZHVyYXRpb24ueWVhcnMgPSBNYXRoLmFicygoMCwgX2luZGV4Mi5kZWZhdWx0KShkYXRlTGVmdCwgZGF0ZVJpZ2h0KSk7XG4gICAgICB2YXIgcmVtYWluaW5nTW9udGhzID0gKDAsIF9pbmRleDExLmRlZmF1bHQpKGRhdGVMZWZ0LCB7XG4gICAgICAgIHllYXJzOiBzaWduICogZHVyYXRpb24ueWVhcnNcbiAgICAgIH0pO1xuICAgICAgZHVyYXRpb24ubW9udGhzID0gTWF0aC5hYnMoKDAsIF9pbmRleDMuZGVmYXVsdCkocmVtYWluaW5nTW9udGhzLCBkYXRlUmlnaHQpKTtcbiAgICAgIHZhciByZW1haW5pbmdEYXlzID0gKDAsIF9pbmRleDExLmRlZmF1bHQpKHJlbWFpbmluZ01vbnRocywge1xuICAgICAgICBtb250aHM6IHNpZ24gKiBkdXJhdGlvbi5tb250aHNcbiAgICAgIH0pO1xuICAgICAgZHVyYXRpb24uZGF5cyA9IE1hdGguYWJzKCgwLCBfaW5kZXg0LmRlZmF1bHQpKHJlbWFpbmluZ0RheXMsIGRhdGVSaWdodCkpO1xuICAgICAgdmFyIHJlbWFpbmluZ0hvdXJzID0gKDAsIF9pbmRleDExLmRlZmF1bHQpKHJlbWFpbmluZ0RheXMsIHtcbiAgICAgICAgZGF5czogc2lnbiAqIGR1cmF0aW9uLmRheXNcbiAgICAgIH0pO1xuICAgICAgZHVyYXRpb24uaG91cnMgPSBNYXRoLmFicygoMCwgX2luZGV4NS5kZWZhdWx0KShyZW1haW5pbmdIb3VycywgZGF0ZVJpZ2h0KSk7XG4gICAgICB2YXIgcmVtYWluaW5nTWludXRlcyA9ICgwLCBfaW5kZXgxMS5kZWZhdWx0KShyZW1haW5pbmdIb3Vycywge1xuICAgICAgICBob3Vyczogc2lnbiAqIGR1cmF0aW9uLmhvdXJzXG4gICAgICB9KTtcbiAgICAgIGR1cmF0aW9uLm1pbnV0ZXMgPSBNYXRoLmFicygoMCwgX2luZGV4Ni5kZWZhdWx0KShyZW1haW5pbmdNaW51dGVzLCBkYXRlUmlnaHQpKTtcbiAgICAgIHZhciByZW1haW5pbmdTZWNvbmRzID0gKDAsIF9pbmRleDExLmRlZmF1bHQpKHJlbWFpbmluZ01pbnV0ZXMsIHtcbiAgICAgICAgbWludXRlczogc2lnbiAqIGR1cmF0aW9uLm1pbnV0ZXNcbiAgICAgIH0pO1xuICAgICAgZHVyYXRpb24uc2Vjb25kcyA9IE1hdGguYWJzKCgwLCBfaW5kZXg3LmRlZmF1bHQpKHJlbWFpbmluZ1NlY29uZHMsIGRhdGVSaWdodCkpO1xuICAgICAgcmV0dXJuIGR1cmF0aW9uO1xuICAgIH1cbiAgICBtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMuZGVmYXVsdDtcbiAgfVxufSk7XG5cbi8vIHNyYy90aGlyZC1wYXJ0eS9jb2xsZWN0aW9uLnRzeFxuaW1wb3J0ICogYXMgUmVhY3Q1NCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7XG4gIGdldEJsb2NrQ29sbGVjdGlvbklkLFxuICBnZXRCbG9ja1BhcmVudFBhZ2UgYXMgZ2V0QmxvY2tQYXJlbnRQYWdlMixcbiAgZ2V0VGV4dENvbnRlbnQgYXMgZ2V0VGV4dENvbnRlbnQ0XG59IGZyb20gXCJub3Rpb24tdXRpbHNcIjtcbmltcG9ydCB7IHVzZUxvY2FsU3RvcmFnZSwgdXNlV2luZG93U2l6ZSB9IGZyb20gXCJyZWFjdC11c2VcIjtcbmltcG9ydCAqIGFzIERyb3Bkb3duTWVudSBmcm9tIFwiQHJhZGl4LXVpL3JlYWN0LWRyb3Bkb3duLW1lbnVcIjtcblxuLy8gc3JjL3RoaXJkLXBhcnR5L2NvbGxlY3Rpb24tcm93LnRzeFxuaW1wb3J0ICogYXMgUmVhY3QzOSBmcm9tIFwicmVhY3RcIjtcblxuLy8gc3JjL3RoaXJkLXBhcnR5L2NvbGxlY3Rpb24tY29sdW1uLXRpdGxlLnRzeFxuaW1wb3J0ICogYXMgUmVhY3QxNyBmcm9tIFwicmVhY3RcIjtcblxuLy8gc3JjL2ljb25zL3R5cGUtdGl0bGUudHN4XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmZ1bmN0aW9uIFN2Z1R5cGVUaXRsZShwcm9wcykge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwgX19zcHJlYWRWYWx1ZXMoe1xuICAgIHZpZXdCb3g6IFwiMCAwIDE0IDE0XCJcbiAgfSwgcHJvcHMpLCAvKiBAX19QVVJFX18gKi8gUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgIGQ6IFwiTTcuNzQgOC42OTdhLjgxLjgxIDAgMDEuMDczLjMwOC44OTQuODk0IDAgMDEtLjkuODg4Ljg2Ny44NjcgMCAwMS0uODI1LS41OTJsLS4zMzMtLjk2MUgyLjA1OGwtLjMzMy45NjFhLjg4Mi44ODIgMCAwMS0uODM4LjU5MkEuODg0Ljg4NCAwIDAxMCA5LjAwNWMwLS4xMS4wMjUtLjIyMi4wNjItLjMwOGwyLjQwMy02LjIxMWMuMjIyLS41OC43NzYtLjk4NiAxLjQ0Mi0uOTg2LjY1MyAwIDEuMjIuNDA3IDEuNDQyLjk4NmwyLjM5IDYuMjExek0yLjYgNi44MjRoMi42MTNMMy45MDcgMy4xMDIgMi42IDYuODI0em04LjgtMy4xMThjMS4zNTUgMCAyLjYuNTQyIDIuNiAyLjI1NVY5LjA4YS44LjggMCAwMS0uNzg5LjgxNC43OTcuNzk3IDAgMDEtLjc4OC0uNzAzYy0uMzk1LjQ2OC0xLjA5Ny43NjQtMS44NzQuNzY0LS45NDkgMC0yLjA3LS42NC0yLjA3LTEuOTcyIDAtMS4zOTIgMS4xMjEtMS44OTcgMi4wNy0xLjg5Ny43ODkgMCAxLjQ5MS4yNDYgMS44ODYuNzI3di0uODI2YzAtLjYwNC0uNTE4LS45OTgtMS4zMDYtLjk5OC0uNDY5IDAtLjg4OC4xMjMtMS4zMi4zOTRhLjY0LjY0IDAgMDEtLjMwNy4wODYuNjAyLjYwMiAwIDAxLS41OTItLjYwNGMwLS4yMjEuMTIzLS40MTkuMjg0LS41MTdhMy45NjMgMy45NjMgMCAwMTIuMjA2LS42NDF6bS0uMjIyIDUuMTg4Yy41MDUgMCAuOTk4LS4xNzIgMS4yNTctLjUxN3YtLjc0Yy0uMjU5LS4zNDUtLjc1Mi0uNTE3LTEuMjU3LS41MTctLjYxNiAwLTEuMTIyLjMzMi0xLjEyMi45IDAgLjU1NC41MDYuODc0IDEuMTIyLjg3NHpNLjY1NiAxMS4xMjVoMTIuNjg4YS42NTYuNjU2IDAgMTEwIDEuMzEzSC42NTZhLjY1Ni42NTYgMCAxMTAtMS4zMTN6XCJcbiAgfSkpO1xufVxudmFyIHR5cGVfdGl0bGVfZGVmYXVsdCA9IFN2Z1R5cGVUaXRsZTtcblxuLy8gc3JjL2ljb25zL3R5cGUtdGV4dC50c3hcbmltcG9ydCAqIGFzIFJlYWN0MiBmcm9tIFwicmVhY3RcIjtcbmZ1bmN0aW9uIFN2Z1R5cGVUZXh0KHByb3BzKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3QyLmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwgX19zcHJlYWRWYWx1ZXMoe1xuICAgIHZpZXdCb3g6IFwiMCAwIDE0IDE0XCJcbiAgfSwgcHJvcHMpLCAvKiBAX19QVVJFX18gKi8gUmVhY3QyLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgICBkOiBcIk03IDQuNTY4YS41LjUgMCAwMC0uNS0uNWgtNmEuNS41IDAgMDAtLjUuNXYxLjA0NmEuNS41IDAgMDAuNS41aDZhLjUuNSAwIDAwLjUtLjVWNC41Njh6TS41IDFhLjUuNSAwIDAwLS41LjV2MS4wNDVhLjUuNSAwIDAwLjUuNWgxMmEuNS41IDAgMDAuNS0uNVYxLjVhLjUuNSAwIDAwLS41LS41SC41ek0wIDguNjgyYS41LjUgMCAwMC41LjVoMTFhLjUuNSAwIDAwLjUtLjVWNy42MzZhLjUuNSAwIDAwLS41LS41SC41YS41LjUgMCAwMC0uNS41djEuMDQ2em0wIDMuMDY4YS41LjUgMCAwMC41LjVoOWEuNS41IDAgMDAuNS0uNXYtMS4wNDVhLjUuNSAwIDAwLS41LS41aC05YS41LjUgMCAwMC0uNS41djEuMDQ1elwiXG4gIH0pKTtcbn1cbnZhciB0eXBlX3RleHRfZGVmYXVsdCA9IFN2Z1R5cGVUZXh0O1xuXG4vLyBzcmMvaWNvbnMvdHlwZS1udW1iZXIudHN4XG5pbXBvcnQgKiBhcyBSZWFjdDMgZnJvbSBcInJlYWN0XCI7XG5mdW5jdGlvbiBTdmdUeXBlTnVtYmVyKHByb3BzKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3QzLmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwgX19zcHJlYWRWYWx1ZXMoe1xuICAgIHZpZXdCb3g6IFwiMCAwIDE0IDE0XCJcbiAgfSwgcHJvcHMpLCAvKiBAX19QVVJFX18gKi8gUmVhY3QzLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgICBkOiBcIk00LjQ2MiAwYy0uNTk1IDAtMS4wNzguNDgyLTEuMDc4IDEuMDc4djIuMzA2SDEuMDc4YTEuMDc4IDEuMDc4IDAgMTAwIDIuMTU1aDIuMzA2djIuOTIySDEuMDc4YTEuMDc4IDEuMDc4IDAgMTAwIDIuMTU1aDIuMzA2djIuMzA2YTEuMDc4IDEuMDc4IDAgMDAyLjE1NSAwdi0yLjMwNkg4LjQ2djIuMzA2YTEuMDc4IDEuMDc4IDAgMDAyLjE1NiAwdi0yLjMwNmgyLjMwNmExLjA3OCAxLjA3OCAwIDEwMC0yLjE1NWgtMi4zMDZWNS41MzloMi4zMDZhMS4wNzggMS4wNzggMCAxMDAtMi4xNTVoLTIuMzA2VjEuMDc4YTEuMDc4IDEuMDc4IDAgMDAtMi4xNTYgMHYyLjMwNkg1LjU0VjEuMDc4QzUuNTQuNDgyIDUuMDU2IDAgNC40NjEgMHptMS4wNzcgOC40NlY1LjU0SDguNDZ2Mi45Mkg1LjU0elwiXG4gIH0pKTtcbn1cbnZhciB0eXBlX251bWJlcl9kZWZhdWx0ID0gU3ZnVHlwZU51bWJlcjtcblxuLy8gc3JjL2ljb25zL3R5cGUtc2VsZWN0LnRzeFxuaW1wb3J0ICogYXMgUmVhY3Q0IGZyb20gXCJyZWFjdFwiO1xuZnVuY3Rpb24gU3ZnVHlwZVNlbGVjdChwcm9wcykge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0NC5jcmVhdGVFbGVtZW50KFwic3ZnXCIsIF9fc3ByZWFkVmFsdWVzKHtcbiAgICB2aWV3Qm94OiBcIjAgMCAxNCAxNFwiXG4gIH0sIHByb3BzKSwgLyogQF9fUFVSRV9fICovIFJlYWN0NC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgZDogXCJNNyAxM0E2IDYgMCAxMDcgMWE2IDYgMCAwMDAgMTJ6TTMuNzUxIDUuMzIzQS4yLjIgMCAwMTMuOTA5IDVoNi4xODJhLjIuMiAwIDAxLjE1OC4zMjNMNy4xNTggOS4yOTdhLjIuMiAwIDAxLS4zMTYgMEwzLjc1MSA1LjMyM3pcIlxuICB9KSk7XG59XG52YXIgdHlwZV9zZWxlY3RfZGVmYXVsdCA9IFN2Z1R5cGVTZWxlY3Q7XG5cbi8vIHNyYy9pY29ucy90eXBlLW11bHRpLXNlbGVjdC50c3hcbmltcG9ydCAqIGFzIFJlYWN0NSBmcm9tIFwicmVhY3RcIjtcbmZ1bmN0aW9uIFN2Z1R5cGVNdWx0aVNlbGVjdChwcm9wcykge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0NS5jcmVhdGVFbGVtZW50KFwic3ZnXCIsIF9fc3ByZWFkVmFsdWVzKHtcbiAgICB2aWV3Qm94OiBcIjAgMCAxNCAxNFwiXG4gIH0sIHByb3BzKSwgLyogQF9fUFVSRV9fICovIFJlYWN0NS5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgZDogXCJNNCAzYTEgMSAwIDAxMS0xaDdhMSAxIDAgMTEwIDJINWExIDEgMCAwMS0xLTF6bTAgNGExIDEgMCAwMTEtMWg3YTEgMSAwIDExMCAySDVhMSAxIDAgMDEtMS0xem0wIDRhMSAxIDAgMDExLTFoN2ExIDEgMCAxMTAgMkg1YTEgMSAwIDAxLTEtMXpNMiA0YTEgMSAwIDExMC0yIDEgMSAwIDAxMCAyem0wIDRhMSAxIDAgMTEwLTIgMSAxIDAgMDEwIDJ6bTAgNGExIDEgMCAxMTAtMiAxIDEgMCAwMTAgMnpcIlxuICB9KSk7XG59XG52YXIgdHlwZV9tdWx0aV9zZWxlY3RfZGVmYXVsdCA9IFN2Z1R5cGVNdWx0aVNlbGVjdDtcblxuLy8gc3JjL2ljb25zL3R5cGUtZGF0ZS50c3hcbmltcG9ydCAqIGFzIFJlYWN0NiBmcm9tIFwicmVhY3RcIjtcbmZ1bmN0aW9uIFN2Z1R5cGVEYXRlKHByb3BzKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3Q2LmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwgX19zcHJlYWRWYWx1ZXMoe1xuICAgIHZpZXdCb3g6IFwiMCAwIDE0IDE0XCJcbiAgfSwgcHJvcHMpLCAvKiBAX19QVVJFX18gKi8gUmVhY3Q2LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgICBkOiBcIk0xMC44ODkgNS41SDMuMTF2MS41NTZoNy43NzhWNS41em0xLjU1NS00LjQ0NGgtLjc3N1YwSDEwLjExdjEuMDU2SDMuODlWMEgyLjMzM3YxLjA1NmgtLjc3N2MtLjg2NCAwLTEuNTQ4LjctMS41NDggMS41NTVMMCAxMi41YzAgLjg1Ni42OTIgMS41IDEuNTU2IDEuNWgxMC44ODhDMTMuMyAxNCAxNCAxMy4zNTYgMTQgMTIuNVYyLjYxMWMwLS44NTUtLjctMS41NTUtMS41NTYtMS41NTV6bTAgMTEuNDQ0SDEuNTU2VjMuOTQ0aDEwLjg4OFYxMi41ek04LjU1NiA4LjYxMUgzLjExdjEuNTU2aDUuNDQ1VjguNjF6XCJcbiAgfSkpO1xufVxudmFyIHR5cGVfZGF0ZV9kZWZhdWx0ID0gU3ZnVHlwZURhdGU7XG5cbi8vIHNyYy9pY29ucy90eXBlLXBlcnNvbi50c3hcbmltcG9ydCAqIGFzIFJlYWN0NyBmcm9tIFwicmVhY3RcIjtcbmZ1bmN0aW9uIFN2Z1R5cGVQZXJzb24ocHJvcHMpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDcuY3JlYXRlRWxlbWVudChcInN2Z1wiLCBfX3NwcmVhZFZhbHVlcyh7XG4gICAgdmlld0JveDogXCIwIDAgMTQgMTRcIlxuICB9LCBwcm9wcyksIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDcuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgIGQ6IFwiTTkuNjI1IDEwLjg0N0M4LjkxMiAxMC4yODkgOC4xMjEgOS45MjYgNyA5LjI2di0uNTRhMy4zMyAzLjMzIDAgMDAuNTM4LS44ODhjLjQwOC0uMS43NzQtLjQ5OC43NzQtLjgzMiAwLS40ODItLjIwMi0uNjczLS40NC0uODI5IDAtLjAxNS4wMDMtLjAzLjAwMy0uMDQ2IDAtLjcxMS0uNDM4LTIuNjI1LTIuNjI1LTIuNjI1LTIuMTg4IDAtMi42MjUgMS45MTUtMi42MjUgMi42MjUgMCAuMDE3LjAwMy4wMy4wMDMuMDQ2LS4yMzguMTU2LS40NC4zNDctLjQ0LjgyOSAwIC4zMzQuMzY2LjczMS43NzQuODMzLjE0Ni4zNDMuMzI2LjY0My41MzguODg2di41NDFjLTEuMTIuNjY1LTEuOTEyIDEuMDI4LTIuNjI1IDEuNTg3Qy4wNDEgMTEuNDk4IDAgMTIuNDY5IDAgMTRoMTAuNWMwLTEuNTMxLS4wNDEtMi41MDItLjg3NS0zLjE1M3ptMy41LTMuNWMtLjcxMy0uNTU4LTEuNTA0LS45MjEtMi42MjUtMS41ODd2LS41NGMuMjEyLS4yNDQuMzkyLS41NDQuNTM4LS44ODguNDA4LS4xLjc3NC0uNDk4Ljc3NC0uODMyIDAtLjQ4Mi0uMjAyLS42NzMtLjQ0LS44MjkgMC0uMDE1LjAwMy0uMDMuMDAzLS4wNDZDMTEuMzc1IDEuOTE0IDEwLjkzNyAwIDguNzUgMCA2LjU2MiAwIDYuMTI1IDEuOTE1IDYuMTI1IDIuNjI1YzAgLjAxNy4wMDMuMDMuMDAzLjA0Ni0uMDE2LjAxMi0uMDMuMDI1LS4wNDcuMDM2IDEuNzUxLjM1OSAyLjUxNiAxLjg0MSAyLjY0NyAzLjA0LjI0OC4yNjIuNDYuNjUuNDYgMS4yNTMgMCAuNjAzLS40MTcgMS4yMDMtMS4wMDQgMS41MTUtLjA1Ny4xMDktLjExNy4yMTQtLjE4MS4zMTVsLjQzNy4yNDVjLjY0LjM1NyAxLjE5NC42NjYgMS43MjQgMS4wODEuMTM4LjEwOC4yNTYuMjI0LjM2NS4zNDNIMTRjMC0xLjUzLS4wNDEtMi41LS44NzUtMy4xNTN6XCJcbiAgfSkpO1xufVxudmFyIHR5cGVfcGVyc29uX2RlZmF1bHQgPSBTdmdUeXBlUGVyc29uO1xuXG4vLyBzcmMvaWNvbnMvdHlwZS1maWxlLnRzeFxuaW1wb3J0ICogYXMgUmVhY3Q4IGZyb20gXCJyZWFjdFwiO1xuZnVuY3Rpb24gU3ZnVHlwZUZpbGUocHJvcHMpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDguY3JlYXRlRWxlbWVudChcInN2Z1wiLCBfX3NwcmVhZFZhbHVlcyh7XG4gICAgdmlld0JveDogXCIwIDAgMTQgMTRcIlxuICB9LCBwcm9wcyksIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDguY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgIGQ6IFwiTTUuOTQ2IDE0YTQuOTc1IDQuOTc1IDAgMDEtMy40OTctMS40MTVBNC43MzEgNC43MzEgMCAwMTEgOS4xNzRjMC0xLjI4OC41MTUtMi41IDEuNDQ5LTMuNDFMNy40NTYuOTg2YzEuMzQ1LTEuMzEzIDMuNzIyLTEuMzE4IDUuMDguMDA3YTMuNDUzIDMuNDUzIDAgMDEwIDQuOTYxTDguMDMgMTAuMjQxYy0uODY3Ljg0Ny0yLjI5My44NDgtMy4xNy0uMDA2YTIuMTU4IDIuMTU4IDAgMDEwLTMuMTAybDEuNzQ0LTEuNzAxIDEuMjcyIDEuMjQtMS43NDQgMS43MDFhLjQzLjQzIDAgMDAwIC42MjFjLjIzLjIyMy40MDUuMjIzLjYzNiAwbDQuNTAzLTQuMjg4YTEuNzIzIDEuNzIzIDAgMDAtLjAwNy0yLjQ3M2MtLjY4LS42NjMtMS44NjQtLjY2My0yLjU0MyAwTDMuNzEzIDcuMDExYTMuMDA2IDMuMDA2IDAgMDAtLjkxNSAyLjE2M2MwIC44Mi4zMjggMS41OTEuOTIyIDIuMTcgMS4xOSAxLjE2MiAzLjI2MiAxLjE2MiA0LjQ1MSAwbDIuMjQ4LTIuMTkyIDEuMjcyIDEuMjQtMi4yNDggMi4xOTNBNC45NzggNC45NzggMCAwMTUuOTQ2IDE0elwiXG4gIH0pKTtcbn1cbnZhciB0eXBlX2ZpbGVfZGVmYXVsdCA9IFN2Z1R5cGVGaWxlO1xuXG4vLyBzcmMvaWNvbnMvdHlwZS1jaGVja2JveC50c3hcbmltcG9ydCAqIGFzIFJlYWN0OSBmcm9tIFwicmVhY3RcIjtcbmZ1bmN0aW9uIFN2Z1R5cGVDaGVja2JveChwcm9wcykge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0OS5jcmVhdGVFbGVtZW50KFwic3ZnXCIsIF9fc3ByZWFkVmFsdWVzKHtcbiAgICB2aWV3Qm94OiBcIjAgMCAxNCAxNFwiXG4gIH0sIHByb3BzKSwgLyogQF9fUFVSRV9fICovIFJlYWN0OS5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgZDogXCJNMCAzYTMgMyAwIDAxMy0zaDhhMyAzIDAgMDEzIDN2OGEzIDMgMCAwMS0zIDNIM2EzIDMgMCAwMS0zLTNWM3ptMy0xLjVBMS41IDEuNSAwIDAwMS41IDN2OEExLjUgMS41IDAgMDAzIDEyLjVoOGExLjUgMS41IDAgMDAxLjUtMS41VjNBMS41IDEuNSAwIDAwMTEgMS41SDN6bS0uMTY3IDUuMzE2bC41NjYtLjU0Mi4xNzctLjE3LjM0Ny0uMzMyLjM0Ni4zMzQuMTc2LjE3IDEuMTM5IDEuMDk4IDMuNjk5LTMuNTYzLjE3Ny0uMTcuMzQ3LS4zMzUuMzQ3LjMzNC4xNzcuMTcuNTYzLjU0My4xNzcuMTcxLjM3Mi4zNi0uMzcyLjM2LS4xNzcuMTctNC43ODYgNC42MTUtLjE3Ny4xNzEtLjM0Ny4zMzQtLjM0Ny0uMzM0LS4xNzctLjE3LTIuMjMtMi4xNS0uMTc3LS4xNzItLjM3NS0uMzYxLjM3Ni0uMzYuMTc5LS4xN3pcIlxuICB9KSk7XG59XG52YXIgdHlwZV9jaGVja2JveF9kZWZhdWx0ID0gU3ZnVHlwZUNoZWNrYm94O1xuXG4vLyBzcmMvaWNvbnMvdHlwZS11cmwudHN4XG5pbXBvcnQgKiBhcyBSZWFjdDEwIGZyb20gXCJyZWFjdFwiO1xuZnVuY3Rpb24gU3ZnVHlwZVVybChwcm9wcykge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0MTAuY3JlYXRlRWxlbWVudChcInN2Z1wiLCBfX3NwcmVhZFZhbHVlcyh7XG4gICAgdmlld0JveDogXCIwIDAgMTQgMTRcIlxuICB9LCBwcm9wcyksIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDEwLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgICBkOiBcIk0zLjczMyAzLjg2N2gzLjczNGMxLjAzIDAgMS44NjYuODM3IDEuODY2IDEuODY2IDAgMS4wMy0uODM3IDEuODY3LTEuODY2IDEuODY3aC0uOTM0YS45MzQuOTM0IDAgMDAwIDEuODY3aC45MzRhMy43MzQgMy43MzQgMCAwMDAtNy40NjdIMy43MzNBMy43MyAzLjczIDAgMDAxLjg5IDguOTc3YTQuNjM3IDQuNjM3IDAgMDEuMzE0LTIuMTggMS44NTQgMS44NTQgMCAwMS0uMzM2LTEuMDY0YzAtMS4wMy44MzctMS44NjYgMS44NjYtMS44NjZ6bTguMzc3IDEuNDIyYTQuNiA0LjYgMCAwMS0uMzE2IDIuMTc2Yy4yMTIuMzAzLjM0LjY3LjM0IDEuMDY4IDAgMS4wMy0uODM4IDEuODY3LTEuODY3IDEuODY3SDYuNTMzYTEuODY5IDEuODY5IDAgMDEtMS44NjYtMS44NjdjMC0xLjAzLjgzNy0xLjg2NiAxLjg2Ni0xLjg2NmguOTM0YS45MzQuOTM0IDAgMDAwLTEuODY3aC0uOTM0YTMuNzMzIDMuNzMzIDAgMDAwIDcuNDY3aDMuNzM0YTMuNzMgMy43MyAwIDAwMS44NDMtNi45Nzh6XCJcbiAgfSkpO1xufVxudmFyIHR5cGVfdXJsX2RlZmF1bHQgPSBTdmdUeXBlVXJsO1xuXG4vLyBzcmMvaWNvbnMvdHlwZS1lbWFpbC50c3hcbmltcG9ydCAqIGFzIFJlYWN0MTEgZnJvbSBcInJlYWN0XCI7XG5mdW5jdGlvbiBTdmdUeXBlRW1haWwocHJvcHMpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDExLmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwgX19zcHJlYWRWYWx1ZXMoe1xuICAgIHZpZXdCb3g6IFwiMCAwIDE0IDE0XCJcbiAgfSwgcHJvcHMpLCAvKiBAX19QVVJFX18gKi8gUmVhY3QxMS5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgZDogXCJNMTQgNi4yMjVjMCAuODIyLS4xMzMgMS41NzQtLjQgMi4yNTYtLjI2Ny42ODMtLjY0NCAxLjIxOC0xLjEzIDEuNjA2LS40ODguMzg4LS45NDYuNi0xLjQ5NC42LS40MjkgMC0uODA4LS4xMDItMS4xMzktLjMwNWExLjc1MyAxLjc1MyAwIDAxLS43MTMtLjhjLS42MTMuNzM2LTEuNTYzIDEuMTA0LTIuNTMxIDEuMTA0LTEuMDI3IDAtMS44MzUtLjMwNC0yLjQyNy0uOTEyLS41OTEtLjYwOC0uODg3LTEuNDQtLjg4Ny0yLjQ5NiAwLTEuMjA0LjM4OS0yLjE3NSAxLjE2Ni0yLjkxMS43NzYtLjczNiAxLjc5MS0xLjEwNSAzLjA0NC0xLjEwNS40OTggMCAyLjAzMi4yMTIgMi4yNTIuMjY4LjUxLjEzLjg2LjU5My44MzUgMS4xMTJsLS4xNTYgMy4yODdjMCAuNzk0LjIyIDEuMTkuNjYgMS4xOS4zNzIgMCAuNjY4LS4yNjcuODg4LS44LjIyLS41MzQuMzMtMS4yMzIuMzMtMi4wOTQgMC0uOTE5LS4xOTQtMS43MzEtLjU4Mi0yLjQzNmEzLjkyNCAzLjkyNCAwIDAwLTEuNjQtMS42MTRjLS43MDQtLjM3MS0xLjUwOS0uNTU3LTIuNDEzLS41NTctMS4xNzIgMC0yLjE5LjIzNy0zLjA1My43MTFhNC43ODUgNC43ODUgMCAwMC0xLjk4OCAyLjA1Yy0uNDYuODk0LS42OTEgMS45MjYtLjY5MSAzLjA5NiAwIDEuNTc2LjQyOCAyLjc4NCAxLjI4MyAzLjYyNy44NTUuODQxIDIuMDk0IDEuMjYyIDMuNzE4IDEuMjYyLjYxNSAwIDEuMjktLjA2NyAyLjAyNy0uMi4yMjUtLjA0Mi41MTgtLjEwOC44NzctLjJhLjg2My44NjMgMCAwMTEuMDI1LjUyNy43Ni43NiAwIDAxLS41MDIuOTkzYy0xLjA1Mi4zMTYtMi4xNy40ODgtMy4zNTcuNTE2LTIuMjA0IDAtMy45MjItLjU3LTUuMTU0LTEuNzEzQy42MTYgMTEuMTQ2IDAgOS41NiAwIDcuNTI3YzAtMS40MS4zMTUtMi42OS45NDQtMy44NEE2Ljc5MiA2Ljc5MiAwIDAxMy42My45OEM0Ljc5NC4zMjcgNi4xMzEgMCA3LjY0NSAwYzEuMjc2IDAgMi41MTQuMjkgMy40MTguNzcuOTA1LjQ4MSAxLjU3NCAxLjIyOCAyLjEyIDIuMTc2LjU0NC45NDcuODE3IDIuMDQuODE3IDMuMjh6bS04LjYxNSAxLjAxYzAgMS4yMDguNDg4IDEuODExIDEuNDY2IDEuODExLjUxMSAwIC45LS4xODEgMS4xNjgtLjU0NS4yNjctLjM2My40MjktLjk1NC40ODYtMS43NzJsLjExLTEuODk2YTQuNjM4IDQuNjM4IDAgMDAtLjk4LS4wOTVjLS43MSAwLTEuMjYzLjIyNC0xLjY1OC42Ny0uMzk1LjQ0Ni0uNTkyIDEuMDU1LS41OTIgMS44Mjh6XCJcbiAgfSkpO1xufVxudmFyIHR5cGVfZW1haWxfZGVmYXVsdCA9IFN2Z1R5cGVFbWFpbDtcblxuLy8gc3JjL2ljb25zL3R5cGUtcGhvbmUtbnVtYmVyLnRzeFxuaW1wb3J0ICogYXMgUmVhY3QxMiBmcm9tIFwicmVhY3RcIjtcbmZ1bmN0aW9uIFN2Z1R5cGVQaG9uZU51bWJlcihwcm9wcykge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0MTIuY3JlYXRlRWxlbWVudChcInN2Z1wiLCBfX3NwcmVhZFZhbHVlcyh7XG4gICAgdmlld0JveDogXCIwIDAgMTQgMTRcIlxuICB9LCBwcm9wcyksIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDEyLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgICBkOiBcIk0yLjIwNy4wMTNhLjQ4Ny40ODcgMCAwMC0uMjkuMDJDLjg3LjQzOC4yMTMgMS45My4wNTggMi45NTVjLS40ODQgMy4zMyAyLjE1IDYuMjE1IDQuNTcgOC4xMTMgMi4xNDkgMS42ODQgNi4yNzMgNC40NTMgOC43MTMgMS43ODEuMzEtLjMyOS42NzgtLjgxMy42NTgtMS4yOTctLjA1OC0uODEzLS44MTMtMS4zOTQtMS4zOTQtMS44NC0uNDQ1LS4zMjktMS4zNzUtMS4yMzktMS45NTYtMS4yMi0uNTIyLjAyLS44NTEuNTYyLTEuMTguODkxbC0uNTgyLjU4MWMtLjA5Ni4wOTctMS4zMzYtLjcxNi0xLjQ3MS0uODEzYTkuODgxIDkuODgxIDAgMDEtMS40MTQtMS4xMDRBOS4xMyA5LjEzIDAgMDE0Ljg2IDYuNzMyYy0uMDk3LS4xMzYtLjg5LTEuMzE3LS44MTMtMS40MTQgMCAwIC42NzctLjczNi44NzEtMS4wMjYuNDA3LS42Mi43MTctMS4xMDQuMjUyLTEuODQtLjE3NC0uMjctLjM4Ny0uNDg0LS42Mi0uNzE2LS40MDYtLjM4Ny0uODEzLS43OTQtMS4yNzgtMS4xMjMtLjI1MS0uMTk0LS42NzctLjU0Mi0xLjA2NS0uNnpcIlxuICB9KSk7XG59XG52YXIgdHlwZV9waG9uZV9udW1iZXJfZGVmYXVsdCA9IFN2Z1R5cGVQaG9uZU51bWJlcjtcblxuLy8gc3JjL2ljb25zL3R5cGUtZm9ybXVsYS50c3hcbmltcG9ydCAqIGFzIFJlYWN0MTMgZnJvbSBcInJlYWN0XCI7XG5mdW5jdGlvbiBTdmdUeXBlRm9ybXVsYShwcm9wcykge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0MTMuY3JlYXRlRWxlbWVudChcInN2Z1wiLCBfX3NwcmVhZFZhbHVlcyh7XG4gICAgdmlld0JveDogXCIwIDAgMTQgMTRcIlxuICB9LCBwcm9wcyksIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDEzLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgICBkOiBcIk03Ljc3OSA3LjA2M2wtMy4xNTcgNC4yMjRhLjQ5LjQ5IDAgMDAtLjA3Mi4yMTguMzUuMzUgMCAwMC4zNDYuMzU3aDYuMjQyYy40NzYgMCAuODYyLjM5OC44NjIuODg5di4zNmMwIC40OTEtLjM4Ni44ODktLjg2Mi44ODlIMS44NjJBLjg3Ni44NzYgMCAwMTEgMTMuMTExdi0uNDI1YS44Mi44MiAwIDAxLjE3Ny0uNTRMNC4zOTMgNy44YTEuMzY3IDEuMzY3IDAgMDAtLjAwNi0xLjYyNUwxLjQgMi4xOTRhLjgyMi44MjIgMCAwMS0uMTgtLjU0NFYuODlDMS4yMi4zOTggMS42MDQgMCAyLjA4IDBoOC44MzhjLjQ3NiAwIC44NjEuMzk4Ljg2MS44ODl2LjM2YzAgLjQ5MS0uMzg1Ljg5LS44Ni44OUg1LjEzNWMtLjE5IDAtLjM0NS4xNTktLjM0NS4zNTZhLjQ4OS40ODkgMCAwMC4wNy4yMTZsMi45MiAzLjk3NWMuMDQ5LjA2Mi4wNjMuMTA3LjA2LjE4OGEuMjQ2LjI0NiAwIDAxLS4wNjIuMTg5elwiXG4gIH0pKTtcbn1cbnZhciB0eXBlX2Zvcm11bGFfZGVmYXVsdCA9IFN2Z1R5cGVGb3JtdWxhO1xuXG4vLyBzcmMvaWNvbnMvdHlwZS1yZWxhdGlvbi50c3hcbmltcG9ydCAqIGFzIFJlYWN0MTQgZnJvbSBcInJlYWN0XCI7XG5mdW5jdGlvbiBTdmdUeXBlUmVsYXRpb24ocHJvcHMpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDE0LmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwgX19zcHJlYWRWYWx1ZXMoe1xuICAgIHZpZXdCb3g6IFwiMCAwIDE0IDE0XCJcbiAgfSwgcHJvcHMpLCAvKiBAX19QVVJFX18gKi8gUmVhY3QxNC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgZDogXCJNNC41IDF2Mmg1LjA4NkwxIDExLjU4NiAyLjQxNCAxMyAxMSA0LjQxNFY5LjVoMlYxelwiXG4gIH0pKTtcbn1cbnZhciB0eXBlX3JlbGF0aW9uX2RlZmF1bHQgPSBTdmdUeXBlUmVsYXRpb247XG5cbi8vIHNyYy9pY29ucy90eXBlLXBlcnNvbi0yLnRzeFxuaW1wb3J0ICogYXMgUmVhY3QxNSBmcm9tIFwicmVhY3RcIjtcbmZ1bmN0aW9uIFN2Z1R5cGVQZXJzb24yKHByb3BzKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3QxNS5jcmVhdGVFbGVtZW50KFwic3ZnXCIsIF9fc3ByZWFkVmFsdWVzKHtcbiAgICB2aWV3Qm94OiBcIjAgMCAxNCAxNFwiXG4gIH0sIHByb3BzKSwgLyogQF9fUFVSRV9fICovIFJlYWN0MTUuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgIGQ6IFwiTTEzLjEyNSAxMC4wMzVjLS41NzEtLjU1LTIuMzI0LTEuNTA0LTMuNS0yLjE2di0uODM0Yy4yMjQtLjMyMi40Mi0uNjcxLjU2Ni0xLjA1NS4zOTQtLjI0Mi43NDYtLjcwMi43NDYtMS4xNzMgMC0uNDU4LS4wMDUtLjg3LS40Ny0xLjIwOEMxMC4zMDUgMS41NTggOS40MzYgMCA3IDBTMy42OTUgMS41NTggMy41MzMgMy42MDVjLS40NjUuMzM4LS40Ny43NS0uNDcgMS4yMDggMCAuNDcxLjM1Mi45My43NDYgMS4xNzMuMTQ2LjM4NC4zNDIuNzMzLjU2NiAxLjA1NXYuODM0Yy0xLjE3Ni42NTYtMi45MjkgMS42MS0zLjUgMi4xNkMuMTY1IDEwLjcyIDAgMTEuODEyIDAgMTRoMTRjMC0yLjE4OC0uMTY0LTMuMjgxLS44NzUtMy45NjV6XCJcbiAgfSkpO1xufVxudmFyIHR5cGVfcGVyc29uXzJfZGVmYXVsdCA9IFN2Z1R5cGVQZXJzb24yO1xuXG4vLyBzcmMvaWNvbnMvdHlwZS10aW1lc3RhbXAudHN4XG5pbXBvcnQgKiBhcyBSZWFjdDE2IGZyb20gXCJyZWFjdFwiO1xuZnVuY3Rpb24gU3ZnVHlwZVRpbWVzdGFtcChwcm9wcykge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0MTYuY3JlYXRlRWxlbWVudChcInN2Z1wiLCBfX3NwcmVhZFZhbHVlcyh7XG4gICAgdmlld0JveDogXCIwIDAgMTQgMTRcIlxuICB9LCBwcm9wcyksIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDE2LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgICBkOiBcIk02Ljk4NiAxNGMtMS43OSAwLTMuNTgyLS42OS00Ljk0NC0yLjA2OC0yLjcyMy0yLjcyLTIuNzIzLTcuMTcyIDAtOS44OTIgMi43MjUtMi43MiA3LjE4Mi0yLjcyIDkuOTA2IDBBNi45NzIgNi45NzIgMCAwMTE0IDYuOTk2YzAgMS44OC0uNzI4IDMuNjMzLTIuMDUyIDQuOTU1QTcuMDU4IDcuMDU4IDAgMDE2Ljk4NiAxNHptMy4yODUtNi45OXYxLjY0NUg1LjUyNnYtNS40N2gxLjg0MXYzLjYzaDIuOTA0di4xOTR6bTEuODktLjAxNGMwLTEuMzc5LS41NDItMi42Ny0xLjUyMi0zLjY0OC0yLjAwNi0yLjAwNS01LjI4Ny0yLjAwNy03LjI5Ny0uMDA5bC0uMDA5LjAwOWE1LjE2OCA1LjE2OCAwIDAwMCA3LjI5NWMyLjAxIDIuMDA3IDUuMjk3IDIuMDA3IDcuMzA2IDBhNS4xMTkgNS4xMTkgMCAwMDEuNTIxLTMuNjQ3elwiXG4gIH0pKTtcbn1cbnZhciB0eXBlX3RpbWVzdGFtcF9kZWZhdWx0ID0gU3ZnVHlwZVRpbWVzdGFtcDtcblxuLy8gc3JjL2ljb25zL3Byb3BlcnR5LWljb24udHN4XG52YXIgaWNvbk1hcCA9IHtcbiAgdGl0bGU6IHR5cGVfdGl0bGVfZGVmYXVsdCxcbiAgdGV4dDogdHlwZV90ZXh0X2RlZmF1bHQsXG4gIG51bWJlcjogdHlwZV9udW1iZXJfZGVmYXVsdCxcbiAgc2VsZWN0OiB0eXBlX3NlbGVjdF9kZWZhdWx0LFxuICBtdWx0aV9zZWxlY3Q6IHR5cGVfbXVsdGlfc2VsZWN0X2RlZmF1bHQsXG4gIGRhdGU6IHR5cGVfZGF0ZV9kZWZhdWx0LFxuICBwZXJzb246IHR5cGVfcGVyc29uX2RlZmF1bHQsXG4gIGZpbGU6IHR5cGVfZmlsZV9kZWZhdWx0LFxuICBjaGVja2JveDogdHlwZV9jaGVja2JveF9kZWZhdWx0LFxuICB1cmw6IHR5cGVfdXJsX2RlZmF1bHQsXG4gIGVtYWlsOiB0eXBlX2VtYWlsX2RlZmF1bHQsXG4gIHBob25lX251bWJlcjogdHlwZV9waG9uZV9udW1iZXJfZGVmYXVsdCxcbiAgZm9ybXVsYTogdHlwZV9mb3JtdWxhX2RlZmF1bHQsXG4gIHJlbGF0aW9uOiB0eXBlX3JlbGF0aW9uX2RlZmF1bHQsXG4gIGNyZWF0ZWRfdGltZTogdHlwZV90aW1lc3RhbXBfZGVmYXVsdCxcbiAgbGFzdF9lZGl0ZWRfdGltZTogdHlwZV90aW1lc3RhbXBfZGVmYXVsdCxcbiAgY3JlYXRlZF9ieTogdHlwZV9wZXJzb25fMl9kZWZhdWx0LFxuICBsYXN0X2VkaXRlZF9ieTogdHlwZV9wZXJzb25fMl9kZWZhdWx0XG59O1xudmFyIFByb3BlcnR5SWNvbiA9IChfYSkgPT4ge1xuICB2YXIgX2IgPSBfYSwge1xuICAgIHR5cGVcbiAgfSA9IF9iLCByZXN0ID0gX19vYmpSZXN0KF9iLCBbXG4gICAgXCJ0eXBlXCJcbiAgXSk7XG4gIGNvbnN0IGljb24gPSBpY29uTWFwW3R5cGVdO1xuICBpZiAoIWljb24pXG4gICAgcmV0dXJuIG51bGw7XG4gIHJldHVybiBpY29uKHJlc3QpO1xufTtcblxuLy8gc3JjL3RoaXJkLXBhcnR5L2NvbGxlY3Rpb24tY29sdW1uLXRpdGxlLnRzeFxudmFyIENvbGxlY3Rpb25Db2x1bW5UaXRsZSA9ICh7IHNjaGVtYSB9KSA9PiB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3QxNy5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwibm90aW9uLWNvbGxlY3Rpb24tY29sdW1uLXRpdGxlXCJcbiAgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0MTcuY3JlYXRlRWxlbWVudChQcm9wZXJ0eUljb24sIHtcbiAgICBjbGFzc05hbWU6IFwibm90aW9uLWNvbGxlY3Rpb24tY29sdW1uLXRpdGxlLWljb25cIixcbiAgICB0eXBlOiBzY2hlbWEudHlwZVxuICB9KSwgLyogQF9fUFVSRV9fICovIFJlYWN0MTcuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcIm5vdGlvbi1jb2xsZWN0aW9uLWNvbHVtbi10aXRsZS1ib2R5XCJcbiAgfSwgc2NoZW1hLm5hbWUpKTtcbn07XG5cbi8vIHNyYy90aGlyZC1wYXJ0eS9wcm9wZXJ0eS50c3hcbnZhciBpbXBvcnRfZm9ybWF0X251bWJlciA9IF9fdG9FU00ocmVxdWlyZV9mb3JtYXRfbnVtYmVyKCksIDEpO1xudmFyIGltcG9ydF9mb3JtYXQyID0gX190b0VTTShyZXF1aXJlX2Zvcm1hdCgpLCAxKTtcbmltcG9ydCAqIGFzIFJlYWN0MzggZnJvbSBcInJlYWN0XCI7XG5cbi8vIHNyYy91dGlscy50c1xuaW1wb3J0IHsgaXNVcmwsIGZvcm1hdERhdGUsIGZvcm1hdE5vdGlvbkRhdGVUaW1lIH0gZnJvbSBcIm5vdGlvbi11dGlsc1wiO1xudmFyIGRlZmF1bHRNYXBJbWFnZVVybCA9ICh1cmwsIGJsb2NrKSA9PiB7XG4gIGlmICghdXJsKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgaWYgKHVybC5zdGFydHNXaXRoKFwiZGF0YTpcIikpIHtcbiAgICByZXR1cm4gdXJsO1xuICB9XG4gIGlmICh1cmwuc3RhcnRzV2l0aChcImh0dHBzOi8vaW1hZ2VzLnVuc3BsYXNoLmNvbVwiKSkge1xuICAgIHJldHVybiB1cmw7XG4gIH1cbiAgdHJ5IHtcbiAgICBjb25zdCB1ID0gbmV3IFVSTCh1cmwpO1xuICAgIGlmICh1LnBhdGhuYW1lLnN0YXJ0c1dpdGgoXCIvc2VjdXJlLm5vdGlvbi1zdGF0aWMuY29tXCIpICYmIHUuaG9zdG5hbWUuZW5kc1dpdGgoXCIuYW1hem9uYXdzLmNvbVwiKSkge1xuICAgICAgaWYgKHUuc2VhcmNoUGFyYW1zLmhhcyhcIlgtQW16LUNyZWRlbnRpYWxcIikgJiYgdS5zZWFyY2hQYXJhbXMuaGFzKFwiWC1BbXotU2lnbmF0dXJlXCIpICYmIHUuc2VhcmNoUGFyYW1zLmhhcyhcIlgtQW16LUFsZ29yaXRobVwiKSkge1xuICAgICAgICByZXR1cm4gdXJsO1xuICAgICAgfVxuICAgIH1cbiAgfSBjYXRjaCAoZSkge1xuICB9XG4gIGlmICh1cmwuc3RhcnRzV2l0aChcIi9pbWFnZXNcIikpIHtcbiAgICB1cmwgPSBgaHR0cHM6Ly93d3cubm90aW9uLnNvJHt1cmx9YDtcbiAgfVxuICB1cmwgPSBgaHR0cHM6Ly93d3cubm90aW9uLnNvJHt1cmwuc3RhcnRzV2l0aChcIi9pbWFnZVwiKSA/IHVybCA6IGAvaW1hZ2UvJHtlbmNvZGVVUklDb21wb25lbnQodXJsKX1gfWA7XG4gIGNvbnN0IG5vdGlvbkltYWdlVXJsVjIgPSBuZXcgVVJMKHVybCk7XG4gIGxldCB0YWJsZSA9IGJsb2NrLnBhcmVudF90YWJsZSA9PT0gXCJzcGFjZVwiID8gXCJibG9ja1wiIDogYmxvY2sucGFyZW50X3RhYmxlO1xuICBpZiAodGFibGUgPT09IFwiY29sbGVjdGlvblwiKSB7XG4gICAgdGFibGUgPSBcImJsb2NrXCI7XG4gIH1cbiAgbm90aW9uSW1hZ2VVcmxWMi5zZWFyY2hQYXJhbXMuc2V0KFwidGFibGVcIiwgdGFibGUpO1xuICBub3Rpb25JbWFnZVVybFYyLnNlYXJjaFBhcmFtcy5zZXQoXCJpZFwiLCBibG9jay5pZCk7XG4gIG5vdGlvbkltYWdlVXJsVjIuc2VhcmNoUGFyYW1zLnNldChcImNhY2hlXCIsIFwidjJcIik7XG4gIHVybCA9IG5vdGlvbkltYWdlVXJsVjIudG9TdHJpbmcoKTtcbiAgcmV0dXJuIHVybDtcbn07XG52YXIgZGVmYXVsdE1hcFBhZ2VVcmwgPSAocm9vdFBhZ2VJZCkgPT4gKHBhZ2VJZCkgPT4ge1xuICBwYWdlSWQgPSAocGFnZUlkIHx8IFwiXCIpLnJlcGxhY2UoLy0vZywgXCJcIik7XG4gIGlmIChyb290UGFnZUlkICYmIHBhZ2VJZCA9PT0gcm9vdFBhZ2VJZCkge1xuICAgIHJldHVybiBcIi9cIjtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gYC8ke3BhZ2VJZH1gO1xuICB9XG59O1xudmFyIGNzID0gKC4uLmNsYXNzZXMpID0+IGNsYXNzZXMuZmlsdGVyKChhKSA9PiAhIWEpLmpvaW4oXCIgXCIpO1xudmFyIGdldEhhc2hGcmFnbWVudFZhbHVlID0gKHVybCkgPT4ge1xuICByZXR1cm4gdXJsLmluY2x1ZGVzKFwiI1wiKSA/IHVybC5yZXBsYWNlKC9eLisoIy4rKSQvLCBcIiQxXCIpIDogXCJcIjtcbn07XG52YXIgaXNCcm93c2VyID0gdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIjtcbnZhciB5b3V0dWJlRG9tYWlucyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KFtcbiAgXCJ5b3V0dS5iZVwiLFxuICBcInlvdXR1YmUuY29tXCIsXG4gIFwid3d3LnlvdXR1YmUuY29tXCIsXG4gIFwieW91dHViZS1ub2Nvb2tpZS5jb21cIixcbiAgXCJ3d3cueW91dHViZS1ub2Nvb2tpZS5jb21cIlxuXSk7XG52YXIgZ2V0WW91dHViZUlkID0gKHVybCkgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUgfSA9IG5ldyBVUkwodXJsKTtcbiAgICBpZiAoIXlvdXR1YmVEb21haW5zLmhhcyhob3N0bmFtZSkpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjb25zdCByZWdFeHAgPSAvXi4qKHlvdXR1XFwuYmVcXC98dlxcL3x1XFwvXFx3XFwvfGVtYmVkXFwvfHdhdGNoXFw/dj18JnY9KShbXiMmP10qKS4qL2k7XG4gICAgY29uc3QgbWF0Y2ggPSB1cmwubWF0Y2gocmVnRXhwKTtcbiAgICBpZiAobWF0Y2ggJiYgbWF0Y2hbMl0ubGVuZ3RoID09IDExKSB7XG4gICAgICByZXR1cm4gbWF0Y2hbMl07XG4gICAgfVxuICB9IGNhdGNoIChlKSB7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59O1xuXG4vLyBzcmMvY29udGV4dC50c3hcbmltcG9ydCAqIGFzIFJlYWN0MzcgZnJvbSBcInJlYWN0XCI7XG5cbi8vIHNyYy9uZXh0LnRzeFxuaW1wb3J0ICogYXMgUmVhY3QxOCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCBpc0VxdWFsIGZyb20gXCJyZWFjdC1mYXN0LWNvbXBhcmVcIjtcbnZhciB3cmFwTmV4dEltYWdlID0gKE5leHRJbWFnZSkgPT4ge1xuICByZXR1cm4gUmVhY3QxOC5tZW1vKGZ1bmN0aW9uIFJlYWN0Tm90aW9uWE5leHRJbWFnZShfYSkge1xuICAgIHZhciBfYiA9IF9hLCB7XG4gICAgICBzcmMsXG4gICAgICBhbHQsXG4gICAgICB3aWR0aCxcbiAgICAgIGhlaWdodCxcbiAgICAgIGNsYXNzTmFtZSxcbiAgICAgIHN0eWxlLFxuICAgICAgbGF5b3V0XG4gICAgfSA9IF9iLCByZXN0ID0gX19vYmpSZXN0KF9iLCBbXG4gICAgICBcInNyY1wiLFxuICAgICAgXCJhbHRcIixcbiAgICAgIFwid2lkdGhcIixcbiAgICAgIFwiaGVpZ2h0XCIsXG4gICAgICBcImNsYXNzTmFtZVwiLFxuICAgICAgXCJzdHlsZVwiLFxuICAgICAgXCJsYXlvdXRcIlxuICAgIF0pO1xuICAgIGlmICghbGF5b3V0KSB7XG4gICAgICBsYXlvdXQgPSB3aWR0aCAmJiBoZWlnaHQgPyBcImludHJpbnNpY1wiIDogXCJmaWxsXCI7XG4gICAgfVxuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3QxOC5jcmVhdGVFbGVtZW50KE5leHRJbWFnZSwgX19zcHJlYWRWYWx1ZXMoe1xuICAgICAgY2xhc3NOYW1lLFxuICAgICAgc3JjLFxuICAgICAgYWx0LFxuICAgICAgd2lkdGg6IGxheW91dCA9PT0gXCJpbnRyaW5zaWNcIiAmJiB3aWR0aCxcbiAgICAgIGhlaWdodDogbGF5b3V0ID09PSBcImludHJpbnNpY1wiICYmIGhlaWdodCxcbiAgICAgIG9iamVjdEZpdDogc3R5bGUgPT0gbnVsbCA/IHZvaWQgMCA6IHN0eWxlLm9iamVjdEZpdCxcbiAgICAgIG9iamVjdFBvc2l0aW9uOiBzdHlsZSA9PSBudWxsID8gdm9pZCAwIDogc3R5bGUub2JqZWN0UG9zaXRpb24sXG4gICAgICBsYXlvdXRcbiAgICB9LCByZXN0KSk7XG4gIH0sIGlzRXF1YWwpO1xufTtcbnZhciB3cmFwTmV4dExpbmsgPSAoTmV4dExpbmspID0+IGZ1bmN0aW9uIFJlYWN0Tm90aW9uWE5leHRMaW5rKF9hKSB7XG4gIHZhciBfYiA9IF9hLCB7XG4gICAgaHJlZixcbiAgICBhcyxcbiAgICBwYXNzSHJlZixcbiAgICBwcmVmZXRjaCxcbiAgICByZXBsYWNlLFxuICAgIHNjcm9sbCxcbiAgICBzaGFsbG93LFxuICAgIGxvY2FsZVxuICB9ID0gX2IsIGxpbmtQcm9wcyA9IF9fb2JqUmVzdChfYiwgW1xuICAgIFwiaHJlZlwiLFxuICAgIFwiYXNcIixcbiAgICBcInBhc3NIcmVmXCIsXG4gICAgXCJwcmVmZXRjaFwiLFxuICAgIFwicmVwbGFjZVwiLFxuICAgIFwic2Nyb2xsXCIsXG4gICAgXCJzaGFsbG93XCIsXG4gICAgXCJsb2NhbGVcIlxuICBdKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDE4LmNyZWF0ZUVsZW1lbnQoTmV4dExpbmssIHtcbiAgICBocmVmLFxuICAgIGFzLFxuICAgIHBhc3NIcmVmLFxuICAgIHByZWZldGNoLFxuICAgIHJlcGxhY2UsXG4gICAgc2Nyb2xsLFxuICAgIHNoYWxsb3csXG4gICAgbG9jYWxlXG4gIH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDE4LmNyZWF0ZUVsZW1lbnQoXCJhXCIsIF9fc3ByZWFkVmFsdWVzKHt9LCBsaW5rUHJvcHMpKSk7XG59O1xuXG4vLyBzcmMvY29tcG9uZW50cy9hc3NldC13cmFwcGVyLnRzeFxuaW1wb3J0ICogYXMgUmVhY3QzNCBmcm9tIFwicmVhY3RcIjtcblxuLy8gc3JjL2NvbXBvbmVudHMvYXNzZXQudHN4XG5pbXBvcnQgKiBhcyBSZWFjdDIxIGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgZ2V0VGV4dENvbnRlbnQgfSBmcm9tIFwibm90aW9uLXV0aWxzXCI7XG5cbi8vIHNyYy9jb21wb25lbnRzL2xhenktaW1hZ2UudHN4XG5pbXBvcnQgKiBhcyBSZWFjdDE5IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgTGF6eUltYWdlRnVsbCwgSW1hZ2VTdGF0ZSB9IGZyb20gXCJyZWFjdC1sYXp5LWltYWdlc1wiO1xuaW1wb3J0IHsgbm9ybWFsaXplVXJsIH0gZnJvbSBcIm5vdGlvbi11dGlsc1wiO1xudmFyIExhenlJbWFnZSA9IChfYSkgPT4ge1xuICB2YXIgX2IgPSBfYSwge1xuICAgIHNyYyxcbiAgICBhbHQsXG4gICAgY2xhc3NOYW1lLFxuICAgIHN0eWxlLFxuICAgIHpvb21hYmxlID0gZmFsc2UsXG4gICAgcHJpb3JpdHkgPSBmYWxzZSxcbiAgICBoZWlnaHRcbiAgfSA9IF9iLCByZXN0ID0gX19vYmpSZXN0KF9iLCBbXG4gICAgXCJzcmNcIixcbiAgICBcImFsdFwiLFxuICAgIFwiY2xhc3NOYW1lXCIsXG4gICAgXCJzdHlsZVwiLFxuICAgIFwiem9vbWFibGVcIixcbiAgICBcInByaW9yaXR5XCIsXG4gICAgXCJoZWlnaHRcIlxuICBdKTtcbiAgdmFyIF9hMiwgX2IyLCBfYztcbiAgY29uc3QgeyByZWNvcmRNYXAsIHpvb20sIHByZXZpZXdJbWFnZXMsIGZvcmNlQ3VzdG9tSW1hZ2VzLCBjb21wb25lbnRzIH0gPSB1c2VOb3Rpb25Db250ZXh0KCk7XG4gIGNvbnN0IHpvb21SZWYgPSBSZWFjdDE5LnVzZVJlZih6b29tID8gem9vbS5jbG9uZSgpIDogbnVsbCk7XG4gIGNvbnN0IHByZXZpZXdJbWFnZSA9IHByZXZpZXdJbWFnZXMgPyAoX2MgPSAoX2EyID0gcmVjb3JkTWFwID09IG51bGwgPyB2b2lkIDAgOiByZWNvcmRNYXAucHJldmlld19pbWFnZXMpID09IG51bGwgPyB2b2lkIDAgOiBfYTJbc3JjXSkgIT0gbnVsbCA/IF9jIDogKF9iMiA9IHJlY29yZE1hcCA9PSBudWxsID8gdm9pZCAwIDogcmVjb3JkTWFwLnByZXZpZXdfaW1hZ2VzKSA9PSBudWxsID8gdm9pZCAwIDogX2IyW25vcm1hbGl6ZVVybChzcmMpXSA6IG51bGw7XG4gIGNvbnN0IG9uTG9hZCA9IFJlYWN0MTkudXNlQ2FsbGJhY2soKGUpID0+IHtcbiAgICBpZiAoem9vbWFibGUgJiYgKGUudGFyZ2V0LnNyYyB8fCBlLnRhcmdldC5zcmNzZXQpKSB7XG4gICAgICBpZiAoem9vbVJlZi5jdXJyZW50KSB7XG4gICAgICAgIDtcbiAgICAgICAgem9vbVJlZi5jdXJyZW50LmF0dGFjaChlLnRhcmdldCk7XG4gICAgICB9XG4gICAgfVxuICB9LCBbem9vbVJlZiwgem9vbWFibGVdKTtcbiAgY29uc3QgYXR0YWNoWm9vbSA9IFJlYWN0MTkudXNlQ2FsbGJhY2soKGltYWdlKSA9PiB7XG4gICAgaWYgKHpvb21SZWYuY3VycmVudCAmJiBpbWFnZSkge1xuICAgICAgO1xuICAgICAgem9vbVJlZi5jdXJyZW50LmF0dGFjaChpbWFnZSk7XG4gICAgfVxuICB9LCBbem9vbVJlZl0pO1xuICBjb25zdCBhdHRhY2hab29tUmVmID0gUmVhY3QxOS51c2VNZW1vKCgpID0+IHpvb21hYmxlID8gYXR0YWNoWm9vbSA6IHZvaWQgMCwgW3pvb21hYmxlLCBhdHRhY2hab29tXSk7XG4gIGlmIChwcmV2aWV3SW1hZ2UpIHtcbiAgICBjb25zdCBhc3BlY3RSYXRpbyA9IHByZXZpZXdJbWFnZS5vcmlnaW5hbEhlaWdodCAvIHByZXZpZXdJbWFnZS5vcmlnaW5hbFdpZHRoO1xuICAgIGlmIChjb21wb25lbnRzLkltYWdlKSB7XG4gICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0MTkuY3JlYXRlRWxlbWVudChjb21wb25lbnRzLkltYWdlLCB7XG4gICAgICAgIHNyYyxcbiAgICAgICAgYWx0LFxuICAgICAgICBzdHlsZSxcbiAgICAgICAgY2xhc3NOYW1lLFxuICAgICAgICB3aWR0aDogcHJldmlld0ltYWdlLm9yaWdpbmFsV2lkdGgsXG4gICAgICAgIGhlaWdodDogcHJldmlld0ltYWdlLm9yaWdpbmFsSGVpZ2h0LFxuICAgICAgICBibHVyRGF0YVVSTDogcHJldmlld0ltYWdlLmRhdGFVUklCYXNlNjQsXG4gICAgICAgIHBsYWNlaG9sZGVyOiBcImJsdXJcIixcbiAgICAgICAgcHJpb3JpdHksXG4gICAgICAgIG9uTG9hZFxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3QxOS5jcmVhdGVFbGVtZW50KExhenlJbWFnZUZ1bGwsIF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe1xuICAgICAgc3JjXG4gICAgfSwgcmVzdCksIHtcbiAgICAgIGV4cGVyaW1lbnRhbERlY29kZTogdHJ1ZVxuICAgIH0pLCAoeyBpbWFnZVN0YXRlLCByZWYgfSkgPT4ge1xuICAgICAgY29uc3QgaXNMb2FkZWQgPSBpbWFnZVN0YXRlID09PSBJbWFnZVN0YXRlLkxvYWRTdWNjZXNzO1xuICAgICAgY29uc3Qgd3JhcHBlclN0eWxlID0ge1xuICAgICAgICB3aWR0aDogXCIxMDAlXCJcbiAgICAgIH07XG4gICAgICBjb25zdCBpbWdTdHlsZSA9IHt9O1xuICAgICAgaWYgKGhlaWdodCkge1xuICAgICAgICB3cmFwcGVyU3R5bGUuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaW1nU3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XG4gICAgICAgIHdyYXBwZXJTdHlsZS5wYWRkaW5nQm90dG9tID0gYCR7YXNwZWN0UmF0aW8gKiAxMDB9JWA7XG4gICAgICB9XG4gICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0MTkuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogY3MoXCJsYXp5LWltYWdlLXdyYXBwZXJcIiwgaXNMb2FkZWQgJiYgXCJsYXp5LWltYWdlLWxvYWRlZFwiLCBjbGFzc05hbWUpLFxuICAgICAgICBzdHlsZTogd3JhcHBlclN0eWxlXG4gICAgICB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3QxOS5jcmVhdGVFbGVtZW50KFwiaW1nXCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcImxhenktaW1hZ2UtcHJldmlld1wiLFxuICAgICAgICBzcmM6IHByZXZpZXdJbWFnZS5kYXRhVVJJQmFzZTY0LFxuICAgICAgICBhbHQsXG4gICAgICAgIHJlZixcbiAgICAgICAgc3R5bGUsXG4gICAgICAgIGRlY29kaW5nOiBcImFzeW5jXCJcbiAgICAgIH0pLCAvKiBAX19QVVJFX18gKi8gUmVhY3QxOS5jcmVhdGVFbGVtZW50KFwiaW1nXCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcImxhenktaW1hZ2UtcmVhbFwiLFxuICAgICAgICBzcmMsXG4gICAgICAgIGFsdCxcbiAgICAgICAgcmVmOiBhdHRhY2hab29tUmVmLFxuICAgICAgICBzdHlsZTogX19zcHJlYWRWYWx1ZXMoX19zcHJlYWRWYWx1ZXMoe30sIHN0eWxlKSwgaW1nU3R5bGUpLFxuICAgICAgICB3aWR0aDogcHJldmlld0ltYWdlLm9yaWdpbmFsV2lkdGgsXG4gICAgICAgIGhlaWdodDogcHJldmlld0ltYWdlLm9yaWdpbmFsSGVpZ2h0LFxuICAgICAgICBkZWNvZGluZzogXCJhc3luY1wiLFxuICAgICAgICBsb2FkaW5nOiBcImxhenlcIlxuICAgICAgfSkpO1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIGlmIChjb21wb25lbnRzLkltYWdlICYmIGZvcmNlQ3VzdG9tSW1hZ2VzKSB7XG4gICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0MTkuY3JlYXRlRWxlbWVudChjb21wb25lbnRzLkltYWdlLCB7XG4gICAgICAgIHNyYyxcbiAgICAgICAgYWx0LFxuICAgICAgICBjbGFzc05hbWUsXG4gICAgICAgIHN0eWxlLFxuICAgICAgICB3aWR0aDogbnVsbCxcbiAgICAgICAgaGVpZ2h0OiBoZWlnaHQgfHwgbnVsbCxcbiAgICAgICAgcHJpb3JpdHksXG4gICAgICAgIG9uTG9hZFxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3QxOS5jcmVhdGVFbGVtZW50KFwiaW1nXCIsIF9fc3ByZWFkVmFsdWVzKHtcbiAgICAgIGNsYXNzTmFtZSxcbiAgICAgIHN0eWxlLFxuICAgICAgc3JjLFxuICAgICAgYWx0LFxuICAgICAgcmVmOiBhdHRhY2hab29tUmVmLFxuICAgICAgbG9hZGluZzogXCJsYXp5XCIsXG4gICAgICBkZWNvZGluZzogXCJhc3luY1wiXG4gICAgfSwgcmVzdCkpO1xuICB9XG59O1xuXG4vLyBzcmMvY29tcG9uZW50cy9saXRlLXlvdXR1YmUtZW1iZWQudHN4XG5pbXBvcnQgKiBhcyBSZWFjdDIwIGZyb20gXCJyZWFjdFwiO1xudmFyIHFzID0gKHBhcmFtcykgPT4ge1xuICByZXR1cm4gT2JqZWN0LmtleXMocGFyYW1zKS5tYXAoKGtleSkgPT4gYCR7ZW5jb2RlVVJJQ29tcG9uZW50KGtleSl9PSR7ZW5jb2RlVVJJQ29tcG9uZW50KHBhcmFtc1trZXldKX1gKS5qb2luKFwiJlwiKTtcbn07XG52YXIgTGl0ZVlvdVR1YmVFbWJlZCA9ICh7XG4gIGlkLFxuICBkZWZhdWx0UGxheSA9IGZhbHNlLFxuICBtdXRlID0gZmFsc2UsXG4gIGxhenlJbWFnZSA9IGZhbHNlLFxuICBpZnJhbWVUaXRsZSA9IFwiWW91VHViZSB2aWRlb1wiLFxuICBhbHQgPSBcIlZpZGVvIHByZXZpZXdcIixcbiAgcGFyYW1zID0ge30sXG4gIGFkTGlua3NQcmVjb25uZWN0ID0gdHJ1ZSxcbiAgc3R5bGUsXG4gIGNsYXNzTmFtZVxufSkgPT4ge1xuICBjb25zdCBtdXRlUGFyYW0gPSBtdXRlIHx8IGRlZmF1bHRQbGF5ID8gXCIxXCIgOiBcIjBcIjtcbiAgY29uc3QgcXVlcnlTdHJpbmcgPSBSZWFjdDIwLnVzZU1lbW8oKCkgPT4gcXMoX19zcHJlYWRWYWx1ZXMoeyBhdXRvcGxheTogXCIxXCIsIG11dGU6IG11dGVQYXJhbSB9LCBwYXJhbXMpKSwgW211dGVQYXJhbSwgcGFyYW1zXSk7XG4gIGNvbnN0IHJlc29sdXRpb24gPSBcImhxZGVmYXVsdFwiO1xuICBjb25zdCBwb3N0ZXJVcmwgPSBgaHR0cHM6Ly9pLnl0aW1nLmNvbS92aS8ke2lkfS8ke3Jlc29sdXRpb259LmpwZ2A7XG4gIGNvbnN0IHl0VXJsID0gXCJodHRwczovL3d3dy55b3V0dWJlLW5vY29va2llLmNvbVwiO1xuICBjb25zdCBpZnJhbWVTcmMgPSBgJHt5dFVybH0vZW1iZWQvJHtpZH0/JHtxdWVyeVN0cmluZ31gO1xuICBjb25zdCBbaXNQcmVjb25uZWN0ZWQsIHNldElzUHJlY29ubmVjdGVkXSA9IFJlYWN0MjAudXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbaWZyYW1lSW5pdGlhbGl6ZWQsIHNldElmcmFtZUluaXRpYWxpemVkXSA9IFJlYWN0MjAudXNlU3RhdGUoZGVmYXVsdFBsYXkpO1xuICBjb25zdCBbaXNJZnJhbWVMb2FkZWQsIHNldElzSWZyYW1lTG9hZGVkXSA9IFJlYWN0MjAudXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCB3YXJtQ29ubmVjdGlvbnMgPSBSZWFjdDIwLnVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBpZiAoaXNQcmVjb25uZWN0ZWQpXG4gICAgICByZXR1cm47XG4gICAgc2V0SXNQcmVjb25uZWN0ZWQodHJ1ZSk7XG4gIH0sIFtpc1ByZWNvbm5lY3RlZF0pO1xuICBjb25zdCBvbkxvYWRJZnJhbWUgPSBSZWFjdDIwLnVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBpZiAoaWZyYW1lSW5pdGlhbGl6ZWQpXG4gICAgICByZXR1cm47XG4gICAgc2V0SWZyYW1lSW5pdGlhbGl6ZWQodHJ1ZSk7XG4gIH0sIFtpZnJhbWVJbml0aWFsaXplZF0pO1xuICBjb25zdCBvbklmcmFtZUxvYWRlZCA9IFJlYWN0MjAudXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIHNldElzSWZyYW1lTG9hZGVkKHRydWUpO1xuICB9LCBbXSk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3QyMC5jcmVhdGVFbGVtZW50KFJlYWN0MjAuRnJhZ21lbnQsIG51bGwsIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDIwLmNyZWF0ZUVsZW1lbnQoXCJsaW5rXCIsIHtcbiAgICByZWw6IFwicHJlbG9hZFwiLFxuICAgIGhyZWY6IHBvc3RlclVybCxcbiAgICBhczogXCJpbWFnZVwiXG4gIH0pLCBpc1ByZWNvbm5lY3RlZCAmJiAvKiBAX19QVVJFX18gKi8gUmVhY3QyMC5jcmVhdGVFbGVtZW50KFJlYWN0MjAuRnJhZ21lbnQsIG51bGwsIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDIwLmNyZWF0ZUVsZW1lbnQoXCJsaW5rXCIsIHtcbiAgICByZWw6IFwicHJlY29ubmVjdFwiLFxuICAgIGhyZWY6IHl0VXJsXG4gIH0pLCAvKiBAX19QVVJFX18gKi8gUmVhY3QyMC5jcmVhdGVFbGVtZW50KFwibGlua1wiLCB7XG4gICAgcmVsOiBcInByZWNvbm5lY3RcIixcbiAgICBocmVmOiBcImh0dHBzOi8vd3d3Lmdvb2dsZS5jb21cIlxuICB9KSksIGlzUHJlY29ubmVjdGVkICYmIGFkTGlua3NQcmVjb25uZWN0ICYmIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDIwLmNyZWF0ZUVsZW1lbnQoUmVhY3QyMC5GcmFnbWVudCwgbnVsbCwgLyogQF9fUFVSRV9fICovIFJlYWN0MjAuY3JlYXRlRWxlbWVudChcImxpbmtcIiwge1xuICAgIHJlbDogXCJwcmVjb25uZWN0XCIsXG4gICAgaHJlZjogXCJodHRwczovL3N0YXRpYy5kb3VibGVjbGljay5uZXRcIlxuICB9KSwgLyogQF9fUFVSRV9fICovIFJlYWN0MjAuY3JlYXRlRWxlbWVudChcImxpbmtcIiwge1xuICAgIHJlbDogXCJwcmVjb25uZWN0XCIsXG4gICAgaHJlZjogXCJodHRwczovL2dvb2dsZWFkcy5nLmRvdWJsZWNsaWNrLm5ldFwiXG4gIH0pKSwgLyogQF9fUFVSRV9fICovIFJlYWN0MjAuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgb25DbGljazogb25Mb2FkSWZyYW1lLFxuICAgIG9uUG9pbnRlck92ZXI6IHdhcm1Db25uZWN0aW9ucyxcbiAgICBjbGFzc05hbWU6IGNzKFwibm90aW9uLXl0LWxpdGVcIiwgaXNJZnJhbWVMb2FkZWQgJiYgXCJub3Rpb24teXQtbG9hZGVkXCIsIGlmcmFtZUluaXRpYWxpemVkICYmIFwibm90aW9uLXl0LWluaXRpYWxpemVkXCIsIGNsYXNzTmFtZSksXG4gICAgc3R5bGVcbiAgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0MjAuY3JlYXRlRWxlbWVudChcImltZ1wiLCB7XG4gICAgc3JjOiBwb3N0ZXJVcmwsXG4gICAgY2xhc3NOYW1lOiBcIm5vdGlvbi15dC10aHVtYm5haWxcIixcbiAgICBsb2FkaW5nOiBsYXp5SW1hZ2UgPyBcImxhenlcIiA6IHZvaWQgMCxcbiAgICBhbHRcbiAgfSksIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDIwLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJub3Rpb24teXQtcGxheWJ0blwiXG4gIH0pLCBpZnJhbWVJbml0aWFsaXplZCAmJiAvKiBAX19QVVJFX18gKi8gUmVhY3QyMC5jcmVhdGVFbGVtZW50KFwiaWZyYW1lXCIsIHtcbiAgICB3aWR0aDogXCI1NjBcIixcbiAgICBoZWlnaHQ6IFwiMzE1XCIsXG4gICAgZnJhbWVCb3JkZXI6IFwiMFwiLFxuICAgIGFsbG93OiBcImFjY2VsZXJvbWV0ZXI7IGF1dG9wbGF5OyBlbmNyeXB0ZWQtbWVkaWE7IGd5cm9zY29wZTsgcGljdHVyZS1pbi1waWN0dXJlXCIsXG4gICAgYWxsb3dGdWxsU2NyZWVuOiB0cnVlLFxuICAgIHRpdGxlOiBpZnJhbWVUaXRsZSxcbiAgICBzcmM6IGlmcmFtZVNyYyxcbiAgICBvbkxvYWQ6IG9uSWZyYW1lTG9hZGVkXG4gIH0pKSk7XG59O1xuXG4vLyBzcmMvY29tcG9uZW50cy9hc3NldC50c3hcbnZhciBpc1NlcnZlciA9IHR5cGVvZiB3aW5kb3cgPT09IFwidW5kZWZpbmVkXCI7XG52YXIgc3VwcG9ydGVkQXNzZXRUeXBlcyA9IFtcbiAgXCJ2aWRlb1wiLFxuICBcImltYWdlXCIsXG4gIFwiZW1iZWRcIixcbiAgXCJmaWdtYVwiLFxuICBcInR5cGVmb3JtXCIsXG4gIFwiZXhjYWxpZHJhd1wiLFxuICBcIm1hcHNcIixcbiAgXCJ0d2VldFwiLFxuICBcInBkZlwiLFxuICBcImdpc3RcIixcbiAgXCJjb2RlcGVuXCIsXG4gIFwiZHJpdmVcIlxuXTtcbnZhciBBc3NldCA9ICh7IGJsb2NrLCB6b29tYWJsZSA9IHRydWUsIGNoaWxkcmVuIH0pID0+IHtcbiAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2Y7XG4gIGNvbnN0IHsgcmVjb3JkTWFwLCBtYXBJbWFnZVVybCwgY29tcG9uZW50cyB9ID0gdXNlTm90aW9uQ29udGV4dCgpO1xuICBpZiAoIWJsb2NrIHx8ICFzdXBwb3J0ZWRBc3NldFR5cGVzLmluY2x1ZGVzKGJsb2NrLnR5cGUpKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgY29uc3Qgc3R5bGUgPSB7XG4gICAgcG9zaXRpb246IFwicmVsYXRpdmVcIixcbiAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcbiAgICBhbGlnblNlbGY6IFwiY2VudGVyXCIsXG4gICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgIG1heFdpZHRoOiBcIjEwMCVcIixcbiAgICBmbGV4RGlyZWN0aW9uOiBcImNvbHVtblwiXG4gIH07XG4gIGNvbnN0IGFzc2V0U3R5bGUgPSB7fTtcbiAgaWYgKGJsb2NrLmZvcm1hdCkge1xuICAgIGNvbnN0IHtcbiAgICAgIGJsb2NrX2FzcGVjdF9yYXRpbyxcbiAgICAgIGJsb2NrX2hlaWdodCxcbiAgICAgIGJsb2NrX3dpZHRoLFxuICAgICAgYmxvY2tfZnVsbF93aWR0aCxcbiAgICAgIGJsb2NrX3BhZ2Vfd2lkdGgsXG4gICAgICBibG9ja19wcmVzZXJ2ZV9zY2FsZVxuICAgIH0gPSBibG9jay5mb3JtYXQ7XG4gICAgaWYgKGJsb2NrX2Z1bGxfd2lkdGggfHwgYmxvY2tfcGFnZV93aWR0aCkge1xuICAgICAgaWYgKGJsb2NrX2Z1bGxfd2lkdGgpIHtcbiAgICAgICAgc3R5bGUud2lkdGggPSBcIjEwMHZ3XCI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdHlsZS53aWR0aCA9IFwiMTAwJVwiO1xuICAgICAgfVxuICAgICAgaWYgKGJsb2NrLnR5cGUgPT09IFwidmlkZW9cIikge1xuICAgICAgICBpZiAoYmxvY2tfaGVpZ2h0KSB7XG4gICAgICAgICAgc3R5bGUuaGVpZ2h0ID0gYmxvY2tfaGVpZ2h0O1xuICAgICAgICB9IGVsc2UgaWYgKGJsb2NrX2FzcGVjdF9yYXRpbykge1xuICAgICAgICAgIHN0eWxlLnBhZGRpbmdCb3R0b20gPSBgJHtibG9ja19hc3BlY3RfcmF0aW8gKiAxMDB9JWA7XG4gICAgICAgIH0gZWxzZSBpZiAoYmxvY2tfcHJlc2VydmVfc2NhbGUpIHtcbiAgICAgICAgICBzdHlsZS5vYmplY3RGaXQgPSBcImNvbnRhaW5cIjtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChibG9ja19hc3BlY3RfcmF0aW8gJiYgYmxvY2sudHlwZSAhPT0gXCJpbWFnZVwiKSB7XG4gICAgICAgIHN0eWxlLnBhZGRpbmdCb3R0b20gPSBgJHtibG9ja19hc3BlY3RfcmF0aW8gKiAxMDB9JWA7XG4gICAgICB9IGVsc2UgaWYgKGJsb2NrX2hlaWdodCkge1xuICAgICAgICBzdHlsZS5oZWlnaHQgPSBibG9ja19oZWlnaHQ7XG4gICAgICB9IGVsc2UgaWYgKGJsb2NrX3ByZXNlcnZlX3NjYWxlKSB7XG4gICAgICAgIGlmIChibG9jay50eXBlID09PSBcImltYWdlXCIpIHtcbiAgICAgICAgICBzdHlsZS5oZWlnaHQgPSBcIjEwMCVcIjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzdHlsZS5wYWRkaW5nQm90dG9tID0gXCI3NSVcIjtcbiAgICAgICAgICBzdHlsZS5taW5IZWlnaHQgPSAxMDA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGJsb2NrX3dpZHRoKSB7XG4gICAgICAgIHN0eWxlLndpZHRoID0gYmxvY2tfd2lkdGg7XG4gICAgICB9XG4gICAgICBpZiAoYmxvY2tfcHJlc2VydmVfc2NhbGUgJiYgYmxvY2sudHlwZSAhPT0gXCJpbWFnZVwiKSB7XG4gICAgICAgIHN0eWxlLnBhZGRpbmdCb3R0b20gPSBcIjUwJVwiO1xuICAgICAgICBzdHlsZS5taW5IZWlnaHQgPSAxMDA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoYmxvY2tfaGVpZ2h0ICYmIGJsb2NrLnR5cGUgIT09IFwiaW1hZ2VcIikge1xuICAgICAgICAgIHN0eWxlLmhlaWdodCA9IGJsb2NrX2hlaWdodDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoYmxvY2sudHlwZSA9PT0gXCJpbWFnZVwiKSB7XG4gICAgICBhc3NldFN0eWxlLm9iamVjdEZpdCA9IFwiY292ZXJcIjtcbiAgICB9IGVsc2UgaWYgKGJsb2NrX3ByZXNlcnZlX3NjYWxlKSB7XG4gICAgICBhc3NldFN0eWxlLm9iamVjdEZpdCA9IFwiY29udGFpblwiO1xuICAgIH1cbiAgfVxuICBjb25zdCBzb3VyY2UgPSAoKF9hID0gcmVjb3JkTWFwLnNpZ25lZF91cmxzKSA9PSBudWxsID8gdm9pZCAwIDogX2FbYmxvY2suaWRdKSB8fCAoKF9kID0gKF9jID0gKF9iID0gYmxvY2sucHJvcGVydGllcykgPT0gbnVsbCA/IHZvaWQgMCA6IF9iLnNvdXJjZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9jWzBdKSA9PSBudWxsID8gdm9pZCAwIDogX2RbMF0pO1xuICBsZXQgY29udGVudCA9IG51bGw7XG4gIGlmICghc291cmNlKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgaWYgKGJsb2NrLnR5cGUgPT09IFwidHdlZXRcIikge1xuICAgIGNvbnN0IHNyYyA9IHNvdXJjZTtcbiAgICBpZiAoIXNyYylcbiAgICAgIHJldHVybiBudWxsO1xuICAgIGNvbnN0IGlkID0gc3JjLnNwbGl0KFwiP1wiKVswXS5zcGxpdChcIi9cIikucG9wKCk7XG4gICAgaWYgKCFpZClcbiAgICAgIHJldHVybiBudWxsO1xuICAgIGNvbnRlbnQgPSAvKiBAX19QVVJFX18gKi8gUmVhY3QyMS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgIHN0eWxlOiBfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKHt9LCBhc3NldFN0eWxlKSwge1xuICAgICAgICBtYXhXaWR0aDogNDIwLFxuICAgICAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgICAgIG1hcmdpbkxlZnQ6IFwiYXV0b1wiLFxuICAgICAgICBtYXJnaW5SaWdodDogXCJhdXRvXCJcbiAgICAgIH0pXG4gICAgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0MjEuY3JlYXRlRWxlbWVudChjb21wb25lbnRzLlR3ZWV0LCB7XG4gICAgICBpZFxuICAgIH0pKTtcbiAgfSBlbHNlIGlmIChibG9jay50eXBlID09PSBcInBkZlwiKSB7XG4gICAgc3R5bGUub3ZlcmZsb3cgPSBcImF1dG9cIjtcbiAgICBzdHlsZS5iYWNrZ3JvdW5kID0gXCJyZ2IoMjI2LCAyMjYsIDIyNilcIjtcbiAgICBpZiAoIXN0eWxlLnBhZGRpbmcpIHtcbiAgICAgIHN0eWxlLnBhZGRpbmcgPSBcIjhweCAxNnB4XCI7XG4gICAgfVxuICAgIGlmICghaXNTZXJ2ZXIpIHtcbiAgICAgIGNvbnRlbnQgPSAvKiBAX19QVVJFX18gKi8gUmVhY3QyMS5jcmVhdGVFbGVtZW50KGNvbXBvbmVudHMuUGRmLCB7XG4gICAgICAgIGZpbGU6IHNvdXJjZVxuICAgICAgfSk7XG4gICAgfVxuICB9IGVsc2UgaWYgKGJsb2NrLnR5cGUgPT09IFwiZW1iZWRcIiB8fCBibG9jay50eXBlID09PSBcInZpZGVvXCIgfHwgYmxvY2sudHlwZSA9PT0gXCJmaWdtYVwiIHx8IGJsb2NrLnR5cGUgPT09IFwidHlwZWZvcm1cIiB8fCBibG9jay50eXBlID09PSBcImdpc3RcIiB8fCBibG9jay50eXBlID09PSBcIm1hcHNcIiB8fCBibG9jay50eXBlID09PSBcImV4Y2FsaWRyYXdcIiB8fCBibG9jay50eXBlID09PSBcImNvZGVwZW5cIiB8fCBibG9jay50eXBlID09PSBcImRyaXZlXCIpIHtcbiAgICBpZiAoYmxvY2sudHlwZSA9PT0gXCJ2aWRlb1wiICYmIHNvdXJjZSAmJiBzb3VyY2UuaW5kZXhPZihcInlvdXR1YmVcIikgPCAwICYmIHNvdXJjZS5pbmRleE9mKFwieW91dHUuYmVcIikgPCAwICYmIHNvdXJjZS5pbmRleE9mKFwidmltZW9cIikgPCAwICYmIHNvdXJjZS5pbmRleE9mKFwid2lzdGlhXCIpIDwgMCAmJiBzb3VyY2UuaW5kZXhPZihcImxvb21cIikgPCAwICYmIHNvdXJjZS5pbmRleE9mKFwidmlkZW9hc2tcIikgPCAwICYmIHNvdXJjZS5pbmRleE9mKFwiZ2V0Y2xvdWRhcHBcIikgPCAwKSB7XG4gICAgICBzdHlsZS5wYWRkaW5nQm90dG9tID0gdm9pZCAwO1xuICAgICAgY29udGVudCA9IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDIxLmNyZWF0ZUVsZW1lbnQoXCJ2aWRlb1wiLCB7XG4gICAgICAgIHBsYXlzSW5saW5lOiB0cnVlLFxuICAgICAgICBjb250cm9sczogdHJ1ZSxcbiAgICAgICAgcHJlbG9hZDogXCJtZXRhZGF0YVwiLFxuICAgICAgICBzdHlsZTogYXNzZXRTdHlsZSxcbiAgICAgICAgc3JjOiBzb3VyY2UsXG4gICAgICAgIHRpdGxlOiBibG9jay50eXBlXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IHNyYyA9ICgoX2UgPSBibG9jay5mb3JtYXQpID09IG51bGwgPyB2b2lkIDAgOiBfZS5kaXNwbGF5X3NvdXJjZSkgfHwgc291cmNlO1xuICAgICAgaWYgKHNyYykge1xuICAgICAgICBjb25zdCB5b3V0dWJlVmlkZW9JZCA9IGJsb2NrLnR5cGUgPT09IFwidmlkZW9cIiA/IGdldFlvdXR1YmVJZChzcmMpIDogbnVsbDtcbiAgICAgICAgaWYgKHlvdXR1YmVWaWRlb0lkKSB7XG4gICAgICAgICAgY29udGVudCA9IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDIxLmNyZWF0ZUVsZW1lbnQoTGl0ZVlvdVR1YmVFbWJlZCwge1xuICAgICAgICAgICAgaWQ6IHlvdXR1YmVWaWRlb0lkLFxuICAgICAgICAgICAgc3R5bGU6IGFzc2V0U3R5bGUsXG4gICAgICAgICAgICBjbGFzc05hbWU6IFwibm90aW9uLWFzc2V0LW9iamVjdC1maXRcIlxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2UgaWYgKGJsb2NrLnR5cGUgPT09IFwiZ2lzdFwiKSB7XG4gICAgICAgICAgaWYgKCFzcmMuZW5kc1dpdGgoXCIucGliYlwiKSkge1xuICAgICAgICAgICAgc3JjID0gYCR7c3JjfS5waWJiYDtcbiAgICAgICAgICB9XG4gICAgICAgICAgYXNzZXRTdHlsZS53aWR0aCA9IFwiMTAwJVwiO1xuICAgICAgICAgIHN0eWxlLnBhZGRpbmdCb3R0b20gPSBcIjUwJVwiO1xuICAgICAgICAgIGNvbnRlbnQgPSAvKiBAX19QVVJFX18gKi8gUmVhY3QyMS5jcmVhdGVFbGVtZW50KFwiaWZyYW1lXCIsIHtcbiAgICAgICAgICAgIHN0eWxlOiBhc3NldFN0eWxlLFxuICAgICAgICAgICAgY2xhc3NOYW1lOiBcIm5vdGlvbi1hc3NldC1vYmplY3QtZml0XCIsXG4gICAgICAgICAgICBzcmMsXG4gICAgICAgICAgICB0aXRsZTogXCJHaXRIdWIgR2lzdFwiLFxuICAgICAgICAgICAgZnJhbWVCb3JkZXI6IFwiMFwiLFxuICAgICAgICAgICAgbG9hZGluZzogXCJsYXp5XCIsXG4gICAgICAgICAgICBzY3JvbGxpbmc6IFwiYXV0b1wiXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29udGVudCA9IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDIxLmNyZWF0ZUVsZW1lbnQoXCJpZnJhbWVcIiwge1xuICAgICAgICAgICAgY2xhc3NOYW1lOiBcIm5vdGlvbi1hc3NldC1vYmplY3QtZml0XCIsXG4gICAgICAgICAgICBzdHlsZTogYXNzZXRTdHlsZSxcbiAgICAgICAgICAgIHNyYyxcbiAgICAgICAgICAgIHRpdGxlOiBgaWZyYW1lICR7YmxvY2sudHlwZX1gLFxuICAgICAgICAgICAgZnJhbWVCb3JkZXI6IFwiMFwiLFxuICAgICAgICAgICAgYWxsb3dGdWxsU2NyZWVuOiB0cnVlLFxuICAgICAgICAgICAgbG9hZGluZzogXCJsYXp5XCIsXG4gICAgICAgICAgICBzY3JvbGxpbmc6IFwiYXV0b1wiXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSBpZiAoYmxvY2sudHlwZSA9PT0gXCJpbWFnZVwiKSB7XG4gICAgY29uc3Qgc3JjID0gbWFwSW1hZ2VVcmwoc291cmNlLCBibG9jayk7XG4gICAgY29uc3QgY2FwdGlvbiA9IGdldFRleHRDb250ZW50KChfZiA9IGJsb2NrLnByb3BlcnRpZXMpID09IG51bGwgPyB2b2lkIDAgOiBfZi5jYXB0aW9uKTtcbiAgICBjb25zdCBhbHQgPSBjYXB0aW9uIHx8IFwibm90aW9uIGltYWdlXCI7XG4gICAgY29udGVudCA9IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDIxLmNyZWF0ZUVsZW1lbnQoTGF6eUltYWdlLCB7XG4gICAgICBzcmMsXG4gICAgICBhbHQsXG4gICAgICB6b29tYWJsZSxcbiAgICAgIGhlaWdodDogc3R5bGUuaGVpZ2h0LFxuICAgICAgc3R5bGU6IGFzc2V0U3R5bGVcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0MjEuY3JlYXRlRWxlbWVudChSZWFjdDIxLkZyYWdtZW50LCBudWxsLCAvKiBAX19QVVJFX18gKi8gUmVhY3QyMS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBzdHlsZVxuICB9LCBjb250ZW50LCBibG9jay50eXBlID09PSBcImltYWdlXCIgJiYgY2hpbGRyZW4pLCBibG9jay50eXBlICE9PSBcImltYWdlXCIgJiYgY2hpbGRyZW4pO1xufTtcblxuLy8gc3JjL2NvbXBvbmVudHMvdGV4dC50c3hcbmltcG9ydCAqIGFzIFJlYWN0MjggZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBwYXJzZVBhZ2VJZCB9IGZyb20gXCJub3Rpb24tdXRpbHNcIjtcblxuLy8gc3JjL2NvbXBvbmVudHMvcGFnZS10aXRsZS50c3hcbmltcG9ydCAqIGFzIFJlYWN0MjQgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBnZXRCbG9ja1RpdGxlIGFzIGdldEJsb2NrVGl0bGUyIH0gZnJvbSBcIm5vdGlvbi11dGlsc1wiO1xuXG4vLyBzcmMvY29tcG9uZW50cy9wYWdlLWljb24udHN4XG5pbXBvcnQgKiBhcyBSZWFjdDIzIGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgZ2V0QmxvY2tJY29uLCBnZXRCbG9ja1RpdGxlIH0gZnJvbSBcIm5vdGlvbi11dGlsc1wiO1xuXG4vLyBzcmMvaWNvbnMvZGVmYXVsdC1wYWdlLWljb24udHN4XG5pbXBvcnQgKiBhcyBSZWFjdDIyIGZyb20gXCJyZWFjdFwiO1xudmFyIERlZmF1bHRQYWdlSWNvbiA9IChwcm9wcykgPT4ge1xuICBjb25zdCBfYSA9IHByb3BzLCB7IGNsYXNzTmFtZSB9ID0gX2EsIHJlc3QgPSBfX29ialJlc3QoX2EsIFtcImNsYXNzTmFtZVwiXSk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3QyMi5jcmVhdGVFbGVtZW50KFwic3ZnXCIsIF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe1xuICAgIGNsYXNzTmFtZVxuICB9LCByZXN0KSwge1xuICAgIHZpZXdCb3g6IFwiMCAwIDMwIDMwXCIsXG4gICAgd2lkdGg6IFwiMTZcIlxuICB9KSwgLyogQF9fUFVSRV9fICovIFJlYWN0MjIuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgIGQ6IFwiTTE2LDFINHYyOGgyMlYxMUwxNiwxeiBNMTYsMy44MjhMMjMuMTcyLDExSDE2VjMuODI4eiBNMjQsMjdINlYzaDh2MTBoMTBWMjd6IE04LDE3aDE0di0ySDhWMTd6IE04LDIxaDE0di0ySDhWMjF6IE04LDI1aDE0di0ySDhWMjV6XCJcbiAgfSkpO1xufTtcblxuLy8gc3JjL2NvbXBvbmVudHMvcGFnZS1pY29uLnRzeFxudmFyIGlzSWNvbkJsb2NrID0gKHZhbHVlKSA9PiB7XG4gIHJldHVybiB2YWx1ZS50eXBlID09PSBcInBhZ2VcIiB8fCB2YWx1ZS50eXBlID09PSBcImNhbGxvdXRcIiB8fCB2YWx1ZS50eXBlID09PSBcImNvbGxlY3Rpb25fdmlld1wiIHx8IHZhbHVlLnR5cGUgPT09IFwiY29sbGVjdGlvbl92aWV3X3BhZ2VcIjtcbn07XG52YXIgUGFnZUljb25JbXBsID0gKHtcbiAgYmxvY2ssXG4gIGNsYXNzTmFtZSxcbiAgaW5saW5lID0gdHJ1ZSxcbiAgaGlkZURlZmF1bHRJY29uID0gZmFsc2UsXG4gIGRlZmF1bHRJY29uXG59KSA9PiB7XG4gIHZhciBfYTtcbiAgY29uc3QgeyBtYXBJbWFnZVVybCwgcmVjb3JkTWFwIH0gPSB1c2VOb3Rpb25Db250ZXh0KCk7XG4gIGxldCBpc0ltYWdlID0gZmFsc2U7XG4gIGxldCBjb250ZW50ID0gbnVsbDtcbiAgaWYgKGlzSWNvbkJsb2NrKGJsb2NrKSkge1xuICAgIGNvbnN0IGljb24gPSAoKF9hID0gZ2V0QmxvY2tJY29uKGJsb2NrLCByZWNvcmRNYXApKSA9PSBudWxsID8gdm9pZCAwIDogX2EudHJpbSgpKSB8fCBkZWZhdWx0SWNvbjtcbiAgICBjb25zdCB0aXRsZSA9IGdldEJsb2NrVGl0bGUoYmxvY2ssIHJlY29yZE1hcCk7XG4gICAgaWYgKGljb24gJiYgaXNVcmwoaWNvbikpIHtcbiAgICAgIGNvbnN0IHVybCA9IG1hcEltYWdlVXJsKGljb24sIGJsb2NrKTtcbiAgICAgIGlzSW1hZ2UgPSB0cnVlO1xuICAgICAgY29udGVudCA9IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDIzLmNyZWF0ZUVsZW1lbnQoTGF6eUltYWdlLCB7XG4gICAgICAgIHNyYzogdXJsLFxuICAgICAgICBhbHQ6IHRpdGxlIHx8IFwicGFnZSBpY29uXCIsXG4gICAgICAgIGNsYXNzTmFtZTogY3MoY2xhc3NOYW1lLCBcIm5vdGlvbi1wYWdlLWljb25cIilcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAoIWljb24pIHtcbiAgICAgIGlmICghaGlkZURlZmF1bHRJY29uKSB7XG4gICAgICAgIGlzSW1hZ2UgPSB0cnVlO1xuICAgICAgICBjb250ZW50ID0gLyogQF9fUFVSRV9fICovIFJlYWN0MjMuY3JlYXRlRWxlbWVudChEZWZhdWx0UGFnZUljb24sIHtcbiAgICAgICAgICBjbGFzc05hbWU6IGNzKGNsYXNzTmFtZSwgXCJub3Rpb24tcGFnZS1pY29uXCIpLFxuICAgICAgICAgIGFsdDogdGl0bGUgPyB0aXRsZSA6IFwicGFnZSBpY29uXCJcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlzSW1hZ2UgPSBmYWxzZTtcbiAgICAgIGNvbnRlbnQgPSAvKiBAX19QVVJFX18gKi8gUmVhY3QyMy5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogY3MoY2xhc3NOYW1lLCBcIm5vdGlvbi1wYWdlLWljb25cIiksXG4gICAgICAgIHJvbGU6IFwiaW1nXCIsXG4gICAgICAgIFwiYXJpYS1sYWJlbFwiOiBpY29uXG4gICAgICB9LCBpY29uKTtcbiAgICB9XG4gIH1cbiAgaWYgKCFjb250ZW50KSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDIzLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogY3MoaW5saW5lID8gXCJub3Rpb24tcGFnZS1pY29uLWlubGluZVwiIDogXCJub3Rpb24tcGFnZS1pY29uLWhlcm9cIiwgaXNJbWFnZSA/IFwibm90aW9uLXBhZ2UtaWNvbi1pbWFnZVwiIDogXCJub3Rpb24tcGFnZS1pY29uLXNwYW5cIilcbiAgfSwgY29udGVudCk7XG59O1xudmFyIFBhZ2VJY29uID0gUmVhY3QyMy5tZW1vKFBhZ2VJY29uSW1wbCk7XG5cbi8vIHNyYy9jb21wb25lbnRzL3BhZ2UtdGl0bGUudHN4XG52YXIgUGFnZVRpdGxlSW1wbCA9IChfYSkgPT4ge1xuICB2YXIgX2IgPSBfYSwgeyBibG9jaywgY2xhc3NOYW1lLCBkZWZhdWx0SWNvbiB9ID0gX2IsIHJlc3QgPSBfX29ialJlc3QoX2IsIFtcImJsb2NrXCIsIFwiY2xhc3NOYW1lXCIsIFwiZGVmYXVsdEljb25cIl0pO1xuICB2YXIgX2EyLCBfYjI7XG4gIGNvbnN0IHsgcmVjb3JkTWFwIH0gPSB1c2VOb3Rpb25Db250ZXh0KCk7XG4gIGlmICghYmxvY2spXG4gICAgcmV0dXJuIG51bGw7XG4gIGlmIChibG9jay50eXBlID09PSBcImNvbGxlY3Rpb25fdmlld19wYWdlXCIgfHwgYmxvY2sudHlwZSA9PT0gXCJjb2xsZWN0aW9uX3ZpZXdcIikge1xuICAgIGNvbnN0IHRpdGxlID0gZ2V0QmxvY2tUaXRsZTIoYmxvY2ssIHJlY29yZE1hcCk7XG4gICAgaWYgKCF0aXRsZSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHRpdGxlRGVjb3JhdGlvbiA9IFtbdGl0bGVdXTtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0MjQuY3JlYXRlRWxlbWVudChcInNwYW5cIiwgX19zcHJlYWRWYWx1ZXMoe1xuICAgICAgY2xhc3NOYW1lOiBjcyhcIm5vdGlvbi1wYWdlLXRpdGxlXCIsIGNsYXNzTmFtZSlcbiAgICB9LCByZXN0KSwgLyogQF9fUFVSRV9fICovIFJlYWN0MjQuY3JlYXRlRWxlbWVudChQYWdlSWNvbiwge1xuICAgICAgYmxvY2ssXG4gICAgICBkZWZhdWx0SWNvbixcbiAgICAgIGNsYXNzTmFtZTogXCJub3Rpb24tcGFnZS10aXRsZS1pY29uXCJcbiAgICB9KSwgLyogQF9fUFVSRV9fICovIFJlYWN0MjQuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgICAgY2xhc3NOYW1lOiBcIm5vdGlvbi1wYWdlLXRpdGxlLXRleHRcIlxuICAgIH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDI0LmNyZWF0ZUVsZW1lbnQoVGV4dCwge1xuICAgICAgdmFsdWU6IHRpdGxlRGVjb3JhdGlvbixcbiAgICAgIGJsb2NrXG4gICAgfSkpKTtcbiAgfVxuICBpZiAoISgoX2EyID0gYmxvY2sucHJvcGVydGllcykgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMi50aXRsZSkpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0MjQuY3JlYXRlRWxlbWVudChcInNwYW5cIiwgX19zcHJlYWRWYWx1ZXMoe1xuICAgIGNsYXNzTmFtZTogY3MoXCJub3Rpb24tcGFnZS10aXRsZVwiLCBjbGFzc05hbWUpXG4gIH0sIHJlc3QpLCAvKiBAX19QVVJFX18gKi8gUmVhY3QyNC5jcmVhdGVFbGVtZW50KFBhZ2VJY29uLCB7XG4gICAgYmxvY2ssXG4gICAgZGVmYXVsdEljb24sXG4gICAgY2xhc3NOYW1lOiBcIm5vdGlvbi1wYWdlLXRpdGxlLWljb25cIlxuICB9KSwgLyogQF9fUFVSRV9fICovIFJlYWN0MjQuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgIGNsYXNzTmFtZTogXCJub3Rpb24tcGFnZS10aXRsZS10ZXh0XCJcbiAgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0MjQuY3JlYXRlRWxlbWVudChUZXh0LCB7XG4gICAgdmFsdWU6IChfYjIgPSBibG9jay5wcm9wZXJ0aWVzKSA9PSBudWxsID8gdm9pZCAwIDogX2IyLnRpdGxlLFxuICAgIGJsb2NrXG4gIH0pKSk7XG59O1xudmFyIFBhZ2VUaXRsZSA9IFJlYWN0MjQubWVtbyhQYWdlVGl0bGVJbXBsKTtcblxuLy8gc3JjL2NvbXBvbmVudHMvZ3JhY2VmdWwtaW1hZ2UudHN4XG5pbXBvcnQgKiBhcyBSZWFjdDI1IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgSW1nIH0gZnJvbSBcInJlYWN0LWltYWdlXCI7XG52YXIgR3JhY2VmdWxJbWFnZSA9IChwcm9wcykgPT4ge1xuICBpZiAoaXNCcm93c2VyKSB7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDI1LmNyZWF0ZUVsZW1lbnQoSW1nLCBfX3NwcmVhZFZhbHVlcyh7fSwgcHJvcHMpKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0MjUuY3JlYXRlRWxlbWVudChcImltZ1wiLCBfX3NwcmVhZFZhbHVlcyh7fSwgcHJvcHMpKTtcbiAgfVxufTtcblxuLy8gc3JjL2NvbXBvbmVudHMvZW9pLnRzeFxuaW1wb3J0ICogYXMgUmVhY3QyNyBmcm9tIFwicmVhY3RcIjtcblxuLy8gc3JjL2ljb25zL3R5cGUtZ2l0aHViLnRzeFxuaW1wb3J0ICogYXMgUmVhY3QyNiBmcm9tIFwicmVhY3RcIjtcbmZ1bmN0aW9uIFN2Z1R5cGVHaXRIdWIocHJvcHMpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDI2LmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwgX19zcHJlYWRWYWx1ZXMoe1xuICAgIHZpZXdCb3g6IFwiMCAwIDI2MCAyNjBcIlxuICB9LCBwcm9wcyksIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDI2LmNyZWF0ZUVsZW1lbnQoXCJnXCIsIG51bGwsIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDI2LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgICBkOiBcIk0xMjguMDAxMDYsMCBDNTcuMzE3MjkyNiwwIDAsNTcuMzA2Njk0MiAwLDEyOC4wMDEwNiBDMCwxODQuNTU1MjgxIDM2LjY3NjE5OTcsMjMyLjUzNTU0MiA4Ny41MzQ5MzcsMjQ5LjQ2MDg5OSBDOTMuOTMyMDIyMywyNTAuNjQ1Nzc5IDk2LjI4MDU4OCwyNDYuNjg0MTY1IDk2LjI4MDU4OCwyNDMuMzAzMzMzIEM5Ni4yODA1ODgsMjQwLjI1MTA0NSA5Ni4xNjE4ODc4LDIzMC4xNjc4OTkgOTYuMTA2Nzc3LDIxOS40NzIxNzYgQzYwLjQ5Njc1ODUsMjI3LjIxNTIzNSA1Mi45ODI2MjA3LDIwNC4zNjk3MTIgNTIuOTgyNjIwNywyMDQuMzY5NzEyIEM0Ny4xNTk5NTg0LDE4OS41NzQ1OTggMzguNzcwNDA4LDE4NS42NDA1MzggMzguNzcwNDA4LDE4NS42NDA1MzggQzI3LjE1Njg3ODUsMTc3LjY5NjExMyAzOS42NDU4MjA2LDE3Ny44NTkzMjUgMzkuNjQ1ODIwNiwxNzcuODU5MzI1IEM1Mi40OTkzNDE5LDE3OC43NjIyOTMgNTkuMjY3MzY1LDE5MS4wNDk4NyA1OS4yNjczNjUsMTkxLjA0OTg3IEM3MC42ODM3Njc1LDIxMC42MTg0MjMgODkuMjExNTc1MywyMDQuOTYxMDkzIDk2LjUxNTg2ODUsMjAxLjY5MDQ4MiBDOTcuNjY0NzE1NSwxOTMuNDE3NTEyIDEwMC45ODE5NTksMTg3Ljc3MDc4IDEwNC42NDI1ODMsMTg0LjU3NDM1NyBDNzYuMjExNzk5LDE4MS4zMzc2NiA0Ni4zMjQ4MTksMTcwLjM2MjE0NCA0Ni4zMjQ4MTksMTIxLjMxNTcwMiBDNDYuMzI0ODE5LDEwNy4zNDA4ODkgNTEuMzI1MDU4OCw5NS45MjIzNjgyIDU5LjUxMzI0MzcsODYuOTU4MzkzNyBDNTguMTg0MjI2OCw4My43MzQ0MTUyIDUzLjgwMjkyMjksNzAuNzE1NTYyIDYwLjc1MzIzNTQsNTMuMDg0MzYzNiBDNjAuNzUzMjM1NCw1My4wODQzNjM2IDcxLjUwMTk1MDEsNDkuNjQ0MTgxMyA5NS45NjI2NDEyLDY2LjIwNDk1OTUgQzEwNi4xNzI5NjcsNjMuMzY4ODc2IDExNy4xMjMwNDcsNjEuOTQ2NTk0OSAxMjguMDAxMDYsNjEuODk3ODQzMiBDMTM4Ljg3OTA3Myw2MS45NDY1OTQ5IDE0OS44Mzc2MzIsNjMuMzY4ODc2IDE2MC4wNjcwMzMsNjYuMjA0OTU5NSBDMTg0LjQ5ODA1LDQ5LjY0NDE4MTMgMTk1LjIzMTkyNiw1My4wODQzNjM2IDE5NS4yMzE5MjYsNTMuMDg0MzYzNiBDMjAyLjE5OTE5Nyw3MC43MTU1NjIgMTk3LjgxNTc3Myw4My43MzQ0MTUyIDE5Ni40ODY3NTYsODYuOTU4MzkzNyBDMjA0LjY5NDAxOCw5NS45MjIzNjgyIDIwOS42NjAzNDMsMTA3LjM0MDg4OSAyMDkuNjYwMzQzLDEyMS4zMTU3MDIgQzIwOS42NjAzNDMsMTcwLjQ3ODcyNSAxNzkuNzE2MTMzLDE4MS4zMDM3NDcgMTUxLjIxMzI4MSwxODQuNDcyNjE0IEMxNTUuODA0NDMsMTg4LjQ0NDgyOCAxNTkuODk1MzQyLDE5Ni4yMzQ1MTggMTU5Ljg5NTM0MiwyMDguMTc2NTkzIEMxNTkuODk1MzQyLDIyNS4zMDMzMTcgMTU5Ljc0Njk2OCwyMzkuMDg3MzYxIDE1OS43NDY5NjgsMjQzLjMwMzMzMyBDMTU5Ljc0Njk2OCwyNDYuNzA5NjAxIDE2Mi4wNTEwMiwyNTAuNzAwODkgMTY4LjUzOTI1LDI0OS40NDM5NDEgQzIxOS4zNzA0MzIsMjMyLjQ5OTUwNyAyNTYsMTg0LjUzNjIwNCAyNTYsMTI4LjAwMTA2IEMyNTYsNTcuMzA2Njk0MiAxOTguNjkxMTg3LDAgMTI4LjAwMTA2LDAgWiBNNDcuOTQwNTU5MywxODIuMzQwMjEyIEM0Ny42NTg2NDY1LDE4Mi45NzYxMDUgNDYuNjU4MTc0NSwxODMuMTY2ODczIDQ1Ljc0NjcyNzcsMTgyLjczMDIyNyBDNDQuODE4MzIzNSwxODIuMzEyNjU2IDQ0LjI5Njg5MTQsMTgxLjQ0NTcyMiA0NC41OTc4ODA4LDE4MC44MDc3MSBDNDQuODczNDM0NCwxODAuMTUyNzM5IDQ1Ljg3NjAyNiwxNzkuOTcwNDUgNDYuODAyMzEwMywxODAuNDA5MjE2IEM0Ny43MzI4MzQyLDE4MC44MjY3ODYgNDguMjYyNzQ1MSwxODEuNzAyMTk5IDQ3Ljk0MDU1OTMsMTgyLjM0MDIxMiBaIE01NC4yMzY3ODkyLDE4Ny45NTgyNTQgQzUzLjYyNjMzMTgsMTg4LjUyNDE5OSA1Mi40MzI5NzIzLDE4OC4yNjEzNjMgNTEuNjIzMjY4MiwxODcuMzY2ODc0IEM1MC43ODYwMDg4LDE4Ni40NzQ1MDQgNTAuNjI5MTU1MywxODUuMjgxMTQ0IDUxLjI0ODA5MTIsMTg0LjcwNjcyIEM1MS44Nzc2MjU0LDE4NC4xNDA3NzUgNTMuMDM0OTUxMiwxODQuNDA1NzMxIDUzLjg3NDMzMDIsMTg1LjI5ODEwMSBDNTQuNzExNTg5MiwxODYuMjAxMDY5IDU0Ljg3NDgwMTksMTg3LjM4NTk1IDU0LjIzNjc4OTIsMTg3Ljk1ODI1NCBaIE01OC41NTYyNDEzLDE5NS4xNDYzNDcgQzU3Ljc3MTk3MzIsMTk1LjY5MTA5NiA1Ni40ODk1ODg2LDE5NS4xODAyNjEgNTUuNjk2ODQxNywxOTQuMDQyMDEzIEM1NC45MTI1NzMzLDE5Mi45MDM3NjQgNTQuOTEyNTczMywxOTEuNTM4NzEzIDU1LjcxMzc5OSwxOTAuOTkxODQ1IEM1Ni41MDg2NjUxLDE5MC40NDQ5NzcgNTcuNzcxOTczMiwxOTAuOTM2NzM1IDU4LjU3NTMxODEsMTkyLjA2NjUwNSBDNTkuMzU3NDY2OSwxOTMuMjIzODMgNTkuMzU3NDY2OSwxOTQuNTg4ODggNTguNTU2MjQxMywxOTUuMTQ2MzQ3IFogTTY1Ljg2MTM1OTIsMjAzLjQ3MTE3NCBDNjUuMTU5NzU3MSwyMDQuMjQ0ODQ2IDYzLjY2NTQwODMsMjA0LjAzNzEyIDYyLjU3MTY3MTcsMjAyLjk4MTUzOCBDNjEuNDUyNDk5OSwyMDEuOTQ5MjcgNjEuMTQwOTEyMiwyMDAuNDg0NTk2IDYxLjg0NDYzNDEsMTk5LjcxMDkyNiBDNjIuNTU0NzE0NiwxOTguOTM1MTM3IDY0LjA1NzU0MjIsMTk5LjE1MzQ2IDY1LjE1OTc1NzEsMjAwLjIwMDU2NCBDNjYuMjcwNDUwNiwyMDEuMjMwNzEyIDY2LjYwOTU5MzYsMjAyLjcwNTk4NCA2NS44NjEzNTkyLDIwMy40NzExNzQgWiBNNzUuMzAyNTE1MSwyMDYuMjgxNTQyIEM3NC45OTMwNDc0LDIwNy4yODQxMzQgNzMuNTUzODA5LDIwNy43Mzk4NTcgNzIuMTAzOTcyNCwyMDcuMzEzODA5IEM3MC42NTYyNTU2LDIwNi44NzUwNDMgNjkuNzA4Nzc0OCwyMDUuNzAwNzYxIDcwLjAwMTI4NTcsMjA0LjY4NzU3MSBDNzAuMzAyMjc1LDIwMy42Nzg2MjEgNzEuNzQ3ODcyMSwyMDMuMjAzODIgNzMuMjA4MzA2OSwyMDMuNjU5NTQzIEM3NC42NTM5MDQxLDIwNC4wOTYxOSA3NS42MDM1MDQ4LDIwNS4yNjE5OTQgNzUuMzAyNTE1MSwyMDYuMjgxNTQyIFogTTg2LjA0Njk0NywyMDcuNDczNjI3IEM4Ni4wODI5ODA2LDIwOC41MjkyMDkgODQuODUzNTg3MSwyMDkuNDA0NjIyIDgzLjMzMTY4MjksMjA5LjQyMzcgQzgxLjgwMTMsMjA5LjQ1NzYxNCA4MC41NjM0MjgsMjA4LjYwMzM5OCA4MC41NDY0NzA4LDIwNy41NjQ3NzIgQzgwLjU0NjQ3MDgsMjA2LjQ5ODU5MSA4MS43NDgzMDg4LDIwNS42MzE2NTcgODMuMjc4NjkxNywyMDUuNjA2MjIxIEM4NC44MDA1OTYyLDIwNS41NzY1NDYgODYuMDQ2OTQ3LDIwNi40MjQ0MDMgODYuMDQ2OTQ3LDIwNy40NzM2MjcgWiBNOTYuNjAyMTQ3MSwyMDcuMDY5MDIzIEM5Ni43ODQ0MzY2LDIwOC4wOTkxNzEgOTUuNzI2NzM0MSwyMDkuMTU2ODcyIDk0LjIxNTQyOCwyMDkuNDM4Nzg1IEM5Mi43Mjk1NTc3LDIwOS43MTAwOTkgOTEuMzUzOTA4NiwyMDkuMDc0MjA2IDkxLjE2NTI2MDMsMjA4LjA1MjUzOCBDOTAuOTgwODUxNSwyMDYuOTk2OTU1IDkyLjA1NzYzMDYsMjA1LjkzOTI1MyA5My41NDEzODEzLDIwNS42NjU4MiBDOTUuMDU0ODA3LDIwNS40MDI5ODQgOTYuNDA5MjU5NiwyMDYuMDIxOTE5IDk2LjYwMjE0NzEsMjA3LjA2OTAyMyBaXCIsXG4gICAgZmlsbDogXCIjMTYxNjE0XCJcbiAgfSkpKTtcbn1cbnZhciB0eXBlX2dpdGh1Yl9kZWZhdWx0ID0gU3ZnVHlwZUdpdEh1YjtcblxuLy8gc3JjL2NvbXBvbmVudHMvZW9pLnRzeFxudmFyIEVPSSA9ICh7IGJsb2NrLCBpbmxpbmUsIGNsYXNzTmFtZSB9KSA9PiB7XG4gIHZhciBfYSwgX2IsIF9jO1xuICBjb25zdCB7IGNvbXBvbmVudHMgfSA9IHVzZU5vdGlvbkNvbnRleHQoKTtcbiAgY29uc3QgeyBvcmlnaW5hbF91cmwsIGF0dHJpYnV0ZXMsIGRvbWFpbiB9ID0gKGJsb2NrID09IG51bGwgPyB2b2lkIDAgOiBibG9jay5mb3JtYXQpIHx8IHt9O1xuICBpZiAoIW9yaWdpbmFsX3VybCB8fCAhYXR0cmlidXRlcykge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGNvbnN0IHRpdGxlID0gKF9hID0gYXR0cmlidXRlcy5maW5kKChhdHRyKSA9PiBhdHRyLmlkID09PSBcInRpdGxlXCIpKSA9PSBudWxsID8gdm9pZCAwIDogX2EudmFsdWVzWzBdO1xuICBsZXQgb3duZXIgPSAoX2IgPSBhdHRyaWJ1dGVzLmZpbmQoKGF0dHIpID0+IGF0dHIuaWQgPT09IFwib3duZXJcIikpID09IG51bGwgPyB2b2lkIDAgOiBfYi52YWx1ZXNbMF07XG4gIGNvbnN0IGxhc3RVcGRhdGVkQXQgPSAoX2MgPSBhdHRyaWJ1dGVzLmZpbmQoKGF0dHIpID0+IGF0dHIuaWQgPT09IFwidXBkYXRlZF9hdFwiKSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9jLnZhbHVlc1swXTtcbiAgY29uc3QgbGFzdFVwZGF0ZWQgPSBsYXN0VXBkYXRlZEF0ID8gZm9ybWF0Tm90aW9uRGF0ZVRpbWUobGFzdFVwZGF0ZWRBdCkgOiBudWxsO1xuICBsZXQgZXh0ZXJuYWxJbWFnZTtcbiAgc3dpdGNoIChkb21haW4pIHtcbiAgICBjYXNlIFwiZ2l0aHViLmNvbVwiOlxuICAgICAgZXh0ZXJuYWxJbWFnZSA9IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDI3LmNyZWF0ZUVsZW1lbnQodHlwZV9naXRodWJfZGVmYXVsdCwgbnVsbCk7XG4gICAgICBpZiAob3duZXIpIHtcbiAgICAgICAgY29uc3QgcGFydHMgPSBvd25lci5zcGxpdChcIi9cIik7XG4gICAgICAgIG93bmVyID0gcGFydHNbcGFydHMubGVuZ3RoIC0gMV07XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgaWYgKHRydWUpIHtcbiAgICAgICAgY29uc29sZS5sb2coYFVuc3VwcG9ydGVkIGV4dGVybmFsX29iamVjdF9pbnN0YW5jZSBkb21haW4gXCIke2RvbWFpbn1cImAsIEpTT04uc3RyaW5naWZ5KGJsb2NrLCBudWxsLCAyKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgfVxuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0MjcuY3JlYXRlRWxlbWVudChjb21wb25lbnRzLkxpbmssIHtcbiAgICB0YXJnZXQ6IFwiX2JsYW5rXCIsXG4gICAgcmVsOiBcIm5vb3BlbmVyIG5vcmVmZXJyZXJcIixcbiAgICBocmVmOiBvcmlnaW5hbF91cmwsXG4gICAgY2xhc3NOYW1lOiBjcyhcIm5vdGlvbi1leHRlcm5hbFwiLCBpbmxpbmUgPyBcIm5vdGlvbi1leHRlcm5hbC1tZW50aW9uXCIgOiBcIm5vdGlvbi1leHRlcm5hbC1ibG9jayBub3Rpb24tcm93XCIsIGNsYXNzTmFtZSlcbiAgfSwgZXh0ZXJuYWxJbWFnZSAmJiAvKiBAX19QVVJFX18gKi8gUmVhY3QyNy5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwibm90aW9uLWV4dGVybmFsLWltYWdlXCJcbiAgfSwgZXh0ZXJuYWxJbWFnZSksIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDI3LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJub3Rpb24tZXh0ZXJuYWwtZGVzY3JpcHRpb25cIlxuICB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3QyNy5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwibm90aW9uLWV4dGVybmFsLXRpdGxlXCJcbiAgfSwgdGl0bGUpLCAob3duZXIgfHwgbGFzdFVwZGF0ZWQpICYmIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDI3LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJub3Rpb24tZXh0ZXJuYWwtc3VidGl0bGVcIlxuICB9LCBvd25lciAmJiAvKiBAX19QVVJFX18gKi8gUmVhY3QyNy5jcmVhdGVFbGVtZW50KFwic3BhblwiLCBudWxsLCBvd25lciksIG93bmVyICYmIGxhc3RVcGRhdGVkICYmIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDI3LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIG51bGwsIFwiIFxcdTIwMjIgXCIpLCBsYXN0VXBkYXRlZCAmJiAvKiBAX19QVVJFX18gKi8gUmVhY3QyNy5jcmVhdGVFbGVtZW50KFwic3BhblwiLCBudWxsLCBcIlVwZGF0ZWQgXCIsIGxhc3RVcGRhdGVkKSkpKTtcbn07XG5cbi8vIHNyYy9jb21wb25lbnRzL3RleHQudHN4XG52YXIgVGV4dCA9ICh7IHZhbHVlLCBibG9jaywgbGlua1Byb3BzLCBsaW5rUHJvdG9jb2wgfSkgPT4ge1xuICBjb25zdCB7IGNvbXBvbmVudHMsIHJlY29yZE1hcCwgbWFwUGFnZVVybCwgbWFwSW1hZ2VVcmwsIHJvb3REb21haW4gfSA9IHVzZU5vdGlvbkNvbnRleHQoKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDI4LmNyZWF0ZUVsZW1lbnQoUmVhY3QyOC5GcmFnbWVudCwgbnVsbCwgdmFsdWUgPT0gbnVsbCA/IHZvaWQgMCA6IHZhbHVlLm1hcCgoW3RleHQsIGRlY29yYXRpb25zXSwgaW5kZXgpID0+IHtcbiAgICBpZiAoIWRlY29yYXRpb25zKSB7XG4gICAgICBpZiAodGV4dCA9PT0gXCIsXCIpIHtcbiAgICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDI4LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICAgICAgICBrZXk6IGluZGV4LFxuICAgICAgICAgIHN0eWxlOiB7IHBhZGRpbmc6IFwiMC41ZW1cIiB9XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDI4LmNyZWF0ZUVsZW1lbnQoUmVhY3QyOC5GcmFnbWVudCwge1xuICAgICAgICAgIGtleTogaW5kZXhcbiAgICAgICAgfSwgdGV4dCk7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGZvcm1hdHRlZCA9IGRlY29yYXRpb25zLnJlZHVjZSgoZWxlbWVudCwgZGVjb3JhdG9yKSA9PiB7XG4gICAgICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lO1xuICAgICAgc3dpdGNoIChkZWNvcmF0b3JbMF0pIHtcbiAgICAgICAgY2FzZSBcInBcIjoge1xuICAgICAgICAgIGNvbnN0IGJsb2NrSWQgPSBkZWNvcmF0b3JbMV07XG4gICAgICAgICAgY29uc3QgbGlua2VkQmxvY2sgPSAoX2EgPSByZWNvcmRNYXAuYmxvY2tbYmxvY2tJZF0pID09IG51bGwgPyB2b2lkIDAgOiBfYS52YWx1ZTtcbiAgICAgICAgICBpZiAoIWxpbmtlZEJsb2NrKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnXCJwXCIgbWlzc2luZyBibG9jaycsIGJsb2NrSWQpO1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3QyOC5jcmVhdGVFbGVtZW50KGNvbXBvbmVudHMuUGFnZUxpbmssIHtcbiAgICAgICAgICAgIGNsYXNzTmFtZTogXCJub3Rpb24tbGlua1wiLFxuICAgICAgICAgICAgaHJlZjogbWFwUGFnZVVybChibG9ja0lkKVxuICAgICAgICAgIH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDI4LmNyZWF0ZUVsZW1lbnQoUGFnZVRpdGxlLCB7XG4gICAgICAgICAgICBibG9jazogbGlua2VkQmxvY2tcbiAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcIlxcdTIwMjNcIjoge1xuICAgICAgICAgIGNvbnN0IGxpbmtUeXBlID0gZGVjb3JhdG9yWzFdWzBdO1xuICAgICAgICAgIGNvbnN0IGlkID0gZGVjb3JhdG9yWzFdWzFdO1xuICAgICAgICAgIHN3aXRjaCAobGlua1R5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJ1XCI6IHtcbiAgICAgICAgICAgICAgY29uc3QgdXNlciA9IChfYiA9IHJlY29yZE1hcC5ub3Rpb25fdXNlcltpZF0pID09IG51bGwgPyB2b2lkIDAgOiBfYi52YWx1ZTtcbiAgICAgICAgICAgICAgaWYgKCF1c2VyKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1wiXFx1MjAyM1wiIG1pc3NpbmcgdXNlcicsIGlkKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBjb25zdCBuYW1lID0gW3VzZXIuZ2l2ZW5fbmFtZSwgdXNlci5mYW1pbHlfbmFtZV0uZmlsdGVyKEJvb2xlYW4pLmpvaW4oXCIgXCIpO1xuICAgICAgICAgICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0MjguY3JlYXRlRWxlbWVudChHcmFjZWZ1bEltYWdlLCB7XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBcIm5vdGlvbi11c2VyXCIsXG4gICAgICAgICAgICAgICAgc3JjOiBtYXBJbWFnZVVybCh1c2VyLnByb2ZpbGVfcGhvdG8sIGJsb2NrKSxcbiAgICAgICAgICAgICAgICBhbHQ6IG5hbWVcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICAgIGNvbnN0IGxpbmtlZEJsb2NrID0gKF9jID0gcmVjb3JkTWFwLmJsb2NrW2lkXSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9jLnZhbHVlO1xuICAgICAgICAgICAgICBpZiAoIWxpbmtlZEJsb2NrKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1wiXFx1MjAyM1wiIG1pc3NpbmcgYmxvY2snLCBsaW5rVHlwZSwgaWQpO1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3QyOC5jcmVhdGVFbGVtZW50KGNvbXBvbmVudHMuUGFnZUxpbmssIF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe1xuICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogXCJub3Rpb24tbGlua1wiLFxuICAgICAgICAgICAgICAgIGhyZWY6IG1hcFBhZ2VVcmwoaWQpXG4gICAgICAgICAgICAgIH0sIGxpbmtQcm9wcyksIHtcbiAgICAgICAgICAgICAgICB0YXJnZXQ6IFwiX2JsYW5rXCIsXG4gICAgICAgICAgICAgICAgcmVsOiBcIm5vb3BlbmVyIG5vcmVmZXJyZXJcIlxuICAgICAgICAgICAgICB9KSwgLyogQF9fUFVSRV9fICovIFJlYWN0MjguY3JlYXRlRWxlbWVudChQYWdlVGl0bGUsIHtcbiAgICAgICAgICAgICAgICBibG9jazogbGlua2VkQmxvY2tcbiAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXNlIFwiaFwiOlxuICAgICAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3QyOC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7XG4gICAgICAgICAgICBjbGFzc05hbWU6IGBub3Rpb24tJHtkZWNvcmF0b3JbMV19YFxuICAgICAgICAgIH0sIGVsZW1lbnQpO1xuICAgICAgICBjYXNlIFwiY1wiOlxuICAgICAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3QyOC5jcmVhdGVFbGVtZW50KFwiY29kZVwiLCB7XG4gICAgICAgICAgICBjbGFzc05hbWU6IFwibm90aW9uLWlubGluZS1jb2RlXCJcbiAgICAgICAgICB9LCBlbGVtZW50KTtcbiAgICAgICAgY2FzZSBcImJcIjpcbiAgICAgICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0MjguY3JlYXRlRWxlbWVudChcImJcIiwgbnVsbCwgZWxlbWVudCk7XG4gICAgICAgIGNhc2UgXCJpXCI6XG4gICAgICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDI4LmNyZWF0ZUVsZW1lbnQoXCJlbVwiLCBudWxsLCBlbGVtZW50KTtcbiAgICAgICAgY2FzZSBcInNcIjpcbiAgICAgICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0MjguY3JlYXRlRWxlbWVudChcInNcIiwgbnVsbCwgZWxlbWVudCk7XG4gICAgICAgIGNhc2UgXCJfXCI6XG4gICAgICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDI4LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICAgICAgICAgIGNsYXNzTmFtZTogXCJub3Rpb24taW5saW5lLXVuZGVyc2NvcmVcIlxuICAgICAgICAgIH0sIGVsZW1lbnQpO1xuICAgICAgICBjYXNlIFwiZVwiOlxuICAgICAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3QyOC5jcmVhdGVFbGVtZW50KGNvbXBvbmVudHMuRXF1YXRpb24sIHtcbiAgICAgICAgICAgIG1hdGg6IGRlY29yYXRvclsxXSxcbiAgICAgICAgICAgIGlubGluZTogdHJ1ZVxuICAgICAgICAgIH0pO1xuICAgICAgICBjYXNlIFwibVwiOlxuICAgICAgICAgIHJldHVybiBlbGVtZW50O1xuICAgICAgICBjYXNlIFwiYVwiOiB7XG4gICAgICAgICAgY29uc3QgdiA9IGRlY29yYXRvclsxXTtcbiAgICAgICAgICBjb25zdCBwYXRobmFtZSA9IHYuc3Vic3RyKDEpO1xuICAgICAgICAgIGNvbnN0IGlkID0gcGFyc2VQYWdlSWQocGF0aG5hbWUsIHsgdXVpZDogdHJ1ZSB9KTtcbiAgICAgICAgICBpZiAoKHZbMF0gPT09IFwiL1wiIHx8IHYuaW5jbHVkZXMocm9vdERvbWFpbikpICYmIGlkKSB7XG4gICAgICAgICAgICBjb25zdCBocmVmID0gdi5pbmNsdWRlcyhyb290RG9tYWluKSA/IHYgOiBgJHttYXBQYWdlVXJsKGlkKX0ke2dldEhhc2hGcmFnbWVudFZhbHVlKHYpfWA7XG4gICAgICAgICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0MjguY3JlYXRlRWxlbWVudChjb21wb25lbnRzLlBhZ2VMaW5rLCBfX3NwcmVhZFZhbHVlcyh7XG4gICAgICAgICAgICAgIGNsYXNzTmFtZTogXCJub3Rpb24tbGlua1wiLFxuICAgICAgICAgICAgICBocmVmXG4gICAgICAgICAgICB9LCBsaW5rUHJvcHMpLCBlbGVtZW50KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDI4LmNyZWF0ZUVsZW1lbnQoY29tcG9uZW50cy5MaW5rLCBfX3NwcmVhZFZhbHVlcyh7XG4gICAgICAgICAgICAgIGNsYXNzTmFtZTogXCJub3Rpb24tbGlua1wiLFxuICAgICAgICAgICAgICBocmVmOiBsaW5rUHJvdG9jb2wgPyBgJHtsaW5rUHJvdG9jb2x9OiR7ZGVjb3JhdG9yWzFdfWAgOiBkZWNvcmF0b3JbMV1cbiAgICAgICAgICAgIH0sIGxpbmtQcm9wcyksIGVsZW1lbnQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXNlIFwiZFwiOiB7XG4gICAgICAgICAgY29uc3QgdiA9IGRlY29yYXRvclsxXTtcbiAgICAgICAgICBjb25zdCB0eXBlID0gdiA9PSBudWxsID8gdm9pZCAwIDogdi50eXBlO1xuICAgICAgICAgIGlmICh0eXBlID09PSBcImRhdGVcIikge1xuICAgICAgICAgICAgY29uc3Qgc3RhcnREYXRlID0gdi5zdGFydF9kYXRlO1xuICAgICAgICAgICAgcmV0dXJuIGZvcm1hdERhdGUoc3RhcnREYXRlKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09IFwiZGF0ZXJhbmdlXCIpIHtcbiAgICAgICAgICAgIGNvbnN0IHN0YXJ0RGF0ZSA9IHYuc3RhcnRfZGF0ZTtcbiAgICAgICAgICAgIGNvbnN0IGVuZERhdGUgPSB2LmVuZF9kYXRlO1xuICAgICAgICAgICAgcmV0dXJuIGAke2Zvcm1hdERhdGUoc3RhcnREYXRlKX0gXFx1MjE5MiAke2Zvcm1hdERhdGUoZW5kRGF0ZSl9YDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJ1XCI6IHtcbiAgICAgICAgICBjb25zdCB1c2VySWQgPSBkZWNvcmF0b3JbMV07XG4gICAgICAgICAgY29uc3QgdXNlciA9IChfZCA9IHJlY29yZE1hcC5ub3Rpb25fdXNlclt1c2VySWRdKSA9PSBudWxsID8gdm9pZCAwIDogX2QudmFsdWU7XG4gICAgICAgICAgaWYgKCF1c2VyKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIm1pc3NpbmcgdXNlclwiLCB1c2VySWQpO1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IG5hbWUgPSBbdXNlci5naXZlbl9uYW1lLCB1c2VyLmZhbWlseV9uYW1lXS5maWx0ZXIoQm9vbGVhbikuam9pbihcIiBcIik7XG4gICAgICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDI4LmNyZWF0ZUVsZW1lbnQoR3JhY2VmdWxJbWFnZSwge1xuICAgICAgICAgICAgY2xhc3NOYW1lOiBcIm5vdGlvbi11c2VyXCIsXG4gICAgICAgICAgICBzcmM6IG1hcEltYWdlVXJsKHVzZXIucHJvZmlsZV9waG90bywgYmxvY2spLFxuICAgICAgICAgICAgYWx0OiBuYW1lXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcImVvaVwiOiB7XG4gICAgICAgICAgY29uc3QgYmxvY2tJZCA9IGRlY29yYXRvclsxXTtcbiAgICAgICAgICBjb25zdCBleHRlcm5hbE9iamVjdEluc3RhbmNlID0gKF9lID0gcmVjb3JkTWFwLmJsb2NrW2Jsb2NrSWRdKSA9PSBudWxsID8gdm9pZCAwIDogX2UudmFsdWU7XG4gICAgICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDI4LmNyZWF0ZUVsZW1lbnQoRU9JLCB7XG4gICAgICAgICAgICBibG9jazogZXh0ZXJuYWxPYmplY3RJbnN0YW5jZSxcbiAgICAgICAgICAgIGlubGluZTogdHJ1ZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgaWYgKHRydWUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwidW5zdXBwb3J0ZWQgdGV4dCBmb3JtYXRcIiwgZGVjb3JhdG9yKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgICB9XG4gICAgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0MjguY3JlYXRlRWxlbWVudChSZWFjdDI4LkZyYWdtZW50LCBudWxsLCB0ZXh0KSk7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDI4LmNyZWF0ZUVsZW1lbnQoUmVhY3QyOC5GcmFnbWVudCwge1xuICAgICAga2V5OiBpbmRleFxuICAgIH0sIGZvcm1hdHRlZCk7XG4gIH0pKTtcbn07XG5cbi8vIHNyYy9jb21wb25lbnRzL2hlYWRlci50c3hcbmltcG9ydCAqIGFzIFJlYWN0MzMgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyB1c2VIb3RrZXlzIH0gZnJvbSBcInJlYWN0LWhvdGtleXMtaG9va1wiO1xuaW1wb3J0IHsgZ2V0UGFnZUJyZWFkY3J1bWJzIH0gZnJvbSBcIm5vdGlvbi11dGlsc1wiO1xuXG4vLyBzcmMvaWNvbnMvc2VhcmNoLWljb24udHN4XG5pbXBvcnQgKiBhcyBSZWFjdDI5IGZyb20gXCJyZWFjdFwiO1xudmFyIFNlYXJjaEljb24gPSAocHJvcHMpID0+IHtcbiAgY29uc3QgX2EgPSBwcm9wcywgeyBjbGFzc05hbWUgfSA9IF9hLCByZXN0ID0gX19vYmpSZXN0KF9hLCBbXCJjbGFzc05hbWVcIl0pO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0MjkuY3JlYXRlRWxlbWVudChcInN2Z1wiLCBfX3NwcmVhZFZhbHVlcyh7XG4gICAgY2xhc3NOYW1lOiBjcyhcIm5vdGlvbi1pY29uXCIsIGNsYXNzTmFtZSksXG4gICAgdmlld0JveDogXCIwIDAgMTcgMTdcIlxuICB9LCByZXN0KSwgLyogQF9fUFVSRV9fICovIFJlYWN0MjkuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgIGQ6IFwiTTYuNzgwMjcgMTMuNjcyOUM4LjI0ODA1IDEzLjY3MjkgOS42MDE1NiAxMy4xOTgyIDEwLjcwOSAxMi40MDcyTDE0Ljg3NSAxNi41NzMyQzE1LjA2ODQgMTYuNzY2NiAxNS4zMjMyIDE2Ljg2MzMgMTUuNTk1NyAxNi44NjMzQzE2LjE2NyAxNi44NjMzIDE2LjU3MTMgMTYuNDIzOCAxNi41NzEzIDE1Ljg2MTNDMTYuNTcxMyAxNS41OTc3IDE2LjQ4MzQgMTUuMzUxNiAxNi4yOSAxNS4xNTgyTDEyLjE1MDQgMTEuMDA5OEMxMy4wMjA1IDkuODY3MTkgMTMuNTM5MSA4LjQ1MjE1IDEzLjUzOTEgNi45MTQwNkMxMy41MzkxIDMuMTk2MjkgMTAuNDk4IDAuMTU1MjczIDYuNzgwMjcgMC4xNTUyNzNDMy4wNjI1IDAuMTU1MjczIDAuMDIxNDg0NCAzLjE5NjI5IDAuMDIxNDg0NCA2LjkxNDA2QzAuMDIxNDg0NCAxMC42MzE4IDMuMDYyNSAxMy42NzI5IDYuNzgwMjcgMTMuNjcyOVpNNi43ODAyNyAxMi4yMTM5QzMuODc5ODggMTIuMjEzOSAxLjQ4MDQ3IDkuODE0NDUgMS40ODA0NyA2LjkxNDA2QzEuNDgwNDcgNC4wMTM2NyAzLjg3OTg4IDEuNjE0MjYgNi43ODAyNyAxLjYxNDI2QzkuNjgwNjYgMS42MTQyNiAxMi4wODAxIDQuMDEzNjcgMTIuMDgwMSA2LjkxNDA2QzEyLjA4MDEgOS44MTQ0NSA5LjY4MDY2IDEyLjIxMzkgNi43ODAyNyAxMi4yMTM5WlwiXG4gIH0pKTtcbn07XG5cbi8vIHNyYy9jb21wb25lbnRzL3NlYXJjaC1kaWFsb2cudHN4XG52YXIgaW1wb3J0X2xvZGFzaCA9IF9fdG9FU00ocmVxdWlyZV9sb2Rhc2goKSwgMSk7XG5pbXBvcnQgKiBhcyBSZWFjdDMyIGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgZ2V0QmxvY2tUaXRsZSBhcyBnZXRCbG9ja1RpdGxlMywgZ2V0QmxvY2tQYXJlbnRQYWdlIH0gZnJvbSBcIm5vdGlvbi11dGlsc1wiO1xuXG4vLyBzcmMvaWNvbnMvY2xlYXItaWNvbi50c3hcbmltcG9ydCAqIGFzIFJlYWN0MzAgZnJvbSBcInJlYWN0XCI7XG52YXIgQ2xlYXJJY29uID0gKHByb3BzKSA9PiB7XG4gIGNvbnN0IF9hID0gcHJvcHMsIHsgY2xhc3NOYW1lIH0gPSBfYSwgcmVzdCA9IF9fb2JqUmVzdChfYSwgW1wiY2xhc3NOYW1lXCJdKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDMwLmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwgX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7XG4gICAgY2xhc3NOYW1lOiBjcyhcIm5vdGlvbi1pY29uXCIsIGNsYXNzTmFtZSlcbiAgfSwgcmVzdCksIHtcbiAgICB2aWV3Qm94OiBcIjAgMCAzMCAzMFwiXG4gIH0pLCAvKiBAX19QVVJFX18gKi8gUmVhY3QzMC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgZDogXCJNMTUsMEM2LjcxNiwwLDAsNi43MTYsMCwxNXM2LjcxNiwxNSwxNSwxNXMxNS02LjcxNiwxNS0xNVMyMy4yODQsMCwxNSwweiBNMjIsMjAuNkwyMC42LDIyTDE1LDE2LjRMOS40LDIyTDgsMjAuNmw1LjYtNS42IEw4LDkuNEw5LjQsOGw1LjYsNS42TDIwLjYsOEwyMiw5LjRMMTYuNCwxNUwyMiwyMC42elwiXG4gIH0pKTtcbn07XG5cbi8vIHNyYy9pY29ucy9sb2FkaW5nLWljb24udHN4XG5pbXBvcnQgKiBhcyBSZWFjdDMxIGZyb20gXCJyZWFjdFwiO1xudmFyIExvYWRpbmdJY29uID0gKHByb3BzKSA9PiB7XG4gIGNvbnN0IF9hID0gcHJvcHMsIHsgY2xhc3NOYW1lIH0gPSBfYSwgcmVzdCA9IF9fb2JqUmVzdChfYSwgW1wiY2xhc3NOYW1lXCJdKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDMxLmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwgX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7XG4gICAgY2xhc3NOYW1lOiBjcyhcIm5vdGlvbi1pY29uXCIsIGNsYXNzTmFtZSlcbiAgfSwgcmVzdCksIHtcbiAgICB2aWV3Qm94OiBcIjAgMCAyNCAyNFwiXG4gIH0pLCAvKiBAX19QVVJFX18gKi8gUmVhY3QzMS5jcmVhdGVFbGVtZW50KFwiZGVmc1wiLCBudWxsLCAvKiBAX19QVVJFX18gKi8gUmVhY3QzMS5jcmVhdGVFbGVtZW50KFwibGluZWFyR3JhZGllbnRcIiwge1xuICAgIHgxOiBcIjI4LjE1NDI5NjklXCIsXG4gICAgeTE6IFwiNjMuNzQwMjM0NCVcIixcbiAgICB4MjogXCI3NC42Mjg5MDYyJVwiLFxuICAgIHkyOiBcIjE3Ljc4MzIwMzElXCIsXG4gICAgaWQ6IFwibGluZWFyR3JhZGllbnQtMVwiXG4gIH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDMxLmNyZWF0ZUVsZW1lbnQoXCJzdG9wXCIsIHtcbiAgICBzdG9wQ29sb3I6IFwicmdiYSgxNjQsIDE2NCwgMTY0LCAxKVwiLFxuICAgIG9mZnNldDogXCIwJVwiXG4gIH0pLCAvKiBAX19QVVJFX18gKi8gUmVhY3QzMS5jcmVhdGVFbGVtZW50KFwic3RvcFwiLCB7XG4gICAgc3RvcENvbG9yOiBcInJnYmEoMTY0LCAxNjQsIDE2NCwgMClcIixcbiAgICBzdG9wT3BhY2l0eTogXCIwXCIsXG4gICAgb2Zmc2V0OiBcIjEwMCVcIlxuICB9KSkpLCAvKiBAX19QVVJFX18gKi8gUmVhY3QzMS5jcmVhdGVFbGVtZW50KFwiZ1wiLCB7XG4gICAgaWQ6IFwiUGFnZS0xXCIsXG4gICAgc3Ryb2tlOiBcIm5vbmVcIixcbiAgICBzdHJva2VXaWR0aDogXCIxXCIsXG4gICAgZmlsbDogXCJub25lXCJcbiAgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0MzEuY3JlYXRlRWxlbWVudChcImdcIiwge1xuICAgIHRyYW5zZm9ybTogXCJ0cmFuc2xhdGUoLTIzNi4wMDAwMDAsIC0yODYuMDAwMDAwKVwiXG4gIH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDMxLmNyZWF0ZUVsZW1lbnQoXCJnXCIsIHtcbiAgICB0cmFuc2Zvcm06IFwidHJhbnNsYXRlKDIzOC4wMDAwMDAsIDI4Ni4wMDAwMDApXCJcbiAgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0MzEuY3JlYXRlRWxlbWVudChcImNpcmNsZVwiLCB7XG4gICAgaWQ6IFwiT3ZhbC0yXCIsXG4gICAgc3Ryb2tlOiBcInVybCgjbGluZWFyR3JhZGllbnQtMSlcIixcbiAgICBzdHJva2VXaWR0aDogXCI0XCIsXG4gICAgY3g6IFwiMTBcIixcbiAgICBjeTogXCIxMlwiLFxuICAgIHI6IFwiMTBcIlxuICB9KSwgLyogQF9fUFVSRV9fICovIFJlYWN0MzEuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgIGQ6IFwiTTEwLDIgQzQuNDc3MTUyNSwyIDAsNi40NzcxNTI1IDAsMTJcIixcbiAgICBpZDogXCJPdmFsLTJcIixcbiAgICBzdHJva2U6IFwicmdiYSgxNjQsIDE2NCwgMTY0LCAxKVwiLFxuICAgIHN0cm9rZVdpZHRoOiBcIjRcIlxuICB9KSwgLyogQF9fUFVSRV9fICovIFJlYWN0MzEuY3JlYXRlRWxlbWVudChcInJlY3RcIiwge1xuICAgIGlkOiBcIlJlY3RhbmdsZS0xXCIsXG4gICAgZmlsbDogXCJyZ2JhKDE2NCwgMTY0LCAxNjQsIDEpXCIsXG4gICAgeDogXCI4XCIsXG4gICAgeTogXCIwXCIsXG4gICAgd2lkdGg6IFwiNFwiLFxuICAgIGhlaWdodDogXCI0XCIsXG4gICAgcng6IFwiOFwiXG4gIH0pKSkpKTtcbn07XG5cbi8vIHNyYy9jb21wb25lbnRzL3NlYXJjaC1kaWFsb2cudHN4XG52YXIgU2VhcmNoRGlhbG9nID0gY2xhc3MgZXh0ZW5kcyBSZWFjdDMyLkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuICAgICAgcXVlcnk6IFwiXCIsXG4gICAgICBzZWFyY2hSZXN1bHQ6IG51bGwsXG4gICAgICBzZWFyY2hFcnJvcjogbnVsbFxuICAgIH07XG4gICAgdGhpcy5fb25BZnRlck9wZW4gPSAoKSA9PiB7XG4gICAgICBpZiAodGhpcy5faW5wdXRSZWYuY3VycmVudCkge1xuICAgICAgICB0aGlzLl9pbnB1dFJlZi5jdXJyZW50LmZvY3VzKCk7XG4gICAgICB9XG4gICAgfTtcbiAgICB0aGlzLl9vbkNoYW5nZVF1ZXJ5ID0gKGUpID0+IHtcbiAgICAgIGNvbnN0IHF1ZXJ5ID0gZS50YXJnZXQudmFsdWU7XG4gICAgICB0aGlzLnNldFN0YXRlKHsgcXVlcnkgfSk7XG4gICAgICBpZiAoIXF1ZXJ5LnRyaW0oKSkge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHsgaXNMb2FkaW5nOiBmYWxzZSwgc2VhcmNoUmVzdWx0OiBudWxsLCBzZWFyY2hFcnJvcjogbnVsbCB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fc2VhcmNoKCk7XG4gICAgICB9XG4gICAgfTtcbiAgICB0aGlzLl9vbkNsZWFyUXVlcnkgPSAoKSA9PiB7XG4gICAgICB0aGlzLl9vbkNoYW5nZVF1ZXJ5KHsgdGFyZ2V0OiB7IHZhbHVlOiBcIlwiIH0gfSk7XG4gICAgfTtcbiAgICB0aGlzLl93YXJtdXBTZWFyY2ggPSAoKSA9PiBfX2FzeW5jKHRoaXMsIG51bGwsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICBjb25zdCB7IHNlYXJjaE5vdGlvbiwgcm9vdEJsb2NrSWQgfSA9IHRoaXMucHJvcHM7XG4gICAgICB5aWVsZCBzZWFyY2hOb3Rpb24oe1xuICAgICAgICBxdWVyeTogXCJcIixcbiAgICAgICAgYW5jZXN0b3JJZDogcm9vdEJsb2NrSWRcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHRoaXMuX3NlYXJjaEltcGwgPSAoKSA9PiBfX2FzeW5jKHRoaXMsIG51bGwsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICBjb25zdCB7IHNlYXJjaE5vdGlvbiwgcm9vdEJsb2NrSWQgfSA9IHRoaXMucHJvcHM7XG4gICAgICBjb25zdCB7IHF1ZXJ5IH0gPSB0aGlzLnN0YXRlO1xuICAgICAgaWYgKCFxdWVyeS50cmltKCkpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGlzTG9hZGluZzogZmFsc2UsIHNlYXJjaFJlc3VsdDogbnVsbCwgc2VhcmNoRXJyb3I6IG51bGwgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBpc0xvYWRpbmc6IHRydWUgfSk7XG4gICAgICBjb25zdCByZXN1bHQgPSB5aWVsZCBzZWFyY2hOb3Rpb24oe1xuICAgICAgICBxdWVyeSxcbiAgICAgICAgYW5jZXN0b3JJZDogcm9vdEJsb2NrSWRcbiAgICAgIH0pO1xuICAgICAgY29uc29sZS5sb2coXCJzZWFyY2hcIiwgcXVlcnksIHJlc3VsdCk7XG4gICAgICBsZXQgc2VhcmNoUmVzdWx0ID0gbnVsbDtcbiAgICAgIGxldCBzZWFyY2hFcnJvciA9IG51bGw7XG4gICAgICBpZiAocmVzdWx0LmVycm9yIHx8IHJlc3VsdC5lcnJvcklkKSB7XG4gICAgICAgIHNlYXJjaEVycm9yID0gcmVzdWx0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2VhcmNoUmVzdWx0ID0gX19zcHJlYWRWYWx1ZXMoe30sIHJlc3VsdCk7XG4gICAgICAgIGNvbnN0IHJlc3VsdHMgPSBzZWFyY2hSZXN1bHQucmVzdWx0cy5tYXAoKHJlc3VsdDIpID0+IHtcbiAgICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAgIGNvbnN0IGJsb2NrID0gKF9hID0gc2VhcmNoUmVzdWx0LnJlY29yZE1hcC5ibG9ja1tyZXN1bHQyLmlkXSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLnZhbHVlO1xuICAgICAgICAgIGlmICghYmxvY2spXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgY29uc3QgdGl0bGUgPSBnZXRCbG9ja1RpdGxlMyhibG9jaywgc2VhcmNoUmVzdWx0LnJlY29yZE1hcCk7XG4gICAgICAgICAgaWYgKCF0aXRsZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXN1bHQyLnRpdGxlID0gdGl0bGU7XG4gICAgICAgICAgcmVzdWx0Mi5ibG9jayA9IGJsb2NrO1xuICAgICAgICAgIHJlc3VsdDIucmVjb3JkTWFwID0gc2VhcmNoUmVzdWx0LnJlY29yZE1hcDtcbiAgICAgICAgICByZXN1bHQyLnBhZ2UgPSBnZXRCbG9ja1BhcmVudFBhZ2UoYmxvY2ssIHNlYXJjaFJlc3VsdC5yZWNvcmRNYXAsIHtcbiAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZVxuICAgICAgICAgIH0pIHx8IGJsb2NrO1xuICAgICAgICAgIGlmICghcmVzdWx0Mi5wYWdlLmlkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICgoX2IgPSByZXN1bHQyLmhpZ2hsaWdodCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9iLnRleHQpIHtcbiAgICAgICAgICAgIHJlc3VsdDIuaGlnaGxpZ2h0Lmh0bWwgPSByZXN1bHQyLmhpZ2hsaWdodC50ZXh0LnJlcGxhY2UoLzxnemtOZm9VVT4vZ2ksIFwiPGI+XCIpLnJlcGxhY2UoLzxcXC9nemtOZm9VVT4vZ2ksIFwiPC9iPlwiKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdDI7XG4gICAgICAgIH0pLmZpbHRlcihCb29sZWFuKTtcbiAgICAgICAgY29uc3Qgc2VhcmNoUmVzdWx0c01hcCA9IHJlc3VsdHMucmVkdWNlKChtYXAsIHJlc3VsdDIpID0+IF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe30sIG1hcCksIHtcbiAgICAgICAgICBbcmVzdWx0Mi5wYWdlLmlkXTogcmVzdWx0MlxuICAgICAgICB9KSwge30pO1xuICAgICAgICBzZWFyY2hSZXN1bHQucmVzdWx0cyA9IE9iamVjdC52YWx1ZXMoc2VhcmNoUmVzdWx0c01hcCk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5zdGF0ZS5xdWVyeSA9PT0gcXVlcnkpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGlzTG9hZGluZzogZmFsc2UsIHNlYXJjaFJlc3VsdCwgc2VhcmNoRXJyb3IgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5faW5wdXRSZWYgPSBSZWFjdDMyLmNyZWF0ZVJlZigpO1xuICB9XG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHRoaXMuX3NlYXJjaCA9ICgwLCBpbXBvcnRfbG9kYXNoLmRlZmF1bHQpKHRoaXMuX3NlYXJjaEltcGwuYmluZCh0aGlzKSwgMWUzKTtcbiAgICB0aGlzLl93YXJtdXBTZWFyY2goKTtcbiAgfVxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBpc09wZW4sIG9uQ2xvc2UgfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3QgeyBpc0xvYWRpbmcsIHF1ZXJ5LCBzZWFyY2hSZXN1bHQsIHNlYXJjaEVycm9yIH0gPSB0aGlzLnN0YXRlO1xuICAgIGNvbnN0IGhhc1F1ZXJ5ID0gISFxdWVyeS50cmltKCk7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDMyLmNyZWF0ZUVsZW1lbnQoTm90aW9uQ29udGV4dENvbnN1bWVyLCBudWxsLCAoY3R4MikgPT4ge1xuICAgICAgY29uc3QgeyBjb21wb25lbnRzLCBkZWZhdWx0UGFnZUljb24sIG1hcFBhZ2VVcmwgfSA9IGN0eDI7XG4gICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0MzIuY3JlYXRlRWxlbWVudChjb21wb25lbnRzLk1vZGFsLCB7XG4gICAgICAgIGlzT3BlbixcbiAgICAgICAgY29udGVudExhYmVsOiBcIlNlYXJjaFwiLFxuICAgICAgICBjbGFzc05hbWU6IFwibm90aW9uLXNlYXJjaFwiLFxuICAgICAgICBvdmVybGF5Q2xhc3NOYW1lOiBcIm5vdGlvbi1zZWFyY2gtb3ZlcmxheVwiLFxuICAgICAgICBvblJlcXVlc3RDbG9zZTogb25DbG9zZSxcbiAgICAgICAgb25BZnRlck9wZW46IHRoaXMuX29uQWZ0ZXJPcGVuXG4gICAgICB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3QzMi5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcInF1aWNrRmluZE1lbnVcIlxuICAgICAgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0MzIuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJzZWFyY2hCYXJcIlxuICAgICAgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0MzIuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJpbmxpbmVJY29uXCJcbiAgICAgIH0sIGlzTG9hZGluZyA/IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDMyLmNyZWF0ZUVsZW1lbnQoTG9hZGluZ0ljb24sIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcImxvYWRpbmdJY29uXCJcbiAgICAgIH0pIDogLyogQF9fUFVSRV9fICovIFJlYWN0MzIuY3JlYXRlRWxlbWVudChTZWFyY2hJY29uLCBudWxsKSksIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDMyLmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJzZWFyY2hJbnB1dFwiLFxuICAgICAgICBwbGFjZWhvbGRlcjogXCJTZWFyY2hcIixcbiAgICAgICAgdmFsdWU6IHF1ZXJ5LFxuICAgICAgICByZWY6IHRoaXMuX2lucHV0UmVmLFxuICAgICAgICBvbkNoYW5nZTogdGhpcy5fb25DaGFuZ2VRdWVyeVxuICAgICAgfSksIHF1ZXJ5ICYmIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDMyLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICByb2xlOiBcImJ1dHRvblwiLFxuICAgICAgICBjbGFzc05hbWU6IFwiY2xlYXJCdXR0b25cIixcbiAgICAgICAgb25DbGljazogdGhpcy5fb25DbGVhclF1ZXJ5XG4gICAgICB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3QzMi5jcmVhdGVFbGVtZW50KENsZWFySWNvbiwge1xuICAgICAgICBjbGFzc05hbWU6IFwiY2xlYXJJY29uXCJcbiAgICAgIH0pKSksIGhhc1F1ZXJ5ICYmIHNlYXJjaFJlc3VsdCAmJiAvKiBAX19QVVJFX18gKi8gUmVhY3QzMi5jcmVhdGVFbGVtZW50KFJlYWN0MzIuRnJhZ21lbnQsIG51bGwsIHNlYXJjaFJlc3VsdC5yZXN1bHRzLmxlbmd0aCA/IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDMyLmNyZWF0ZUVsZW1lbnQoTm90aW9uQ29udGV4dFByb3ZpZGVyLCBfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKHt9LCBjdHgyKSwge1xuICAgICAgICByZWNvcmRNYXA6IHNlYXJjaFJlc3VsdC5yZWNvcmRNYXBcbiAgICAgIH0pLCAvKiBAX19QVVJFX18gKi8gUmVhY3QzMi5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcInJlc3VsdHNQYW5lXCJcbiAgICAgIH0sIHNlYXJjaFJlc3VsdC5yZXN1bHRzLm1hcCgocmVzdWx0KSA9PiB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDMyLmNyZWF0ZUVsZW1lbnQoY29tcG9uZW50cy5QYWdlTGluaywge1xuICAgICAgICAgIGtleTogcmVzdWx0LmlkLFxuICAgICAgICAgIGNsYXNzTmFtZTogY3MoXCJyZXN1bHRcIiwgXCJub3Rpb24tcGFnZS1saW5rXCIpLFxuICAgICAgICAgIGhyZWY6IG1hcFBhZ2VVcmwocmVzdWx0LnBhZ2UuaWQsIHNlYXJjaFJlc3VsdC5yZWNvcmRNYXApXG4gICAgICAgIH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDMyLmNyZWF0ZUVsZW1lbnQoUGFnZVRpdGxlLCB7XG4gICAgICAgICAgYmxvY2s6IHJlc3VsdC5wYWdlLFxuICAgICAgICAgIGRlZmF1bHRJY29uOiBkZWZhdWx0UGFnZUljb25cbiAgICAgICAgfSksICgoX2EgPSByZXN1bHQuaGlnaGxpZ2h0KSA9PSBudWxsID8gdm9pZCAwIDogX2EuaHRtbCkgJiYgLyogQF9fUFVSRV9fICovIFJlYWN0MzIuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgICAgY2xhc3NOYW1lOiBcIm5vdGlvbi1zZWFyY2gtcmVzdWx0LWhpZ2hsaWdodFwiLFxuICAgICAgICAgIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MOiB7XG4gICAgICAgICAgICBfX2h0bWw6IHJlc3VsdC5oaWdobGlnaHQuaHRtbFxuICAgICAgICAgIH1cbiAgICAgICAgfSkpO1xuICAgICAgfSkpLCAvKiBAX19QVVJFX18gKi8gUmVhY3QzMi5jcmVhdGVFbGVtZW50KFwiZm9vdGVyXCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcInJlc3VsdHNGb290ZXJcIlxuICAgICAgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0MzIuY3JlYXRlRWxlbWVudChcImRpdlwiLCBudWxsLCAvKiBAX19QVVJFX18gKi8gUmVhY3QzMi5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJyZXN1bHRzQ291bnRcIlxuICAgICAgfSwgc2VhcmNoUmVzdWx0LnRvdGFsKSwgc2VhcmNoUmVzdWx0LnRvdGFsID09PSAxID8gXCIgcmVzdWx0XCIgOiBcIiByZXN1bHRzXCIpKSkgOiAvKiBAX19QVVJFX18gKi8gUmVhY3QzMi5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcIm5vUmVzdWx0c1BhbmVcIlxuICAgICAgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0MzIuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJub1Jlc3VsdHNcIlxuICAgICAgfSwgXCJObyByZXN1bHRzXCIpLCAvKiBAX19QVVJFX18gKi8gUmVhY3QzMi5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcIm5vUmVzdWx0c0RldGFpbFwiXG4gICAgICB9LCBcIlRyeSBkaWZmZXJlbnQgc2VhcmNoIHRlcm1zXCIpKSksIGhhc1F1ZXJ5ICYmICFzZWFyY2hSZXN1bHQgJiYgc2VhcmNoRXJyb3IgJiYgLyogQF9fUFVSRV9fICovIFJlYWN0MzIuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJub1Jlc3VsdHNQYW5lXCJcbiAgICAgIH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDMyLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwibm9SZXN1bHRzXCJcbiAgICAgIH0sIFwiU2VhcmNoIGVycm9yXCIpKSkpO1xuICAgIH0pO1xuICB9XG59O1xuXG4vLyBzcmMvY29tcG9uZW50cy9oZWFkZXIudHN4XG52YXIgSGVhZGVyID0gKHsgYmxvY2sgfSkgPT4ge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0MzMuY3JlYXRlRWxlbWVudChcImhlYWRlclwiLCB7XG4gICAgY2xhc3NOYW1lOiBcIm5vdGlvbi1oZWFkZXJcIlxuICB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3QzMy5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwibm90aW9uLW5hdi1oZWFkZXJcIlxuICB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3QzMy5jcmVhdGVFbGVtZW50KEJyZWFkY3J1bWJzLCB7XG4gICAgYmxvY2tcbiAgfSksIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDMzLmNyZWF0ZUVsZW1lbnQoU2VhcmNoLCB7XG4gICAgYmxvY2tcbiAgfSkpKTtcbn07XG52YXIgQnJlYWRjcnVtYnMgPSAoeyBibG9jaywgcm9vdE9ubHkgPSBmYWxzZSB9KSA9PiB7XG4gIGNvbnN0IHsgcmVjb3JkTWFwLCBtYXBQYWdlVXJsLCBjb21wb25lbnRzIH0gPSB1c2VOb3Rpb25Db250ZXh0KCk7XG4gIGNvbnN0IGJyZWFkY3J1bWJzID0gUmVhY3QzMy51c2VNZW1vKCgpID0+IHtcbiAgICBjb25zdCBicmVhZGNydW1iczIgPSBnZXRQYWdlQnJlYWRjcnVtYnMocmVjb3JkTWFwLCBibG9jay5pZCk7XG4gICAgaWYgKHJvb3RPbmx5KSB7XG4gICAgICByZXR1cm4gW2JyZWFkY3J1bWJzMlswXV0uZmlsdGVyKEJvb2xlYW4pO1xuICAgIH1cbiAgICByZXR1cm4gYnJlYWRjcnVtYnMyO1xuICB9LCBbcmVjb3JkTWFwLCBibG9jay5pZCwgcm9vdE9ubHldKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDMzLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJicmVhZGNydW1ic1wiLFxuICAgIGtleTogXCJicmVhZGNydW1ic1wiXG4gIH0sIGJyZWFkY3J1bWJzLm1hcCgoYnJlYWRjcnVtYiwgaW5kZXgpID0+IHtcbiAgICBpZiAoIWJyZWFkY3J1bWIpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjb25zdCBwYWdlTGlua1Byb3BzID0ge307XG4gICAgY29uc3QgY29tcG9uZW50TWFwID0ge1xuICAgICAgcGFnZUxpbms6IGNvbXBvbmVudHMuUGFnZUxpbmtcbiAgICB9O1xuICAgIGlmIChicmVhZGNydW1iLmFjdGl2ZSkge1xuICAgICAgY29tcG9uZW50TWFwLnBhZ2VMaW5rID0gKHByb3BzKSA9PiAvKiBAX19QVVJFX18gKi8gUmVhY3QzMy5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIF9fc3ByZWFkVmFsdWVzKHt9LCBwcm9wcykpO1xuICAgIH0gZWxzZSB7XG4gICAgICBwYWdlTGlua1Byb3BzLmhyZWYgPSBtYXBQYWdlVXJsKGJyZWFkY3J1bWIucGFnZUlkKTtcbiAgICB9XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDMzLmNyZWF0ZUVsZW1lbnQoUmVhY3QzMy5GcmFnbWVudCwge1xuICAgICAga2V5OiBicmVhZGNydW1iLnBhZ2VJZFxuICAgIH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDMzLmNyZWF0ZUVsZW1lbnQoY29tcG9uZW50TWFwLnBhZ2VMaW5rLCBfX3NwcmVhZFZhbHVlcyh7XG4gICAgICBjbGFzc05hbWU6IGNzKFwiYnJlYWRjcnVtYlwiLCBicmVhZGNydW1iLmFjdGl2ZSAmJiBcImFjdGl2ZVwiKVxuICAgIH0sIHBhZ2VMaW5rUHJvcHMpLCBicmVhZGNydW1iLmljb24gJiYgLyogQF9fUFVSRV9fICovIFJlYWN0MzMuY3JlYXRlRWxlbWVudChQYWdlSWNvbiwge1xuICAgICAgY2xhc3NOYW1lOiBcImljb25cIixcbiAgICAgIGJsb2NrOiBicmVhZGNydW1iLmJsb2NrXG4gICAgfSksIGJyZWFkY3J1bWIudGl0bGUgJiYgLyogQF9fUFVSRV9fICovIFJlYWN0MzMuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgICAgY2xhc3NOYW1lOiBcInRpdGxlXCJcbiAgICB9LCBicmVhZGNydW1iLnRpdGxlKSksIGluZGV4IDwgYnJlYWRjcnVtYnMubGVuZ3RoIC0gMSAmJiAvKiBAX19QVVJFX18gKi8gUmVhY3QzMy5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7XG4gICAgICBjbGFzc05hbWU6IFwic3BhY2VyXCJcbiAgICB9LCBcIi9cIikpO1xuICB9KSk7XG59O1xudmFyIFNlYXJjaCA9ICh7IGJsb2NrLCBzZWFyY2gsIHRpdGxlID0gXCJTZWFyY2hcIiB9KSA9PiB7XG4gIGNvbnN0IHsgc2VhcmNoTm90aW9uLCByb290UGFnZUlkIH0gPSB1c2VOb3Rpb25Db250ZXh0KCk7XG4gIGNvbnN0IG9uU2VhcmNoTm90aW9uID0gc2VhcmNoIHx8IHNlYXJjaE5vdGlvbjtcbiAgY29uc3QgW2lzU2VhcmNoT3Blbiwgc2V0SXNTZWFyY2hPcGVuXSA9IFJlYWN0MzMudXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBvbk9wZW5TZWFyY2ggPSBSZWFjdDMzLnVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBzZXRJc1NlYXJjaE9wZW4odHJ1ZSk7XG4gIH0sIFtdKTtcbiAgY29uc3Qgb25DbG9zZVNlYXJjaCA9IFJlYWN0MzMudXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIHNldElzU2VhcmNoT3BlbihmYWxzZSk7XG4gIH0sIFtdKTtcbiAgdXNlSG90a2V5cyhcImNtZCtwXCIsIChldmVudCkgPT4ge1xuICAgIG9uT3BlblNlYXJjaCgpO1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gIH0pO1xuICB1c2VIb3RrZXlzKFwiY21kK2tcIiwgKGV2ZW50KSA9PiB7XG4gICAgb25PcGVuU2VhcmNoKCk7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgfSk7XG4gIGNvbnN0IGhhc1NlYXJjaCA9ICEhb25TZWFyY2hOb3Rpb247XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3QzMy5jcmVhdGVFbGVtZW50KFJlYWN0MzMuRnJhZ21lbnQsIG51bGwsIGhhc1NlYXJjaCAmJiAvKiBAX19QVVJFX18gKi8gUmVhY3QzMy5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICByb2xlOiBcImJ1dHRvblwiLFxuICAgIGNsYXNzTmFtZTogY3MoXCJicmVhZGNydW1iXCIsIFwiYnV0dG9uXCIsIFwibm90aW9uLXNlYXJjaC1idXR0b25cIiksXG4gICAgb25DbGljazogb25PcGVuU2VhcmNoXG4gIH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDMzLmNyZWF0ZUVsZW1lbnQoU2VhcmNoSWNvbiwge1xuICAgIGNsYXNzTmFtZTogXCJzZWFyY2hJY29uXCJcbiAgfSksIHRpdGxlICYmIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDMzLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICBjbGFzc05hbWU6IFwidGl0bGVcIlxuICB9LCB0aXRsZSkpLCBpc1NlYXJjaE9wZW4gJiYgaGFzU2VhcmNoICYmIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDMzLmNyZWF0ZUVsZW1lbnQoU2VhcmNoRGlhbG9nLCB7XG4gICAgaXNPcGVuOiBpc1NlYXJjaE9wZW4sXG4gICAgcm9vdEJsb2NrSWQ6IHJvb3RQYWdlSWQgfHwgKGJsb2NrID09IG51bGwgPyB2b2lkIDAgOiBibG9jay5pZCksXG4gICAgb25DbG9zZTogb25DbG9zZVNlYXJjaCxcbiAgICBzZWFyY2hOb3Rpb246IG9uU2VhcmNoTm90aW9uXG4gIH0pKTtcbn07XG5cbi8vIHNyYy9jb21wb25lbnRzL2Fzc2V0LXdyYXBwZXIudHN4XG5pbXBvcnQgeyBwYXJzZVBhZ2VJZCBhcyBwYXJzZVBhZ2VJZDIgfSBmcm9tIFwibm90aW9uLXV0aWxzXCI7XG52YXIgdXJsU3R5bGUgPSB7IHdpZHRoOiBcIjEwMCVcIiB9O1xudmFyIEFzc2V0V3JhcHBlciA9ICh7IGJsb2NrSWQsIGJsb2NrIH0pID0+IHtcbiAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2Y7XG4gIGNvbnN0IHZhbHVlID0gYmxvY2s7XG4gIGNvbnN0IHsgY29tcG9uZW50cywgbWFwUGFnZVVybCwgcm9vdERvbWFpbiB9ID0gdXNlTm90aW9uQ29udGV4dCgpO1xuICBsZXQgaXNVUkwgPSBmYWxzZTtcbiAgaWYgKGJsb2NrLnR5cGUgPT09IFwiaW1hZ2VcIikge1xuICAgIGNvbnN0IGNhcHRpb24gPSAoX2MgPSAoX2IgPSAoX2EgPSB2YWx1ZSA9PSBudWxsID8gdm9pZCAwIDogdmFsdWUucHJvcGVydGllcykgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmNhcHRpb24pID09IG51bGwgPyB2b2lkIDAgOiBfYlswXSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9jWzBdO1xuICAgIGlmIChjYXB0aW9uKSB7XG4gICAgICBjb25zdCBpZCA9IHBhcnNlUGFnZUlkMihjYXB0aW9uLCB7IHV1aWQ6IHRydWUgfSk7XG4gICAgICBjb25zdCBpc1BhZ2UgPSBjYXB0aW9uLmNoYXJBdCgwKSA9PT0gXCIvXCIgJiYgaWQ7XG4gICAgICBpZiAoaXNQYWdlIHx8IGlzVmFsaWRVUkwoY2FwdGlvbikpIHtcbiAgICAgICAgaXNVUkwgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBjb25zdCBmaWd1cmUgPSAvKiBAX19QVVJFX18gKi8gUmVhY3QzNC5jcmVhdGVFbGVtZW50KFwiZmlndXJlXCIsIHtcbiAgICBjbGFzc05hbWU6IGNzKFwibm90aW9uLWFzc2V0LXdyYXBwZXJcIiwgYG5vdGlvbi1hc3NldC13cmFwcGVyLSR7YmxvY2sudHlwZX1gLCAoKF9kID0gdmFsdWUuZm9ybWF0KSA9PSBudWxsID8gdm9pZCAwIDogX2QuYmxvY2tfZnVsbF93aWR0aCkgJiYgXCJub3Rpb24tYXNzZXQtd3JhcHBlci1mdWxsXCIsIGJsb2NrSWQpXG4gIH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDM0LmNyZWF0ZUVsZW1lbnQoQXNzZXQsIHtcbiAgICBibG9jazogdmFsdWUsXG4gICAgem9vbWFibGU6ICFpc1VSTFxuICB9LCAoKF9lID0gdmFsdWUgPT0gbnVsbCA/IHZvaWQgMCA6IHZhbHVlLnByb3BlcnRpZXMpID09IG51bGwgPyB2b2lkIDAgOiBfZS5jYXB0aW9uKSAmJiAhaXNVUkwgJiYgLyogQF9fUFVSRV9fICovIFJlYWN0MzQuY3JlYXRlRWxlbWVudChcImZpZ2NhcHRpb25cIiwge1xuICAgIGNsYXNzTmFtZTogXCJub3Rpb24tYXNzZXQtY2FwdGlvblwiXG4gIH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDM0LmNyZWF0ZUVsZW1lbnQoVGV4dCwge1xuICAgIHZhbHVlOiB2YWx1ZS5wcm9wZXJ0aWVzLmNhcHRpb24sXG4gICAgYmxvY2tcbiAgfSkpKSk7XG4gIGlmIChpc1VSTCkge1xuICAgIGNvbnN0IGNhcHRpb24gPSAoX2YgPSB2YWx1ZSA9PSBudWxsID8gdm9pZCAwIDogdmFsdWUucHJvcGVydGllcykgPT0gbnVsbCA/IHZvaWQgMCA6IF9mLmNhcHRpb25bMF1bMF07XG4gICAgY29uc3QgaWQgPSBwYXJzZVBhZ2VJZDIoY2FwdGlvbiwgeyB1dWlkOiB0cnVlIH0pO1xuICAgIGNvbnN0IGlzUGFnZSA9IGNhcHRpb24uY2hhckF0KDApID09PSBcIi9cIiAmJiBpZDtcbiAgICBjb25zdCBjYXB0aW9uSG9zdG5hbWUgPSBleHRyYWN0SG9zdG5hbWUoY2FwdGlvbik7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDM0LmNyZWF0ZUVsZW1lbnQoY29tcG9uZW50cy5QYWdlTGluaywge1xuICAgICAgc3R5bGU6IHVybFN0eWxlLFxuICAgICAgaHJlZjogaXNQYWdlID8gbWFwUGFnZVVybChpZCkgOiBjYXB0aW9uLFxuICAgICAgdGFyZ2V0OiBjYXB0aW9uSG9zdG5hbWUgJiYgY2FwdGlvbkhvc3RuYW1lICE9PSByb290RG9tYWluICYmICFjYXB0aW9uLnN0YXJ0c1dpdGgoXCIvXCIpID8gXCJibGFua19cIiA6IG51bGxcbiAgICB9LCBmaWd1cmUpO1xuICB9XG4gIHJldHVybiBmaWd1cmU7XG59O1xuZnVuY3Rpb24gaXNWYWxpZFVSTChzdHIpIHtcbiAgY29uc3QgcGF0dGVybiA9IG5ldyBSZWdFeHAoXCJeKGh0dHBzPzpcXFxcL1xcXFwvKT8oKChbYS16XFxcXGRdKFthLXpcXFxcZC1dKlthLXpcXFxcZF0pKilcXFxcLikrW2Etel17Mix9fCgoXFxcXGR7MSwzfVxcXFwuKXszfVxcXFxkezEsM30pKShcXFxcOlxcXFxkKyk/KFxcXFwvWy1hLXpcXFxcZCVfLn4rXSopKihcXFxcP1s7JmEtelxcXFxkJV8ufis9LV0qKT8oXFxcXCNbLWEtelxcXFxkX10qKT8kXCIsIFwiaVwiKTtcbiAgcmV0dXJuICEhcGF0dGVybi50ZXN0KHN0cik7XG59XG5mdW5jdGlvbiBleHRyYWN0SG9zdG5hbWUodXJsKSB7XG4gIHRyeSB7XG4gICAgY29uc3QgaG9zdG5hbWUgPSBuZXcgVVJMKHVybCkuaG9zdG5hbWU7XG4gICAgcmV0dXJuIGhvc3RuYW1lO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICByZXR1cm4gXCJcIjtcbiAgfVxufVxuXG4vLyBzcmMvY29tcG9uZW50cy9jaGVja2JveC50c3hcbmltcG9ydCAqIGFzIFJlYWN0MzYgZnJvbSBcInJlYWN0XCI7XG5cbi8vIHNyYy9pY29ucy9jaGVjay50c3hcbmltcG9ydCAqIGFzIFJlYWN0MzUgZnJvbSBcInJlYWN0XCI7XG5mdW5jdGlvbiBTdmdDaGVjayhwcm9wcykge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0MzUuY3JlYXRlRWxlbWVudChcInN2Z1wiLCBfX3NwcmVhZFZhbHVlcyh7XG4gICAgdmlld0JveDogXCIwIDAgMTQgMTRcIlxuICB9LCBwcm9wcyksIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDM1LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgICBkOiBcIk01LjUgMTJMMTQgMy41IDEyLjUgMmwtNyA3LTQtNC4wMDNMMCA2LjQ5OXpcIlxuICB9KSk7XG59XG52YXIgY2hlY2tfZGVmYXVsdCA9IFN2Z0NoZWNrO1xuXG4vLyBzcmMvY29tcG9uZW50cy9jaGVja2JveC50c3hcbnZhciBDaGVja2JveCA9ICh7IGlzQ2hlY2tlZCB9KSA9PiB7XG4gIGxldCBjb250ZW50ID0gbnVsbDtcbiAgaWYgKGlzQ2hlY2tlZCkge1xuICAgIGNvbnRlbnQgPSAvKiBAX19QVVJFX18gKi8gUmVhY3QzNi5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzTmFtZTogXCJub3Rpb24tcHJvcGVydHktY2hlY2tib3gtY2hlY2tlZFwiXG4gICAgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0MzYuY3JlYXRlRWxlbWVudChjaGVja19kZWZhdWx0LCBudWxsKSk7XG4gIH0gZWxzZSB7XG4gICAgY29udGVudCA9IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDM2LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgY2xhc3NOYW1lOiBcIm5vdGlvbi1wcm9wZXJ0eS1jaGVja2JveC11bmNoZWNrZWRcIlxuICAgIH0pO1xuICB9XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3QzNi5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7XG4gICAgY2xhc3NOYW1lOiBcIm5vdGlvbi1wcm9wZXJ0eSBub3Rpb24tcHJvcGVydHktY2hlY2tib3hcIlxuICB9LCBjb250ZW50KTtcbn07XG5cbi8vIHNyYy9jb250ZXh0LnRzeFxudmFyIERlZmF1bHRMaW5rID0gKHByb3BzKSA9PiAvKiBAX19QVVJFX18gKi8gUmVhY3QzNy5jcmVhdGVFbGVtZW50KFwiYVwiLCBfX3NwcmVhZFZhbHVlcyh7XG4gIHRhcmdldDogXCJfYmxhbmtcIixcbiAgcmVsOiBcIm5vb3BlbmVyIG5vcmVmZXJyZXJcIlxufSwgcHJvcHMpKTtcbnZhciBEZWZhdWx0TGlua01lbW8gPSBSZWFjdDM3Lm1lbW8oRGVmYXVsdExpbmspO1xudmFyIERlZmF1bHRQYWdlTGluayA9IChwcm9wcykgPT4gLyogQF9fUFVSRV9fICovIFJlYWN0MzcuY3JlYXRlRWxlbWVudChcImFcIiwgX19zcHJlYWRWYWx1ZXMoe30sIHByb3BzKSk7XG52YXIgRGVmYXVsdFBhZ2VMaW5rTWVtbyA9IFJlYWN0MzcubWVtbyhEZWZhdWx0UGFnZUxpbmspO1xudmFyIERlZmF1bHRFbWJlZCA9IEFzc2V0V3JhcHBlcjtcbnZhciBEZWZhdWx0SGVhZGVyID0gSGVhZGVyO1xudmFyIGR1bW15TGluayA9IChfYSkgPT4ge1xuICB2YXIgX2IgPSBfYSwgeyBocmVmLCByZWwsIHRhcmdldCwgdGl0bGUgfSA9IF9iLCByZXN0ID0gX19vYmpSZXN0KF9iLCBbXCJocmVmXCIsIFwicmVsXCIsIFwidGFyZ2V0XCIsIFwidGl0bGVcIl0pO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0MzcuY3JlYXRlRWxlbWVudChcInNwYW5cIiwgX19zcHJlYWRWYWx1ZXMoe30sIHJlc3QpKTtcbn07XG52YXIgZHVtbXlDb21wb25lbnQgPSAobmFtZSkgPT4gKCkgPT4ge1xuICBjb25zb2xlLndhcm4oYFdhcm5pbmc6IHVzaW5nIGVtcHR5IGNvbXBvbmVudCBcIiR7bmFtZX1cIiAoeW91IHNob3VsZCBvdmVycmlkZSB0aGlzIGluIE5vdGlvblJlbmRlcmVyLmNvbXBvbmVudHMpYCk7XG4gIHJldHVybiBudWxsO1xufTtcbnZhciBkdW1teU92ZXJyaWRlRm4gPSAoXywgZGVmYXVsdFZhbHVlRm4pID0+IGRlZmF1bHRWYWx1ZUZuKCk7XG52YXIgZGVmYXVsdENvbXBvbmVudHMgPSB7XG4gIEltYWdlOiBudWxsLFxuICBMaW5rOiBEZWZhdWx0TGlua01lbW8sXG4gIFBhZ2VMaW5rOiBEZWZhdWx0UGFnZUxpbmtNZW1vLFxuICBDaGVja2JveCxcbiAgQ2FsbG91dDogdm9pZCAwLFxuICBDb2RlOiBkdW1teUNvbXBvbmVudChcIkNvZGVcIiksXG4gIEVxdWF0aW9uOiBkdW1teUNvbXBvbmVudChcIkVxdWF0aW9uXCIpLFxuICBDb2xsZWN0aW9uOiBkdW1teUNvbXBvbmVudChcIkNvbGxlY3Rpb25cIiksXG4gIFByb3BlcnR5OiB2b2lkIDAsXG4gIHByb3BlcnR5VGV4dFZhbHVlOiBkdW1teU92ZXJyaWRlRm4sXG4gIHByb3BlcnR5U2VsZWN0VmFsdWU6IGR1bW15T3ZlcnJpZGVGbixcbiAgcHJvcGVydHlSZWxhdGlvblZhbHVlOiBkdW1teU92ZXJyaWRlRm4sXG4gIHByb3BlcnR5Rm9ybXVsYVZhbHVlOiBkdW1teU92ZXJyaWRlRm4sXG4gIHByb3BlcnR5VGl0bGVWYWx1ZTogZHVtbXlPdmVycmlkZUZuLFxuICBwcm9wZXJ0eVBlcnNvblZhbHVlOiBkdW1teU92ZXJyaWRlRm4sXG4gIHByb3BlcnR5RmlsZVZhbHVlOiBkdW1teU92ZXJyaWRlRm4sXG4gIHByb3BlcnR5Q2hlY2tib3hWYWx1ZTogZHVtbXlPdmVycmlkZUZuLFxuICBwcm9wZXJ0eVVybFZhbHVlOiBkdW1teU92ZXJyaWRlRm4sXG4gIHByb3BlcnR5RW1haWxWYWx1ZTogZHVtbXlPdmVycmlkZUZuLFxuICBwcm9wZXJ0eVBob25lTnVtYmVyVmFsdWU6IGR1bW15T3ZlcnJpZGVGbixcbiAgcHJvcGVydHlOdW1iZXJWYWx1ZTogZHVtbXlPdmVycmlkZUZuLFxuICBwcm9wZXJ0eUxhc3RFZGl0ZWRUaW1lVmFsdWU6IGR1bW15T3ZlcnJpZGVGbixcbiAgcHJvcGVydHlDcmVhdGVkVGltZVZhbHVlOiBkdW1teU92ZXJyaWRlRm4sXG4gIHByb3BlcnR5RGF0ZVZhbHVlOiBkdW1teU92ZXJyaWRlRm4sXG4gIFBkZjogZHVtbXlDb21wb25lbnQoXCJQZGZcIiksXG4gIFR3ZWV0OiBkdW1teUNvbXBvbmVudChcIlR3ZWV0XCIpLFxuICBNb2RhbDogZHVtbXlDb21wb25lbnQoXCJNb2RhbFwiKSxcbiAgSGVhZGVyOiBEZWZhdWx0SGVhZGVyLFxuICBFbWJlZDogRGVmYXVsdEVtYmVkXG59O1xudmFyIGRlZmF1bHROb3Rpb25Db250ZXh0ID0ge1xuICByZWNvcmRNYXA6IHtcbiAgICBibG9jazoge30sXG4gICAgY29sbGVjdGlvbjoge30sXG4gICAgY29sbGVjdGlvbl92aWV3OiB7fSxcbiAgICBjb2xsZWN0aW9uX3F1ZXJ5OiB7fSxcbiAgICBub3Rpb25fdXNlcjoge30sXG4gICAgc2lnbmVkX3VybHM6IHt9XG4gIH0sXG4gIGNvbXBvbmVudHM6IGRlZmF1bHRDb21wb25lbnRzLFxuICBtYXBQYWdlVXJsOiBkZWZhdWx0TWFwUGFnZVVybCgpLFxuICBtYXBJbWFnZVVybDogZGVmYXVsdE1hcEltYWdlVXJsLFxuICBzZWFyY2hOb3Rpb246IG51bGwsXG4gIGZ1bGxQYWdlOiBmYWxzZSxcbiAgZGFya01vZGU6IGZhbHNlLFxuICBwcmV2aWV3SW1hZ2VzOiBmYWxzZSxcbiAgZm9yY2VDdXN0b21JbWFnZXM6IGZhbHNlLFxuICBzaG93Q29sbGVjdGlvblZpZXdEcm9wZG93bjogdHJ1ZSxcbiAgbGlua1RhYmxlVGl0bGVQcm9wZXJ0aWVzOiB0cnVlLFxuICBzaG93VGFibGVPZkNvbnRlbnRzOiBmYWxzZSxcbiAgbWluVGFibGVPZkNvbnRlbnRzSXRlbXM6IDMsXG4gIGRlZmF1bHRQYWdlSWNvbjogbnVsbCxcbiAgZGVmYXVsdFBhZ2VDb3ZlcjogbnVsbCxcbiAgZGVmYXVsdFBhZ2VDb3ZlclBvc2l0aW9uOiAwLjUsXG4gIHpvb206IG51bGxcbn07XG52YXIgY3R4ID0gUmVhY3QzNy5jcmVhdGVDb250ZXh0KGRlZmF1bHROb3Rpb25Db250ZXh0KTtcbnZhciBOb3Rpb25Db250ZXh0UHJvdmlkZXIgPSAoX2EpID0+IHtcbiAgdmFyIF9iID0gX2EsIHtcbiAgICBjb21wb25lbnRzOiB0aGVtZUNvbXBvbmVudHMgPSB7fSxcbiAgICBjaGlsZHJlbixcbiAgICBtYXBQYWdlVXJsLFxuICAgIG1hcEltYWdlVXJsLFxuICAgIHJvb3RQYWdlSWRcbiAgfSA9IF9iLCByZXN0ID0gX19vYmpSZXN0KF9iLCBbXG4gICAgXCJjb21wb25lbnRzXCIsXG4gICAgXCJjaGlsZHJlblwiLFxuICAgIFwibWFwUGFnZVVybFwiLFxuICAgIFwibWFwSW1hZ2VVcmxcIixcbiAgICBcInJvb3RQYWdlSWRcIlxuICBdKTtcbiAgZm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmtleXMocmVzdCkpIHtcbiAgICBpZiAocmVzdFtrZXldID09PSB2b2lkIDApIHtcbiAgICAgIGRlbGV0ZSByZXN0W2tleV07XG4gICAgfVxuICB9XG4gIGNvbnN0IHdyYXBwZWRUaGVtZUNvbXBvbmVudHMgPSBSZWFjdDM3LnVzZU1lbW8oKCkgPT4gX19zcHJlYWRWYWx1ZXMoe30sIHRoZW1lQ29tcG9uZW50cyksIFt0aGVtZUNvbXBvbmVudHNdKTtcbiAgaWYgKHdyYXBwZWRUaGVtZUNvbXBvbmVudHMubmV4dEltYWdlKSB7XG4gICAgd3JhcHBlZFRoZW1lQ29tcG9uZW50cy5JbWFnZSA9IHdyYXBOZXh0SW1hZ2UodGhlbWVDb21wb25lbnRzLm5leHRJbWFnZSk7XG4gIH1cbiAgaWYgKHdyYXBwZWRUaGVtZUNvbXBvbmVudHMubmV4dExpbmspIHtcbiAgICB3cmFwcGVkVGhlbWVDb21wb25lbnRzLm5leHRMaW5rID0gd3JhcE5leHRMaW5rKHRoZW1lQ29tcG9uZW50cy5uZXh0TGluayk7XG4gIH1cbiAgZm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmtleXMod3JhcHBlZFRoZW1lQ29tcG9uZW50cykpIHtcbiAgICBpZiAoIXdyYXBwZWRUaGVtZUNvbXBvbmVudHNba2V5XSkge1xuICAgICAgZGVsZXRlIHdyYXBwZWRUaGVtZUNvbXBvbmVudHNba2V5XTtcbiAgICB9XG4gIH1cbiAgY29uc3QgdmFsdWUgPSBSZWFjdDM3LnVzZU1lbW8oKCkgPT4gX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyhfX3NwcmVhZFZhbHVlcyh7fSwgZGVmYXVsdE5vdGlvbkNvbnRleHQpLCByZXN0KSwge1xuICAgIHJvb3RQYWdlSWQsXG4gICAgbWFwUGFnZVVybDogbWFwUGFnZVVybCAhPSBudWxsID8gbWFwUGFnZVVybCA6IGRlZmF1bHRNYXBQYWdlVXJsKHJvb3RQYWdlSWQpLFxuICAgIG1hcEltYWdlVXJsOiBtYXBJbWFnZVVybCAhPSBudWxsID8gbWFwSW1hZ2VVcmwgOiBkZWZhdWx0TWFwSW1hZ2VVcmwsXG4gICAgY29tcG9uZW50czogX19zcHJlYWRWYWx1ZXMoX19zcHJlYWRWYWx1ZXMoe30sIGRlZmF1bHRDb21wb25lbnRzKSwgd3JhcHBlZFRoZW1lQ29tcG9uZW50cylcbiAgfSksIFttYXBJbWFnZVVybCwgbWFwUGFnZVVybCwgd3JhcHBlZFRoZW1lQ29tcG9uZW50cywgcm9vdFBhZ2VJZCwgcmVzdF0pO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0MzcuY3JlYXRlRWxlbWVudChjdHguUHJvdmlkZXIsIHtcbiAgICB2YWx1ZVxuICB9LCBjaGlsZHJlbik7XG59O1xudmFyIE5vdGlvbkNvbnRleHRDb25zdW1lciA9IGN0eC5Db25zdW1lcjtcbnZhciB1c2VOb3Rpb25Db250ZXh0ID0gKCkgPT4ge1xuICByZXR1cm4gUmVhY3QzNy51c2VDb250ZXh0KGN0eCk7XG59O1xuXG4vLyBzcmMvdGhpcmQtcGFydHkvZXZhbC1mb3JtdWxhLnRzXG52YXIgaW1wb3J0X2Zvcm1hdCA9IF9fdG9FU00ocmVxdWlyZV9mb3JtYXQoKSwgMSk7XG52YXIgaW1wb3J0X2dldERhdGUgPSBfX3RvRVNNKHJlcXVpcmVfZ2V0RGF0ZSgpLCAxKTtcbnZhciBpbXBvcnRfZ2V0RGF5ID0gX190b0VTTShyZXF1aXJlX2dldERheSgpLCAxKTtcbnZhciBpbXBvcnRfZ2V0SG91cnMgPSBfX3RvRVNNKHJlcXVpcmVfZ2V0SG91cnMoKSwgMSk7XG52YXIgaW1wb3J0X2dldE1pbnV0ZXMgPSBfX3RvRVNNKHJlcXVpcmVfZ2V0TWludXRlcygpLCAxKTtcbnZhciBpbXBvcnRfZ2V0TW9udGggPSBfX3RvRVNNKHJlcXVpcmVfZ2V0TW9udGgoKSwgMSk7XG52YXIgaW1wb3J0X2dldFllYXIgPSBfX3RvRVNNKHJlcXVpcmVfZ2V0WWVhcigpLCAxKTtcbnZhciBpbXBvcnRfYWRkID0gX190b0VTTShyZXF1aXJlX2FkZCgpLCAxKTtcbnZhciBpbXBvcnRfc3ViID0gX190b0VTTShyZXF1aXJlX3N1YigpLCAxKTtcbnZhciBpbXBvcnRfaW50ZXJ2YWxUb0R1cmF0aW9uID0gX190b0VTTShyZXF1aXJlX2ludGVydmFsVG9EdXJhdGlvbigpLCAxKTtcbmltcG9ydCB7IGdldFRleHRDb250ZW50IGFzIGdldFRleHRDb250ZW50MiwgZ2V0RGF0ZVZhbHVlIH0gZnJvbSBcIm5vdGlvbi11dGlsc1wiO1xuZnVuY3Rpb24gZXZhbEZvcm11bGEoZm9ybXVsYSwgY29udGV4dCkge1xuICBjb25zdCBfYSA9IGNvbnRleHQsIHsgZW5kRGF0ZSB9ID0gX2EsIGN0eDIgPSBfX29ialJlc3QoX2EsIFtcImVuZERhdGVcIl0pO1xuICBzd2l0Y2ggKGZvcm11bGEgPT0gbnVsbCA/IHZvaWQgMCA6IGZvcm11bGEudHlwZSkge1xuICAgIGNhc2UgXCJzeW1ib2xcIjpcbiAgICAgIHJldHVybiBmb3JtdWxhLm5hbWUgPT09IFwidHJ1ZVwiO1xuICAgIGNhc2UgXCJjb25zdGFudFwiOiB7XG4gICAgICBjb25zdCB2YWx1ZSA9IGZvcm11bGEudmFsdWU7XG4gICAgICBzd2l0Y2ggKGZvcm11bGEucmVzdWx0X3R5cGUpIHtcbiAgICAgICAgY2FzZSBcInRleHRcIjpcbiAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIGNhc2UgXCJudW1iZXJcIjpcbiAgICAgICAgICByZXR1cm4gcGFyc2VGbG9hdCh2YWx1ZSk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgICBjYXNlIFwicHJvcGVydHlcIjoge1xuICAgICAgY29uc3QgdmFsdWUgPSBjdHgyLnByb3BlcnRpZXNbZm9ybXVsYS5pZF07XG4gICAgICBjb25zdCB0ZXh0ID0gZ2V0VGV4dENvbnRlbnQyKHZhbHVlKTtcbiAgICAgIHN3aXRjaCAoZm9ybXVsYS5yZXN1bHRfdHlwZSkge1xuICAgICAgICBjYXNlIFwidGV4dFwiOlxuICAgICAgICAgIHJldHVybiB0ZXh0O1xuICAgICAgICBjYXNlIFwibnVtYmVyXCI6XG4gICAgICAgICAgcmV0dXJuIHBhcnNlRmxvYXQodGV4dCk7XG4gICAgICAgIGNhc2UgXCJib29sZWFuXCI6XG4gICAgICAgICAgaWYgKHR5cGVvZiB0ZXh0ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICByZXR1cm4gdGV4dCA9PT0gXCJ0cnVlXCI7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiAhIXRleHQ7XG4gICAgICAgICAgfVxuICAgICAgICBjYXNlIFwiZGF0ZVwiOiB7XG4gICAgICAgICAgY29uc3QgdiA9IGdldERhdGVWYWx1ZSh2YWx1ZSk7XG4gICAgICAgICAgaWYgKHYpIHtcbiAgICAgICAgICAgIGlmIChlbmREYXRlICYmIHYuZW5kX2RhdGUpIHtcbiAgICAgICAgICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKHYuZW5kX2RhdGUpO1xuICAgICAgICAgICAgICByZXR1cm4gbmV3IERhdGUoZGF0ZS5nZXRVVENGdWxsWWVhcigpLCBkYXRlLmdldFVUQ01vbnRoKCksIGRhdGUuZ2V0VVRDRGF0ZSgpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSh2LnN0YXJ0X2RhdGUpO1xuICAgICAgICAgICAgICByZXR1cm4gbmV3IERhdGUoZGF0ZS5nZXRVVENGdWxsWWVhcigpLCBkYXRlLmdldFVUQ01vbnRoKCksIGRhdGUuZ2V0VVRDRGF0ZSgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBEYXRlKHRleHQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiB0ZXh0O1xuICAgICAgfVxuICAgIH1cbiAgICBjYXNlIFwib3BlcmF0b3JcIjpcbiAgICBjYXNlIFwiZnVuY3Rpb25cIjpcbiAgICAgIHJldHVybiBldmFsRnVuY3Rpb25Gb3JtdWxhKGZvcm11bGEsIGN0eDIpO1xuICAgIGRlZmF1bHQ6XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYGludmFsaWQgb3IgdW5zdXBwb3J0ZWQgZm9ybXVsYSBcIiR7Zm9ybXVsYSA9PSBudWxsID8gdm9pZCAwIDogZm9ybXVsYS50eXBlfWApO1xuICB9XG59XG5mdW5jdGlvbiBldmFsRnVuY3Rpb25Gb3JtdWxhKGZvcm11bGEsIGN0eDIpIHtcbiAgY29uc3QgYXJncyA9IGZvcm11bGEgPT0gbnVsbCA/IHZvaWQgMCA6IGZvcm11bGEuYXJncztcbiAgc3dpdGNoIChmb3JtdWxhLm5hbWUpIHtcbiAgICBjYXNlIFwiYW5kXCI6XG4gICAgICByZXR1cm4gZXZhbEZvcm11bGEoYXJnc1swXSwgY3R4MikgJiYgZXZhbEZvcm11bGEoYXJnc1sxXSwgY3R4Mik7XG4gICAgY2FzZSBcImVtcHR5XCI6XG4gICAgICByZXR1cm4gIWV2YWxGb3JtdWxhKGFyZ3NbMF0sIGN0eDIpO1xuICAgIGNhc2UgXCJlcXVhbFwiOlxuICAgICAgcmV0dXJuIGV2YWxGb3JtdWxhKGFyZ3NbMF0sIGN0eDIpID09IGV2YWxGb3JtdWxhKGFyZ3NbMV0sIGN0eDIpO1xuICAgIGNhc2UgXCJpZlwiOlxuICAgICAgcmV0dXJuIGV2YWxGb3JtdWxhKGFyZ3NbMF0sIGN0eDIpID8gZXZhbEZvcm11bGEoYXJnc1sxXSwgY3R4MikgOiBldmFsRm9ybXVsYShhcmdzWzJdLCBjdHgyKTtcbiAgICBjYXNlIFwibGFyZ2VyXCI6XG4gICAgICByZXR1cm4gZXZhbEZvcm11bGEoYXJnc1swXSwgY3R4MikgPiBldmFsRm9ybXVsYShhcmdzWzFdLCBjdHgyKTtcbiAgICBjYXNlIFwibGFyZ2VyRXFcIjpcbiAgICAgIHJldHVybiBldmFsRm9ybXVsYShhcmdzWzBdLCBjdHgyKSA+PSBldmFsRm9ybXVsYShhcmdzWzFdLCBjdHgyKTtcbiAgICBjYXNlIFwibm90XCI6XG4gICAgICByZXR1cm4gIWV2YWxGb3JtdWxhKGFyZ3NbMF0sIGN0eDIpO1xuICAgIGNhc2UgXCJvclwiOlxuICAgICAgcmV0dXJuIGV2YWxGb3JtdWxhKGFyZ3NbMF0sIGN0eDIpIHx8IGV2YWxGb3JtdWxhKGFyZ3NbMV0sIGN0eDIpO1xuICAgIGNhc2UgXCJzbWFsbGVyXCI6XG4gICAgICByZXR1cm4gZXZhbEZvcm11bGEoYXJnc1swXSwgY3R4MikgPCBldmFsRm9ybXVsYShhcmdzWzFdLCBjdHgyKTtcbiAgICBjYXNlIFwic21hbGxlckVxXCI6XG4gICAgICByZXR1cm4gZXZhbEZvcm11bGEoYXJnc1swXSwgY3R4MikgPD0gZXZhbEZvcm11bGEoYXJnc1sxXSwgY3R4Mik7XG4gICAgY2FzZSBcInVuZXF1YWxcIjpcbiAgICAgIHJldHVybiBldmFsRm9ybXVsYShhcmdzWzBdLCBjdHgyKSAhPSBldmFsRm9ybXVsYShhcmdzWzFdLCBjdHgyKTtcbiAgICBjYXNlIFwiYWJzXCI6XG4gICAgICByZXR1cm4gTWF0aC5hYnMoZXZhbEZvcm11bGEoYXJnc1swXSwgY3R4MikpO1xuICAgIGNhc2UgXCJhZGRcIjoge1xuICAgICAgY29uc3QgdjAgPSBldmFsRm9ybXVsYShhcmdzWzBdLCBjdHgyKTtcbiAgICAgIGNvbnN0IHYxID0gZXZhbEZvcm11bGEoYXJnc1sxXSwgY3R4Mik7XG4gICAgICBpZiAodHlwZW9mIHYwID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgIHJldHVybiB2MCArICt2MTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHYwID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHJldHVybiB2MCArIGAke3YxfWA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdjA7XG4gICAgICB9XG4gICAgfVxuICAgIGNhc2UgXCJjYnJ0XCI6XG4gICAgICByZXR1cm4gTWF0aC5jYnJ0KGV2YWxGb3JtdWxhKGFyZ3NbMF0sIGN0eDIpKTtcbiAgICBjYXNlIFwiY2VpbFwiOlxuICAgICAgcmV0dXJuIE1hdGguY2VpbChldmFsRm9ybXVsYShhcmdzWzBdLCBjdHgyKSk7XG4gICAgY2FzZSBcImRpdmlkZVwiOlxuICAgICAgcmV0dXJuIGV2YWxGb3JtdWxhKGFyZ3NbMF0sIGN0eDIpIC8gZXZhbEZvcm11bGEoYXJnc1sxXSwgY3R4Mik7XG4gICAgY2FzZSBcImV4cFwiOlxuICAgICAgcmV0dXJuIE1hdGguZXhwKGV2YWxGb3JtdWxhKGFyZ3NbMF0sIGN0eDIpKTtcbiAgICBjYXNlIFwiZmxvb3JcIjpcbiAgICAgIHJldHVybiBNYXRoLmZsb29yKGV2YWxGb3JtdWxhKGFyZ3NbMF0sIGN0eDIpKTtcbiAgICBjYXNlIFwibG5cIjpcbiAgICAgIHJldHVybiBNYXRoLmxvZyhldmFsRm9ybXVsYShhcmdzWzBdLCBjdHgyKSk7XG4gICAgY2FzZSBcImxvZzEwXCI6XG4gICAgICByZXR1cm4gTWF0aC5sb2cxMChldmFsRm9ybXVsYShhcmdzWzBdLCBjdHgyKSk7XG4gICAgY2FzZSBcImxvZzJcIjpcbiAgICAgIHJldHVybiBNYXRoLmxvZzIoZXZhbEZvcm11bGEoYXJnc1swXSwgY3R4MikpO1xuICAgIGNhc2UgXCJtYXhcIjoge1xuICAgICAgY29uc3QgdmFsdWVzID0gYXJncy5tYXAoKGFyZykgPT4gZXZhbEZvcm11bGEoYXJnLCBjdHgyKSk7XG4gICAgICByZXR1cm4gdmFsdWVzLnJlZHVjZSgoYWNjLCB2YWx1ZSkgPT4gTWF0aC5tYXgoYWNjLCB2YWx1ZSksIE51bWJlci5ORUdBVElWRV9JTkZJTklUWSk7XG4gICAgfVxuICAgIGNhc2UgXCJtaW5cIjoge1xuICAgICAgY29uc3QgdmFsdWVzID0gYXJncy5tYXAoKGFyZykgPT4gZXZhbEZvcm11bGEoYXJnLCBjdHgyKSk7XG4gICAgICByZXR1cm4gdmFsdWVzLnJlZHVjZSgoYWNjLCB2YWx1ZSkgPT4gTWF0aC5taW4oYWNjLCB2YWx1ZSksIE51bWJlci5QT1NJVElWRV9JTkZJTklUWSk7XG4gICAgfVxuICAgIGNhc2UgXCJtb2RcIjpcbiAgICAgIHJldHVybiBldmFsRm9ybXVsYShhcmdzWzBdLCBjdHgyKSAlIGV2YWxGb3JtdWxhKGFyZ3NbMV0sIGN0eDIpO1xuICAgIGNhc2UgXCJtdWx0aXBseVwiOlxuICAgICAgcmV0dXJuIGV2YWxGb3JtdWxhKGFyZ3NbMF0sIGN0eDIpICogZXZhbEZvcm11bGEoYXJnc1sxXSwgY3R4Mik7XG4gICAgY2FzZSBcInBvd1wiOlxuICAgICAgcmV0dXJuIE1hdGgucG93KGV2YWxGb3JtdWxhKGFyZ3NbMF0sIGN0eDIpLCBldmFsRm9ybXVsYShhcmdzWzFdLCBjdHgyKSk7XG4gICAgY2FzZSBcInJvdW5kXCI6XG4gICAgICByZXR1cm4gTWF0aC5yb3VuZChldmFsRm9ybXVsYShhcmdzWzBdLCBjdHgyKSk7XG4gICAgY2FzZSBcInNpZ25cIjpcbiAgICAgIHJldHVybiBNYXRoLnNpZ24oZXZhbEZvcm11bGEoYXJnc1swXSwgY3R4MikpO1xuICAgIGNhc2UgXCJzcXJ0XCI6XG4gICAgICByZXR1cm4gTWF0aC5zcXJ0KGV2YWxGb3JtdWxhKGFyZ3NbMF0sIGN0eDIpKTtcbiAgICBjYXNlIFwic3VidHJhY3RcIjpcbiAgICAgIHJldHVybiBldmFsRm9ybXVsYShhcmdzWzBdLCBjdHgyKSAtIGV2YWxGb3JtdWxhKGFyZ3NbMV0sIGN0eDIpO1xuICAgIGNhc2UgXCJ0b051bWJlclwiOlxuICAgICAgcmV0dXJuIHBhcnNlRmxvYXQoZXZhbEZvcm11bGEoYXJnc1swXSwgY3R4MikpO1xuICAgIGNhc2UgXCJ1bmFyeU1pbnVzXCI6XG4gICAgICByZXR1cm4gZXZhbEZvcm11bGEoYXJnc1swXSwgY3R4MikgKiAtMTtcbiAgICBjYXNlIFwidW5hcnlQbHVzXCI6XG4gICAgICByZXR1cm4gcGFyc2VGbG9hdChldmFsRm9ybXVsYShhcmdzWzBdLCBjdHgyKSk7XG4gICAgY2FzZSBcImNvbmNhdFwiOiB7XG4gICAgICBjb25zdCB2YWx1ZXMgPSBhcmdzLm1hcCgoYXJnKSA9PiBldmFsRm9ybXVsYShhcmcsIGN0eDIpKTtcbiAgICAgIHJldHVybiB2YWx1ZXMuam9pbihcIlwiKTtcbiAgICB9XG4gICAgY2FzZSBcImNvbnRhaW5zXCI6XG4gICAgICByZXR1cm4gZXZhbEZvcm11bGEoYXJnc1swXSwgY3R4MikuaW5jbHVkZXMoZXZhbEZvcm11bGEoYXJnc1sxXSwgY3R4MikpO1xuICAgIGNhc2UgXCJmb3JtYXRcIjoge1xuICAgICAgY29uc3QgdmFsdWUgPSBldmFsRm9ybXVsYShhcmdzWzBdLCBjdHgyKTtcbiAgICAgIHN3aXRjaCAodHlwZW9mIHZhbHVlKSB7XG4gICAgICAgIGNhc2UgXCJzdHJpbmdcIjpcbiAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIGNhc2UgXCJvYmplY3RcIjpcbiAgICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBEYXRlKSB7XG4gICAgICAgICAgICByZXR1cm4gKDAsIGltcG9ydF9mb3JtYXQuZGVmYXVsdCkodmFsdWUsIFwiTU1NIGQsIFlZWVwiKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGAke3ZhbHVlfWA7XG4gICAgICAgICAgfVxuICAgICAgICBjYXNlIFwibnVtYmVyXCI6XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuIGAke3ZhbHVlfWA7XG4gICAgICB9XG4gICAgfVxuICAgIGNhc2UgXCJqb2luXCI6IHtcbiAgICAgIGNvbnN0IFtkZWxpbWl0ZXJBcmcsIC4uLnJlc3RBcmdzXSA9IGFyZ3M7XG4gICAgICBjb25zdCBkZWxpbWl0ZXIgPSBldmFsRm9ybXVsYShkZWxpbWl0ZXJBcmcsIGN0eDIpO1xuICAgICAgY29uc3QgdmFsdWVzID0gcmVzdEFyZ3MubWFwKChhcmcpID0+IGV2YWxGb3JtdWxhKGFyZywgY3R4MikpO1xuICAgICAgcmV0dXJuIHZhbHVlcy5qb2luKGRlbGltaXRlcik7XG4gICAgfVxuICAgIGNhc2UgXCJsZW5ndGhcIjpcbiAgICAgIHJldHVybiBldmFsRm9ybXVsYShhcmdzWzBdLCBjdHgyKS5sZW5ndGg7XG4gICAgY2FzZSBcInJlcGxhY2VcIjoge1xuICAgICAgY29uc3QgdmFsdWUgPSBldmFsRm9ybXVsYShhcmdzWzBdLCBjdHgyKTtcbiAgICAgIGNvbnN0IHJlZ2V4ID0gZXZhbEZvcm11bGEoYXJnc1sxXSwgY3R4Mik7XG4gICAgICBjb25zdCByZXBsYWNlbWVudCA9IGV2YWxGb3JtdWxhKGFyZ3NbMl0sIGN0eDIpO1xuICAgICAgcmV0dXJuIHZhbHVlLnJlcGxhY2UobmV3IFJlZ0V4cChyZWdleCksIHJlcGxhY2VtZW50KTtcbiAgICB9XG4gICAgY2FzZSBcInJlcGxhY2VBbGxcIjoge1xuICAgICAgY29uc3QgdmFsdWUgPSBldmFsRm9ybXVsYShhcmdzWzBdLCBjdHgyKTtcbiAgICAgIGNvbnN0IHJlZ2V4ID0gZXZhbEZvcm11bGEoYXJnc1sxXSwgY3R4Mik7XG4gICAgICBjb25zdCByZXBsYWNlbWVudCA9IGV2YWxGb3JtdWxhKGFyZ3NbMl0sIGN0eDIpO1xuICAgICAgcmV0dXJuIHZhbHVlLnJlcGxhY2UobmV3IFJlZ0V4cChyZWdleCwgXCJnXCIpLCByZXBsYWNlbWVudCk7XG4gICAgfVxuICAgIGNhc2UgXCJzbGljZVwiOiB7XG4gICAgICBjb25zdCB2YWx1ZSA9IGV2YWxGb3JtdWxhKGFyZ3NbMF0sIGN0eDIpO1xuICAgICAgY29uc3QgYmVnaW5JbmRleCA9IGV2YWxGb3JtdWxhKGFyZ3NbMV0sIGN0eDIpO1xuICAgICAgY29uc3QgZW5kSW5kZXggPSBhcmdzWzJdID8gZXZhbEZvcm11bGEoYXJnc1syXSwgY3R4MikgOiB2YWx1ZS5sZW5ndGg7XG4gICAgICByZXR1cm4gdmFsdWUuc2xpY2UoYmVnaW5JbmRleCwgZW5kSW5kZXgpO1xuICAgIH1cbiAgICBjYXNlIFwidGVzdFwiOiB7XG4gICAgICBjb25zdCB2YWx1ZSA9IGV2YWxGb3JtdWxhKGFyZ3NbMF0sIGN0eDIpO1xuICAgICAgY29uc3QgcmVnZXggPSBldmFsRm9ybXVsYShhcmdzWzFdLCBjdHgyKTtcbiAgICAgIHJldHVybiBuZXcgUmVnRXhwKHJlZ2V4KS50ZXN0KHZhbHVlKTtcbiAgICB9XG4gICAgY2FzZSBcImRhdGVcIjpcbiAgICAgIHJldHVybiAoMCwgaW1wb3J0X2dldERhdGUuZGVmYXVsdCkoZXZhbEZvcm11bGEoYXJnc1swXSwgY3R4MikpO1xuICAgIGNhc2UgXCJkYXRlQWRkXCI6IHtcbiAgICAgIGNvbnN0IGRhdGUgPSBldmFsRm9ybXVsYShhcmdzWzBdLCBjdHgyKTtcbiAgICAgIGNvbnN0IG51bWJlciA9IGV2YWxGb3JtdWxhKGFyZ3NbMV0sIGN0eDIpO1xuICAgICAgY29uc3QgdW5pdCA9IGV2YWxGb3JtdWxhKGFyZ3NbMV0sIGN0eDIpO1xuICAgICAgcmV0dXJuICgwLCBpbXBvcnRfYWRkLmRlZmF1bHQpKGRhdGUsIHsgW3VuaXRdOiBudW1iZXIgfSk7XG4gICAgfVxuICAgIGNhc2UgXCJkYXRlQmV0d2VlblwiOiB7XG4gICAgICBjb25zdCBkYXRlMSA9IGV2YWxGb3JtdWxhKGFyZ3NbMF0sIGN0eDIpO1xuICAgICAgY29uc3QgZGF0ZTIgPSBldmFsRm9ybXVsYShhcmdzWzFdLCBjdHgyKTtcbiAgICAgIGNvbnN0IHVuaXQgPSBldmFsRm9ybXVsYShhcmdzWzFdLCBjdHgyKTtcbiAgICAgIHJldHVybiAoMCwgaW1wb3J0X2ludGVydmFsVG9EdXJhdGlvbi5kZWZhdWx0KSh7XG4gICAgICAgIHN0YXJ0OiBkYXRlMixcbiAgICAgICAgZW5kOiBkYXRlMVxuICAgICAgfSlbdW5pdF07XG4gICAgfVxuICAgIGNhc2UgXCJkYXRlU3VidHJhY3RcIjoge1xuICAgICAgY29uc3QgZGF0ZSA9IGV2YWxGb3JtdWxhKGFyZ3NbMF0sIGN0eDIpO1xuICAgICAgY29uc3QgbnVtYmVyID0gZXZhbEZvcm11bGEoYXJnc1sxXSwgY3R4Mik7XG4gICAgICBjb25zdCB1bml0ID0gZXZhbEZvcm11bGEoYXJnc1sxXSwgY3R4Mik7XG4gICAgICByZXR1cm4gKDAsIGltcG9ydF9zdWIuZGVmYXVsdCkoZGF0ZSwgeyBbdW5pdF06IG51bWJlciB9KTtcbiAgICB9XG4gICAgY2FzZSBcImRheVwiOlxuICAgICAgcmV0dXJuICgwLCBpbXBvcnRfZ2V0RGF5LmRlZmF1bHQpKGV2YWxGb3JtdWxhKGFyZ3NbMF0sIGN0eDIpKTtcbiAgICBjYXNlIFwiZW5kXCI6XG4gICAgICByZXR1cm4gZXZhbEZvcm11bGEoYXJnc1swXSwgX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7fSwgY3R4MiksIHsgZW5kRGF0ZTogdHJ1ZSB9KSk7XG4gICAgY2FzZSBcImZvcm1hdERhdGVcIjoge1xuICAgICAgY29uc3QgZGF0ZSA9IGV2YWxGb3JtdWxhKGFyZ3NbMF0sIGN0eDIpO1xuICAgICAgY29uc3QgZm9ybWF0VmFsdWUgPSBldmFsRm9ybXVsYShhcmdzWzFdLCBjdHgyKS5yZXBsYWNlKFwiZGRkZFwiLCBcImVlZWVcIik7XG4gICAgICByZXR1cm4gKDAsIGltcG9ydF9mb3JtYXQuZGVmYXVsdCkoZGF0ZSwgZm9ybWF0VmFsdWUpO1xuICAgIH1cbiAgICBjYXNlIFwiZnJvbVRpbWVzdGFtcFwiOlxuICAgICAgcmV0dXJuIG5ldyBEYXRlKGV2YWxGb3JtdWxhKGFyZ3NbMF0sIGN0eDIpKTtcbiAgICBjYXNlIFwiaG91clwiOlxuICAgICAgcmV0dXJuICgwLCBpbXBvcnRfZ2V0SG91cnMuZGVmYXVsdCkoZXZhbEZvcm11bGEoYXJnc1swXSwgY3R4MikpO1xuICAgIGNhc2UgXCJtaW51dGVcIjpcbiAgICAgIHJldHVybiAoMCwgaW1wb3J0X2dldE1pbnV0ZXMuZGVmYXVsdCkoZXZhbEZvcm11bGEoYXJnc1swXSwgY3R4MikpO1xuICAgIGNhc2UgXCJtb250aFwiOlxuICAgICAgcmV0dXJuICgwLCBpbXBvcnRfZ2V0TW9udGguZGVmYXVsdCkoZXZhbEZvcm11bGEoYXJnc1swXSwgY3R4MikpO1xuICAgIGNhc2UgXCJub3dcIjpcbiAgICAgIHJldHVybiBuZXcgRGF0ZSgpO1xuICAgIGNhc2UgXCJzdGFydFwiOlxuICAgICAgcmV0dXJuIGV2YWxGb3JtdWxhKGFyZ3NbMF0sIF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe30sIGN0eDIpLCB7IGVuZERhdGU6IGZhbHNlIH0pKTtcbiAgICBjYXNlIFwidGltZXN0YW1wXCI6XG4gICAgICByZXR1cm4gZXZhbEZvcm11bGEoYXJnc1swXSwgY3R4MikuZ2V0VGltZSgpO1xuICAgIGNhc2UgXCJ5ZWFyXCI6XG4gICAgICByZXR1cm4gKDAsIGltcG9ydF9nZXRZZWFyLmRlZmF1bHQpKGV2YWxGb3JtdWxhKGFyZ3NbMF0sIGN0eDIpKTtcbiAgICBkZWZhdWx0OlxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBpbnZhbGlkIG9yIHVuc3VwcG9ydGVkIGZ1bmN0aW9uIGZvcm11bGEgXCIke2Zvcm11bGEgPT0gbnVsbCA/IHZvaWQgMCA6IGZvcm11bGEudHlwZX1gKTtcbiAgfVxufVxuXG4vLyBzcmMvdGhpcmQtcGFydHkvcHJvcGVydHkudHN4XG52YXIgUHJvcGVydHkgPSAocHJvcHMpID0+IHtcbiAgY29uc3QgeyBjb21wb25lbnRzIH0gPSB1c2VOb3Rpb25Db250ZXh0KCk7XG4gIGlmIChjb21wb25lbnRzLlByb3BlcnR5KSB7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDM4LmNyZWF0ZUVsZW1lbnQoY29tcG9uZW50cy5Qcm9wZXJ0eSwgX19zcHJlYWRWYWx1ZXMoe30sIHByb3BzKSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDM4LmNyZWF0ZUVsZW1lbnQoUHJvcGVydHlJbXBsTWVtbywgX19zcHJlYWRWYWx1ZXMoe30sIHByb3BzKSk7XG4gIH1cbn07XG52YXIgUHJvcGVydHlJbXBsID0gKHByb3BzKSA9PiB7XG4gIGNvbnN0IHsgY29tcG9uZW50cywgbWFwSW1hZ2VVcmwsIG1hcFBhZ2VVcmwgfSA9IHVzZU5vdGlvbkNvbnRleHQoKTtcbiAgY29uc3Qge1xuICAgIHNjaGVtYSxcbiAgICBkYXRhLFxuICAgIGJsb2NrLFxuICAgIGNvbGxlY3Rpb24sXG4gICAgaW5saW5lID0gZmFsc2UsXG4gICAgbGlua1RvVGl0bGVQYWdlID0gdHJ1ZVxuICB9ID0gcHJvcHM7XG4gIGNvbnN0IHJlbmRlclRleHRWYWx1ZSA9IFJlYWN0MzgudXNlTWVtbygoKSA9PiBmdW5jdGlvbiBUZXh0UHJvcGVydHkoKSB7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDM4LmNyZWF0ZUVsZW1lbnQoVGV4dCwge1xuICAgICAgdmFsdWU6IGRhdGEsXG4gICAgICBibG9ja1xuICAgIH0pO1xuICB9LCBbYmxvY2ssIGRhdGFdKTtcbiAgY29uc3QgcmVuZGVyRGF0ZVZhbHVlID0gUmVhY3QzOC51c2VNZW1vKCgpID0+IGZ1bmN0aW9uIERhdGVQcm9wZXJ0eSgpIHtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0MzguY3JlYXRlRWxlbWVudChUZXh0LCB7XG4gICAgICB2YWx1ZTogZGF0YSxcbiAgICAgIGJsb2NrXG4gICAgfSk7XG4gIH0sIFtibG9jaywgZGF0YV0pO1xuICBjb25zdCByZW5kZXJSZWxhdGlvblZhbHVlID0gUmVhY3QzOC51c2VNZW1vKCgpID0+IGZ1bmN0aW9uIFJlbGF0aW9uUHJvcGVydHkoKSB7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDM4LmNyZWF0ZUVsZW1lbnQoVGV4dCwge1xuICAgICAgdmFsdWU6IGRhdGEsXG4gICAgICBibG9ja1xuICAgIH0pO1xuICB9LCBbYmxvY2ssIGRhdGFdKTtcbiAgY29uc3QgcmVuZGVyRm9ybXVsYVZhbHVlID0gUmVhY3QzOC51c2VNZW1vKCgpID0+IGZ1bmN0aW9uIEZvcm11bGFQcm9wZXJ0eSgpIHtcbiAgICBsZXQgY29udGVudDI7XG4gICAgdHJ5IHtcbiAgICAgIGxldCBjb250ZW50MyA9IGV2YWxGb3JtdWxhKHNjaGVtYS5mb3JtdWxhLCB7XG4gICAgICAgIHNjaGVtYTogY29sbGVjdGlvbiA9PSBudWxsID8gdm9pZCAwIDogY29sbGVjdGlvbi5zY2hlbWEsXG4gICAgICAgIHByb3BlcnRpZXM6IGJsb2NrID09IG51bGwgPyB2b2lkIDAgOiBibG9jay5wcm9wZXJ0aWVzXG4gICAgICB9KTtcbiAgICAgIGlmIChpc05hTihjb250ZW50MykpIHtcbiAgICAgIH1cbiAgICAgIGlmIChjb250ZW50MyBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICAgICAgY29udGVudDMgPSAoMCwgaW1wb3J0X2Zvcm1hdDIuZGVmYXVsdCkoY29udGVudDMsIFwiTU1NIGQsIFlZWSBoaDptbSBhYVwiKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnRlbnQyID0gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnQyO1xuICB9LCBbYmxvY2sgPT0gbnVsbCA/IHZvaWQgMCA6IGJsb2NrLnByb3BlcnRpZXMsIGNvbGxlY3Rpb24gPT0gbnVsbCA/IHZvaWQgMCA6IGNvbGxlY3Rpb24uc2NoZW1hLCBzY2hlbWFdKTtcbiAgY29uc3QgcmVuZGVyVGl0bGVWYWx1ZSA9IFJlYWN0MzgudXNlTWVtbygoKSA9PiBmdW5jdGlvbiBGb3JtdWxhVGl0bGUoKSB7XG4gICAgaWYgKGJsb2NrICYmIGxpbmtUb1RpdGxlUGFnZSkge1xuICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDM4LmNyZWF0ZUVsZW1lbnQoY29tcG9uZW50cy5QYWdlTGluaywge1xuICAgICAgICBjbGFzc05hbWU6IGNzKFwibm90aW9uLXBhZ2UtbGlua1wiKSxcbiAgICAgICAgaHJlZjogbWFwUGFnZVVybChibG9jay5pZClcbiAgICAgIH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDM4LmNyZWF0ZUVsZW1lbnQoUGFnZVRpdGxlLCB7XG4gICAgICAgIGJsb2NrXG4gICAgICB9KSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3QzOC5jcmVhdGVFbGVtZW50KFRleHQsIHtcbiAgICAgICAgdmFsdWU6IGRhdGEsXG4gICAgICAgIGJsb2NrXG4gICAgICB9KTtcbiAgICB9XG4gIH0sIFtibG9jaywgY29tcG9uZW50cywgZGF0YSwgbGlua1RvVGl0bGVQYWdlLCBtYXBQYWdlVXJsXSk7XG4gIGNvbnN0IHJlbmRlclBlcnNvblZhbHVlID0gUmVhY3QzOC51c2VNZW1vKCgpID0+IGZ1bmN0aW9uIFBlcnNvblByb3BlcnR5KCkge1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3QzOC5jcmVhdGVFbGVtZW50KFRleHQsIHtcbiAgICAgIHZhbHVlOiBkYXRhLFxuICAgICAgYmxvY2tcbiAgICB9KTtcbiAgfSwgW2Jsb2NrLCBkYXRhXSk7XG4gIGNvbnN0IHJlbmRlckZpbGVWYWx1ZSA9IFJlYWN0MzgudXNlTWVtbygoKSA9PiBmdW5jdGlvbiBGaWxlUHJvcGVydHkoKSB7XG4gICAgY29uc3QgZmlsZXMgPSBkYXRhLmZpbHRlcigodikgPT4gdi5sZW5ndGggPT09IDIpLm1hcCgoZikgPT4gZi5mbGF0KCkuZmxhdCgpKTtcbiAgICByZXR1cm4gZmlsZXMubWFwKChmaWxlLCBpKSA9PiAvKiBAX19QVVJFX18gKi8gUmVhY3QzOC5jcmVhdGVFbGVtZW50KGNvbXBvbmVudHMuTGluaywge1xuICAgICAga2V5OiBpLFxuICAgICAgY2xhc3NOYW1lOiBcIm5vdGlvbi1wcm9wZXJ0eS1maWxlXCIsXG4gICAgICBocmVmOiBtYXBJbWFnZVVybChmaWxlWzJdLCBibG9jayksXG4gICAgICB0YXJnZXQ6IFwiX2JsYW5rXCIsXG4gICAgICByZWw6IFwibm9yZWZlcnJlciBub29wZW5lclwiXG4gICAgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0MzguY3JlYXRlRWxlbWVudChHcmFjZWZ1bEltYWdlLCB7XG4gICAgICBhbHQ6IGZpbGVbMF0sXG4gICAgICBzcmM6IG1hcEltYWdlVXJsKGZpbGVbMl0sIGJsb2NrKSxcbiAgICAgIGxvYWRpbmc6IFwibGF6eVwiXG4gICAgfSkpKTtcbiAgfSwgW2Jsb2NrLCBjb21wb25lbnRzLCBkYXRhLCBtYXBJbWFnZVVybF0pO1xuICBjb25zdCByZW5kZXJDaGVja2JveFZhbHVlID0gUmVhY3QzOC51c2VNZW1vKCgpID0+IGZ1bmN0aW9uIENoZWNrYm94UHJvcGVydHkoKSB7XG4gICAgY29uc3QgaXNDaGVja2VkID0gZGF0YSAmJiBkYXRhWzBdWzBdID09PSBcIlllc1wiO1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3QzOC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzTmFtZTogXCJub3Rpb24tcHJvcGVydHktY2hlY2tib3gtY29udGFpbmVyXCJcbiAgICB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3QzOC5jcmVhdGVFbGVtZW50KENoZWNrYm94LCB7XG4gICAgICBpc0NoZWNrZWQsXG4gICAgICBibG9ja0lkOiB2b2lkIDBcbiAgICB9KSwgLyogQF9fUFVSRV9fICovIFJlYWN0MzguY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgICAgY2xhc3NOYW1lOiBcIm5vdGlvbi1wcm9wZXJ0eS1jaGVja2JveC10ZXh0XCJcbiAgICB9LCBzY2hlbWEubmFtZSkpO1xuICB9LCBbZGF0YSwgc2NoZW1hXSk7XG4gIGNvbnN0IHJlbmRlclVybFZhbHVlID0gUmVhY3QzOC51c2VNZW1vKCgpID0+IGZ1bmN0aW9uIFVybFByb3BlcnR5KCkge1xuICAgIGNvbnN0IGQgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGRhdGEpKTtcbiAgICBpZiAoaW5saW5lKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCB1cmwgPSBuZXcgVVJMKGRbMF1bMF0pO1xuICAgICAgICBkWzBdWzBdID0gdXJsLmhvc3RuYW1lLnJlcGxhY2UoL153d3dcXC4vLCBcIlwiKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0MzguY3JlYXRlRWxlbWVudChUZXh0LCB7XG4gICAgICB2YWx1ZTogZCxcbiAgICAgIGJsb2NrLFxuICAgICAgaW5saW5lLFxuICAgICAgbGlua1Byb3BzOiB7XG4gICAgICAgIHRhcmdldDogXCJfYmxhbmtcIixcbiAgICAgICAgcmVsOiBcIm5vcmVmZXJyZXIgbm9vcGVuZXJcIlxuICAgICAgfVxuICAgIH0pO1xuICB9LCBbYmxvY2ssIGRhdGEsIGlubGluZV0pO1xuICBjb25zdCByZW5kZXJFbWFpbFZhbHVlID0gUmVhY3QzOC51c2VNZW1vKCgpID0+IGZ1bmN0aW9uIEVtYWlsUHJvcGVydHkoKSB7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDM4LmNyZWF0ZUVsZW1lbnQoVGV4dCwge1xuICAgICAgdmFsdWU6IGRhdGEsXG4gICAgICBsaW5rUHJvdG9jb2w6IFwibWFpbHRvXCIsXG4gICAgICBibG9ja1xuICAgIH0pO1xuICB9LCBbYmxvY2ssIGRhdGFdKTtcbiAgY29uc3QgcmVuZGVyUGhvbmVOdW1iZXJWYWx1ZSA9IFJlYWN0MzgudXNlTWVtbygoKSA9PiBmdW5jdGlvbiBQaG9uZU51bWJlclByb3BlcnR5KCkge1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3QzOC5jcmVhdGVFbGVtZW50KFRleHQsIHtcbiAgICAgIHZhbHVlOiBkYXRhLFxuICAgICAgbGlua1Byb3RvY29sOiBcInRlbFwiLFxuICAgICAgYmxvY2tcbiAgICB9KTtcbiAgfSwgW2Jsb2NrLCBkYXRhXSk7XG4gIGNvbnN0IHJlbmRlck51bWJlclZhbHVlID0gUmVhY3QzOC51c2VNZW1vKCgpID0+IGZ1bmN0aW9uIE51bWJlclByb3BlcnR5KCkge1xuICAgIGNvbnN0IHZhbHVlID0gcGFyc2VGbG9hdChkYXRhWzBdWzBdIHx8IFwiMFwiKTtcbiAgICBsZXQgb3V0cHV0ID0gXCJcIjtcbiAgICBpZiAoaXNOYU4odmFsdWUpKSB7XG4gICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0MzguY3JlYXRlRWxlbWVudChUZXh0LCB7XG4gICAgICAgIHZhbHVlOiBkYXRhLFxuICAgICAgICBibG9ja1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN3aXRjaCAoc2NoZW1hLm51bWJlcl9mb3JtYXQpIHtcbiAgICAgICAgY2FzZSBcIm51bWJlcl93aXRoX2NvbW1hc1wiOlxuICAgICAgICAgIG91dHB1dCA9ICgwLCBpbXBvcnRfZm9ybWF0X251bWJlci5kZWZhdWx0KSgpKHZhbHVlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInBlcmNlbnRcIjpcbiAgICAgICAgICBvdXRwdXQgPSAoMCwgaW1wb3J0X2Zvcm1hdF9udW1iZXIuZGVmYXVsdCkoeyBzdWZmaXg6IFwiJVwiIH0pKHZhbHVlICogMTAwKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImRvbGxhclwiOlxuICAgICAgICAgIG91dHB1dCA9ICgwLCBpbXBvcnRfZm9ybWF0X251bWJlci5kZWZhdWx0KSh7IHByZWZpeDogXCIkXCIsIHJvdW5kOiAyLCBwYWRSaWdodDogMiB9KSh2YWx1ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJldXJvXCI6XG4gICAgICAgICAgb3V0cHV0ID0gKDAsIGltcG9ydF9mb3JtYXRfbnVtYmVyLmRlZmF1bHQpKHsgcHJlZml4OiBcIlxcdTIwQUNcIiwgcm91bmQ6IDIsIHBhZFJpZ2h0OiAyIH0pKHZhbHVlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInBvdW5kXCI6XG4gICAgICAgICAgb3V0cHV0ID0gKDAsIGltcG9ydF9mb3JtYXRfbnVtYmVyLmRlZmF1bHQpKHsgcHJlZml4OiBcIlxceEEzXCIsIHJvdW5kOiAyLCBwYWRSaWdodDogMiB9KSh2YWx1ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJ5ZW5cIjpcbiAgICAgICAgICBvdXRwdXQgPSAoMCwgaW1wb3J0X2Zvcm1hdF9udW1iZXIuZGVmYXVsdCkoeyBwcmVmaXg6IFwiXFx4QTVcIiwgcm91bmQ6IDAgfSkodmFsdWUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwicnVwZWVcIjpcbiAgICAgICAgICBvdXRwdXQgPSAoMCwgaW1wb3J0X2Zvcm1hdF9udW1iZXIuZGVmYXVsdCkoeyBwcmVmaXg6IFwiXFx1MjBCOVwiLCByb3VuZDogMiwgcGFkUmlnaHQ6IDIgfSkodmFsdWUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwid29uXCI6XG4gICAgICAgICAgb3V0cHV0ID0gKDAsIGltcG9ydF9mb3JtYXRfbnVtYmVyLmRlZmF1bHQpKHsgcHJlZml4OiBcIlxcdTIwQTlcIiwgcm91bmQ6IDAgfSkodmFsdWUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwieXVhblwiOlxuICAgICAgICAgIG91dHB1dCA9ICgwLCBpbXBvcnRfZm9ybWF0X251bWJlci5kZWZhdWx0KSh7IHByZWZpeDogXCJDTlxceEE1XCIsIHJvdW5kOiAyLCBwYWRSaWdodDogMiB9KSh2YWx1ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDM4LmNyZWF0ZUVsZW1lbnQoVGV4dCwge1xuICAgICAgICAgICAgdmFsdWU6IGRhdGEsXG4gICAgICAgICAgICBibG9ja1xuICAgICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDM4LmNyZWF0ZUVsZW1lbnQoVGV4dCwge1xuICAgICAgICB2YWx1ZTogW1tvdXRwdXRdXSxcbiAgICAgICAgYmxvY2tcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwgW2Jsb2NrLCBkYXRhLCBzY2hlbWFdKTtcbiAgY29uc3QgcmVuZGVyQ3JlYXRlZFRpbWVWYWx1ZSA9IFJlYWN0MzgudXNlTWVtbygoKSA9PiBmdW5jdGlvbiBDcmVhdGVkVGltZVByb3BlcnR5KCkge1xuICAgIHJldHVybiAoMCwgaW1wb3J0X2Zvcm1hdDIuZGVmYXVsdCkobmV3IERhdGUoYmxvY2sgPT0gbnVsbCA/IHZvaWQgMCA6IGJsb2NrLmNyZWF0ZWRfdGltZSksIFwiTU1NIGQsIFlZWSBoaDptbSBhYVwiKTtcbiAgfSwgW2Jsb2NrID09IG51bGwgPyB2b2lkIDAgOiBibG9jay5jcmVhdGVkX3RpbWVdKTtcbiAgY29uc3QgcmVuZGVyTGFzdEVkaXRlZFRpbWVWYWx1ZSA9IFJlYWN0MzgudXNlTWVtbygoKSA9PiBmdW5jdGlvbiBMYXN0RWRpdGVkVGltZVByb3BlcnR5KCkge1xuICAgIHJldHVybiAoMCwgaW1wb3J0X2Zvcm1hdDIuZGVmYXVsdCkobmV3IERhdGUoYmxvY2sgPT0gbnVsbCA/IHZvaWQgMCA6IGJsb2NrLmxhc3RfZWRpdGVkX3RpbWUpLCBcIk1NTSBkLCBZWVkgaGg6bW0gYWFcIik7XG4gIH0sIFtibG9jayA9PSBudWxsID8gdm9pZCAwIDogYmxvY2subGFzdF9lZGl0ZWRfdGltZV0pO1xuICBpZiAoIXNjaGVtYSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGxldCBjb250ZW50ID0gbnVsbDtcbiAgaWYgKGRhdGEgfHwgc2NoZW1hLnR5cGUgPT09IFwiY2hlY2tib3hcIiB8fCBzY2hlbWEudHlwZSA9PT0gXCJ0aXRsZVwiIHx8IHNjaGVtYS50eXBlID09PSBcImZvcm11bGFcIiB8fCBzY2hlbWEudHlwZSA9PT0gXCJjcmVhdGVkX2J5XCIgfHwgc2NoZW1hLnR5cGUgPT09IFwibGFzdF9lZGl0ZWRfYnlcIiB8fCBzY2hlbWEudHlwZSA9PT0gXCJjcmVhdGVkX3RpbWVcIiB8fCBzY2hlbWEudHlwZSA9PT0gXCJsYXN0X2VkaXRlZF90aW1lXCIpIHtcbiAgICBzd2l0Y2ggKHNjaGVtYS50eXBlKSB7XG4gICAgICBjYXNlIFwicmVsYXRpb25cIjpcbiAgICAgICAgY29udGVudCA9IGNvbXBvbmVudHMucHJvcGVydHlSZWxhdGlvblZhbHVlKHByb3BzLCByZW5kZXJSZWxhdGlvblZhbHVlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZm9ybXVsYVwiOlxuICAgICAgICBjb250ZW50ID0gY29tcG9uZW50cy5wcm9wZXJ0eUZvcm11bGFWYWx1ZShwcm9wcywgcmVuZGVyRm9ybXVsYVZhbHVlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwidGl0bGVcIjpcbiAgICAgICAgY29udGVudCA9IGNvbXBvbmVudHMucHJvcGVydHlUaXRsZVZhbHVlKHByb3BzLCByZW5kZXJUaXRsZVZhbHVlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwic2VsZWN0XCI6XG4gICAgICBjYXNlIFwibXVsdGlfc2VsZWN0XCI6IHtcbiAgICAgICAgY29uc3QgdmFsdWVzID0gKGRhdGFbMF1bMF0gfHwgXCJcIikuc3BsaXQoXCIsXCIpO1xuICAgICAgICBjb250ZW50ID0gdmFsdWVzLm1hcCgodmFsdWUsIGluZGV4KSA9PiB7XG4gICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgIGNvbnN0IG9wdGlvbiA9IChfYSA9IHNjaGVtYS5vcHRpb25zKSA9PSBudWxsID8gdm9pZCAwIDogX2EuZmluZCgob3B0aW9uMikgPT4gdmFsdWUgPT09IG9wdGlvbjIudmFsdWUpO1xuICAgICAgICAgIGNvbnN0IGNvbG9yID0gb3B0aW9uID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb24uY29sb3I7XG4gICAgICAgICAgcmV0dXJuIGNvbXBvbmVudHMucHJvcGVydHlTZWxlY3RWYWx1ZShfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKHt9LCBwcm9wcyksIHtcbiAgICAgICAgICAgIGtleTogaW5kZXgsXG4gICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgIG9wdGlvbixcbiAgICAgICAgICAgIGNvbG9yXG4gICAgICAgICAgfSksICgpID0+IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDM4LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICAgICAga2V5OiBpbmRleCxcbiAgICAgICAgICAgIGNsYXNzTmFtZTogY3MoYG5vdGlvbi1wcm9wZXJ0eS0ke3NjaGVtYS50eXBlfS1pdGVtYCwgY29sb3IgJiYgYG5vdGlvbi1pdGVtLSR7Y29sb3J9YClcbiAgICAgICAgICB9LCB2YWx1ZSkpO1xuICAgICAgICB9KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIFwicGVyc29uXCI6XG4gICAgICAgIGNvbnRlbnQgPSBjb21wb25lbnRzLnByb3BlcnR5UGVyc29uVmFsdWUocHJvcHMsIHJlbmRlclBlcnNvblZhbHVlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZmlsZVwiOlxuICAgICAgICBjb250ZW50ID0gY29tcG9uZW50cy5wcm9wZXJ0eUZpbGVWYWx1ZShwcm9wcywgcmVuZGVyRmlsZVZhbHVlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiY2hlY2tib3hcIjpcbiAgICAgICAgY29udGVudCA9IGNvbXBvbmVudHMucHJvcGVydHlDaGVja2JveFZhbHVlKHByb3BzLCByZW5kZXJDaGVja2JveFZhbHVlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwidXJsXCI6XG4gICAgICAgIGNvbnRlbnQgPSBjb21wb25lbnRzLnByb3BlcnR5VXJsVmFsdWUocHJvcHMsIHJlbmRlclVybFZhbHVlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZW1haWxcIjpcbiAgICAgICAgY29udGVudCA9IGNvbXBvbmVudHMucHJvcGVydHlFbWFpbFZhbHVlKHByb3BzLCByZW5kZXJFbWFpbFZhbHVlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwicGhvbmVfbnVtYmVyXCI6XG4gICAgICAgIGNvbnRlbnQgPSBjb21wb25lbnRzLnByb3BlcnR5UGhvbmVOdW1iZXJWYWx1ZShwcm9wcywgcmVuZGVyUGhvbmVOdW1iZXJWYWx1ZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcIm51bWJlclwiOlxuICAgICAgICBjb250ZW50ID0gY29tcG9uZW50cy5wcm9wZXJ0eU51bWJlclZhbHVlKHByb3BzLCByZW5kZXJOdW1iZXJWYWx1ZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImNyZWF0ZWRfdGltZVwiOlxuICAgICAgICBjb250ZW50ID0gY29tcG9uZW50cy5wcm9wZXJ0eUNyZWF0ZWRUaW1lVmFsdWUocHJvcHMsIHJlbmRlckNyZWF0ZWRUaW1lVmFsdWUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJsYXN0X2VkaXRlZF90aW1lXCI6XG4gICAgICAgIGNvbnRlbnQgPSBjb21wb25lbnRzLnByb3BlcnR5TGFzdEVkaXRlZFRpbWVWYWx1ZShwcm9wcywgcmVuZGVyTGFzdEVkaXRlZFRpbWVWYWx1ZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImNyZWF0ZWRfYnlcIjpcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwibGFzdF9lZGl0ZWRfYnlcIjpcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwidGV4dFwiOlxuICAgICAgICBjb250ZW50ID0gY29tcG9uZW50cy5wcm9wZXJ0eVRleHRWYWx1ZShwcm9wcywgcmVuZGVyVGV4dFZhbHVlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZGF0ZVwiOlxuICAgICAgICBjb250ZW50ID0gY29tcG9uZW50cy5wcm9wZXJ0eURhdGVWYWx1ZShwcm9wcywgcmVuZGVyRGF0ZVZhbHVlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBjb250ZW50ID0gLyogQF9fUFVSRV9fICovIFJlYWN0MzguY3JlYXRlRWxlbWVudChUZXh0LCB7XG4gICAgICAgICAgdmFsdWU6IGRhdGEsXG4gICAgICAgICAgYmxvY2tcbiAgICAgICAgfSk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0MzguY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgIGNsYXNzTmFtZTogYG5vdGlvbi1wcm9wZXJ0eSBub3Rpb24tcHJvcGVydHktJHtzY2hlbWEudHlwZX1gXG4gIH0sIGNvbnRlbnQpO1xufTtcbnZhciBQcm9wZXJ0eUltcGxNZW1vID0gUmVhY3QzOC5tZW1vKFByb3BlcnR5SW1wbCk7XG5cbi8vIHNyYy90aGlyZC1wYXJ0eS9jb2xsZWN0aW9uLXJvdy50c3hcbnZhciBDb2xsZWN0aW9uUm93ID0gKHsgYmxvY2ssIHBhZ2VIZWFkZXIgPSBmYWxzZSwgY2xhc3NOYW1lIH0pID0+IHtcbiAgdmFyIF9hLCBfYiwgX2MsIF9kO1xuICBjb25zdCB7IHJlY29yZE1hcCB9ID0gdXNlTm90aW9uQ29udGV4dCgpO1xuICBjb25zdCBjb2xsZWN0aW9uSWQgPSBibG9jay5wYXJlbnRfaWQ7XG4gIGNvbnN0IGNvbGxlY3Rpb24gPSAoX2EgPSByZWNvcmRNYXAuY29sbGVjdGlvbltjb2xsZWN0aW9uSWRdKSA9PSBudWxsID8gdm9pZCAwIDogX2EudmFsdWU7XG4gIGNvbnN0IHNjaGVtYXMgPSBjb2xsZWN0aW9uID09IG51bGwgPyB2b2lkIDAgOiBjb2xsZWN0aW9uLnNjaGVtYTtcbiAgaWYgKCFjb2xsZWN0aW9uIHx8ICFzY2hlbWFzKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgbGV0IHByb3BlcnR5SWRzID0gT2JqZWN0LmtleXMoc2NoZW1hcykuZmlsdGVyKChpZCkgPT4gaWQgIT09IFwidGl0bGVcIik7XG4gIGlmICgoX2IgPSBjb2xsZWN0aW9uLmZvcm1hdCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9iLnByb3BlcnR5X3Zpc2liaWxpdHkpIHtcbiAgICBwcm9wZXJ0eUlkcyA9IHByb3BlcnR5SWRzLmZpbHRlcigoaWQpID0+IHtcbiAgICAgIHZhciBfYTI7XG4gICAgICByZXR1cm4gKChfYTIgPSBjb2xsZWN0aW9uLmZvcm1hdC5wcm9wZXJ0eV92aXNpYmlsaXR5LmZpbmQoKHsgcHJvcGVydHkgfSkgPT4gcHJvcGVydHkgPT09IGlkKSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMi52aXNpYmlsaXR5KSAhPT0gXCJoaWRlXCI7XG4gICAgfSk7XG4gIH1cbiAgaWYgKChfYyA9IGNvbGxlY3Rpb24uZm9ybWF0KSA9PSBudWxsID8gdm9pZCAwIDogX2MuY29sbGVjdGlvbl9wYWdlX3Byb3BlcnRpZXMpIHtcbiAgICBjb25zdCBpZFRvSW5kZXggPSAoX2QgPSBjb2xsZWN0aW9uLmZvcm1hdCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9kLmNvbGxlY3Rpb25fcGFnZV9wcm9wZXJ0aWVzLnJlZHVjZSgoYWNjLCBwLCBpKSA9PiBfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKHt9LCBhY2MpLCB7XG4gICAgICBbcC5wcm9wZXJ0eV06IGlcbiAgICB9KSwge30pO1xuICAgIHByb3BlcnR5SWRzLnNvcnQoKGEsIGIpID0+IGlkVG9JbmRleFthXSAtIGlkVG9JbmRleFtiXSk7XG4gIH0gZWxzZSB7XG4gICAgcHJvcGVydHlJZHMuc29ydCgoYSwgYikgPT4gc2NoZW1hc1thXS5uYW1lLmxvY2FsZUNvbXBhcmUoc2NoZW1hc1tiXS5uYW1lKSk7XG4gIH1cbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDM5LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogY3MoXCJub3Rpb24tY29sbGVjdGlvbi1yb3dcIiwgY2xhc3NOYW1lKVxuICB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3QzOS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwibm90aW9uLWNvbGxlY3Rpb24tcm93LWJvZHlcIlxuICB9LCBwcm9wZXJ0eUlkcy5tYXAoKHByb3BlcnR5SWQpID0+IHtcbiAgICB2YXIgX2EyO1xuICAgIGNvbnN0IHNjaGVtYSA9IHNjaGVtYXNbcHJvcGVydHlJZF07XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDM5LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgY2xhc3NOYW1lOiBcIm5vdGlvbi1jb2xsZWN0aW9uLXJvdy1wcm9wZXJ0eVwiLFxuICAgICAga2V5OiBwcm9wZXJ0eUlkXG4gICAgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0MzkuY3JlYXRlRWxlbWVudChDb2xsZWN0aW9uQ29sdW1uVGl0bGUsIHtcbiAgICAgIHNjaGVtYVxuICAgIH0pLCAvKiBAX19QVVJFX18gKi8gUmVhY3QzOS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzTmFtZTogXCJub3Rpb24tY29sbGVjdGlvbi1yb3ctdmFsdWVcIlxuICAgIH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDM5LmNyZWF0ZUVsZW1lbnQoUHJvcGVydHksIHtcbiAgICAgIHNjaGVtYSxcbiAgICAgIGRhdGE6IChfYTIgPSBibG9jay5wcm9wZXJ0aWVzKSA9PSBudWxsID8gdm9pZCAwIDogX2EyW3Byb3BlcnR5SWRdLFxuICAgICAgcHJvcGVydHlJZCxcbiAgICAgIGJsb2NrLFxuICAgICAgY29sbGVjdGlvbixcbiAgICAgIHBhZ2VIZWFkZXJcbiAgICB9KSkpO1xuICB9KSkpO1xufTtcblxuLy8gc3JjL2ljb25zL2NvbGxlY3Rpb24tdmlldy10YWJsZS50c3hcbmltcG9ydCAqIGFzIFJlYWN0NDAgZnJvbSBcInJlYWN0XCI7XG5mdW5jdGlvbiBTdmdDb2xsZWN0aW9uVmlld1RhYmxlKHByb3BzKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3Q0MC5jcmVhdGVFbGVtZW50KFwic3ZnXCIsIF9fc3ByZWFkVmFsdWVzKHtcbiAgICB2aWV3Qm94OiBcIjAgMCAxNCAxNFwiXG4gIH0sIHByb3BzKSwgLyogQF9fUFVSRV9fICovIFJlYWN0NDAuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgIGQ6IFwiTTIgMGgxMGEyIDIgMCAwMTIgMnYxMGEyIDIgMCAwMS0yIDJIMmEyIDIgMCAwMS0yLTJWMmEyIDIgMCAwMTItMnptMy43NSA1LjY3djIuNjZoNi43NVY1LjY3SDUuNzV6bTAgNC4xN3YyLjY2aDUuNzVhMSAxIDAgMDAxLTFWOS44NEg1Ljc1ek0xLjUgNS42N3YyLjY2aDIuNzVWNS42N0gxLjV6bTAgNC4xN3YxLjY2YTEgMSAwIDAwMSAxaDEuNzVWOS44NEgxLjV6bTEtOC4zNGExIDEgMCAwMC0xIDF2MS42NmgyLjc1VjEuNUgyLjV6bTMuMjUgMHYyLjY2aDYuNzVWMi41YTEgMSAwIDAwLTEtMUg1Ljc1elwiXG4gIH0pKTtcbn1cbnZhciBjb2xsZWN0aW9uX3ZpZXdfdGFibGVfZGVmYXVsdCA9IFN2Z0NvbGxlY3Rpb25WaWV3VGFibGU7XG5cbi8vIHNyYy9pY29ucy9jb2xsZWN0aW9uLXZpZXctYm9hcmQudHN4XG5pbXBvcnQgKiBhcyBSZWFjdDQxIGZyb20gXCJyZWFjdFwiO1xuZnVuY3Rpb24gU3ZnQ29sbGVjdGlvblZpZXdCb2FyZChwcm9wcykge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0NDEuY3JlYXRlRWxlbWVudChcInN2Z1wiLCBfX3NwcmVhZFZhbHVlcyh7XG4gICAgdmlld0JveDogXCIwIDAgMTQgMTRcIlxuICB9LCBwcm9wcyksIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDQxLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgICBkOiBcIk0xMiAxLjVIMmEuNS41IDAgMDAtLjUuNXYxMGEuNS41IDAgMDAuNS41aDEwYS41LjUgMCAwMC41LS41VjJhLjUuNSAwIDAwLS41LS41ek0yIDBoMTBhMiAyIDAgMDEyIDJ2MTBhMiAyIDAgMDEtMiAySDJhMiAyIDAgMDEtMi0yVjJhMiAyIDAgMDEyLTJ6bTEgM2gydjZIM1Yzem0zIDBoMnY4SDZWM3ptMyAwaDJ2NEg5VjN6XCJcbiAgfSkpO1xufVxudmFyIGNvbGxlY3Rpb25fdmlld19ib2FyZF9kZWZhdWx0ID0gU3ZnQ29sbGVjdGlvblZpZXdCb2FyZDtcblxuLy8gc3JjL2ljb25zL2NvbGxlY3Rpb24tdmlldy1nYWxsZXJ5LnRzeFxuaW1wb3J0ICogYXMgUmVhY3Q0MiBmcm9tIFwicmVhY3RcIjtcbmZ1bmN0aW9uIFN2Z0NvbGxlY3Rpb25WaWV3R2FsbGVyeShwcm9wcykge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0NDIuY3JlYXRlRWxlbWVudChcInN2Z1wiLCBfX3NwcmVhZFZhbHVlcyh7XG4gICAgdmlld0JveDogXCIwIDAgMTQgMTRcIlxuICB9LCBwcm9wcyksIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDQyLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgICBkOiBcIk0xMiAxLjVIMmEuNS41IDAgMDAtLjUuNXYxMGEuNS41IDAgMDAuNS41aDEwYS41LjUgMCAwMC41LS41VjJhLjUuNSAwIDAwLS41LS41ek0yIDBoMTBhMiAyIDAgMDEyIDJ2MTBhMiAyIDAgMDEtMiAySDJhMiAyIDAgMDEtMi0yVjJhMiAyIDAgMDEyLTJ6bTEgM2gzLjV2My41SDNWM3ptNC41IDBIMTF2My41SDcuNVYzek0zIDcuNWgzLjVWMTFIM1Y3LjV6bTQuNSAwSDExVjExSDcuNVY3LjV6XCJcbiAgfSkpO1xufVxudmFyIGNvbGxlY3Rpb25fdmlld19nYWxsZXJ5X2RlZmF1bHQgPSBTdmdDb2xsZWN0aW9uVmlld0dhbGxlcnk7XG5cbi8vIHNyYy9pY29ucy9jb2xsZWN0aW9uLXZpZXctbGlzdC50c3hcbmltcG9ydCAqIGFzIFJlYWN0NDMgZnJvbSBcInJlYWN0XCI7XG5mdW5jdGlvbiBTdmdDb2xsZWN0aW9uVmlld0xpc3QocHJvcHMpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDQzLmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwgX19zcHJlYWRWYWx1ZXMoe1xuICAgIHZpZXdCb3g6IFwiMCAwIDE0IDE0XCJcbiAgfSwgcHJvcHMpLCAvKiBAX19QVVJFX18gKi8gUmVhY3Q0My5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgZDogXCJNMTIgMS41SDJhLjUuNSAwIDAwLS41LjV2MTBhLjUuNSAwIDAwLjUuNWgxMGEuNS41IDAgMDAuNS0uNVYyYS41LjUgMCAwMC0uNS0uNXpNMiAwaDEwYTIgMiAwIDAxMiAydjEwYTIgMiAwIDAxLTIgMkgyYTIgMiAwIDAxLTItMlYyYTIgMiAwIDAxMi0yem0xIDNoNnYxLjVIM1Yzem0wIDIuNWg4VjdIM1Y1LjV6TTMgOGg0djEuNUgzVjh6XCJcbiAgfSkpO1xufVxudmFyIGNvbGxlY3Rpb25fdmlld19saXN0X2RlZmF1bHQgPSBTdmdDb2xsZWN0aW9uVmlld0xpc3Q7XG5cbi8vIHNyYy9pY29ucy9jb2xsZWN0aW9uLXZpZXctY2FsZW5kYXIudHN4XG5pbXBvcnQgKiBhcyBSZWFjdDQ0IGZyb20gXCJyZWFjdFwiO1xuZnVuY3Rpb24gU3ZnQ29sbGVjdGlvblZpZXdDYWxlbmRhcihwcm9wcykge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0NDQuY3JlYXRlRWxlbWVudChcInN2Z1wiLCBfX3NwcmVhZFZhbHVlcyh7XG4gICAgdmlld0JveDogXCIwIDAgMTQgMTRcIlxuICB9LCBwcm9wcyksIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDQ0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgICBkOiBcIk0yLjU2NCA0LjAwNGMtLjU4NiAwLS43MS4wMjQtLjgzMy4wOWEuMzE5LjMxOSAwIDAwLS4xNDEuMTRjLS4wNjYuMTI0LS4wOS4yNDctLjA5LjgzNHY2LjM2OGMwIC41ODYuMDI0LjcxLjA5LjgzM2EuMzE5LjMxOSAwIDAwLjE0LjE0MWMuMTI0LjA2Ni4yNDguMDkuODM0LjA5aDguODcyYy41ODYgMCAuNzEtLjAyNC44MzMtLjA5YS4zMTkuMzE5IDAgMDAuMTQxLS4xNGMuMDY2LS4xMjQuMDktLjI0OC4wOS0uODM0VjUuMDY4YzAtLjU4Ny0uMDI0LS43MS0uMDktLjgzNGEuMzE5LjMxOSAwIDAwLS4xNC0uMTRjLS4xMjQtLjA2Ni0uMjQ4LS4wOS0uODM0LS4wOUgyLjU2NHptMC00LjAwNGg4Ljg3MmMuODkyIDAgMS4yMTUuMDkzIDEuNTQuMjY3LjMyNy4xNzQuNTgzLjQzLjc1Ny43NTYuMTc0LjMyNi4yNjcuNjUuMjY3IDEuNTR2OC44NzNjMCAuODkyLS4wOTMgMS4yMTUtLjI2NyAxLjU0LS4xNzQuMzI3LS40My41ODMtLjc1Ni43NTctLjMyNi4xNzQtLjY1LjI2Ny0xLjU0LjI2N0gyLjU2M2MtLjg5MiAwLTEuMjE1LS4wOTMtMS41NC0uMjY3YTEuODE3IDEuODE3IDAgMDEtLjc1Ny0uNzU2Qy4wOTMgMTIuNjUgMCAxMi4zMjcgMCAxMS40MzdWMi41NjNjMC0uODkyLjA5My0xLjIxNS4yNjctMS41NC4xNzQtLjMyNy40My0uNTgzLjc1Ni0uNzU3QzEuMzUuMDkzIDEuNjczIDAgMi41NjMgMHptNC4wNDQgNy44OGMuMTc5LjExLjMxOC4yNTYuNDE4LjQzNi4xLjE4LjE0OC4zOTQuMTQ4LjY0IDAgLjMwNC0uMDguNTk3LS4yMzguODc2LS4xNi4yOC0uMzkyLjQ5OC0uNjkyLjY1LS4yOTkuMTUtLjY4NS4yMjQtMS4xNi4yMjQtLjQ2IDAtLjgyNy0uMDU1LTEuMS0uMTY2YTEuNjg3IDEuNjg3IDAgMDEtLjY4LS40OTIgMi4yMjcgMi4yMjcgMCAwMS0uNDA0LS44MDJsLjA4My0uMTI3IDEuMzctLjE4Mi4xMTIuMDhjLjA1LjI1OC4xMjYuNDMxLjIyMS41MmEuNTA3LjUwNyAwIDAwLjM2NC4xMzMuNDk1LjQ5NSAwIDAwLjM4Ni0uMTY5Yy4xMDUtLjExNS4xNTgtLjI3LjE1OC0uNDcyIDAtLjIwNS0uMDUxLS4zNTgtLjE1LS40NjNhLjUyNy41MjcgMCAwMC0uNDA3LS4xNTcgMS42NSAxLjY1IDAgMDAtLjQxNy4wNzdsLS4xMjctLjEwNC4wNy0uOTguMTE1LS4wOTFjLjA3Mi4wMS4xMjcuMDE1LjE2NC4wMTUuMTU0IDAgLjI4LS4wNDcuMzgtLjE0NC4xLS4wOTYuMTUtLjIwNS4xNS0uMzM1YS4zODguMzg4IDAgMDAtLjEwNi0uMjljLS4wNy0uMDctLjE2OC0uMTA1LS4zLS4xMDVhLjQ0NC40NDQgMCAwMC0uMzI0LjExOGMtLjA4My4wOC0uMTQzLjIzMi0uMTc2LjQ1N2wtLjExNy4wODQtMS4yOTctLjIzMy0uMDc5LS4xMjNjLjExNC0uNDM1LjMzNC0uNzcyLjY2LTEuMDA2LjMyNi0uMjM0Ljc4LS4zNDkgMS4zNi0uMzQ5LjY2NiAwIDEuMTUzLjEyNiAxLjQ2Mi4zODQuMzEuMjU5LjQ2Ny41ODkuNDY3Ljk4MiAwIC4yMzMtLjA2NC40NDYtLjE5Mi42MzZhMS40MyAxLjQzIDAgMDEtLjM3LjM2NWMuMS4wMzQuMTgyLjA3Mi4yNDguMTEzem0xLjc0Ny0uMTQ1YTUuMTg2IDUuMTg2IDAgMDEtLjgwNi4zMWwtLjEyOS0uMDk3VjYuODI0bC4wNy0uMDk2Yy40NTUtLjE0Ny44MDctLjMyMiAxLjA1NS0uNTI0LjI0Ni0uMjAyLjQzOS0uNDUuNTc5LS43NDdsLjA5LS4wNTdoMS4xMzVsLjEuMXY1LjAyMWwtLjEuMUg4Ljk2MWwtLjEtLjFWNy40MjhhNC4wNTMgNC4wNTMgMCAwMS0uNTA2LjMwN3pcIlxuICB9KSk7XG59XG52YXIgY29sbGVjdGlvbl92aWV3X2NhbGVuZGFyX2RlZmF1bHQgPSBTdmdDb2xsZWN0aW9uVmlld0NhbGVuZGFyO1xuXG4vLyBzcmMvaWNvbnMvY29sbGVjdGlvbi12aWV3LWljb24udHN4XG52YXIgaWNvbk1hcDIgPSB7XG4gIHRhYmxlOiBjb2xsZWN0aW9uX3ZpZXdfdGFibGVfZGVmYXVsdCxcbiAgYm9hcmQ6IGNvbGxlY3Rpb25fdmlld19ib2FyZF9kZWZhdWx0LFxuICBnYWxsZXJ5OiBjb2xsZWN0aW9uX3ZpZXdfZ2FsbGVyeV9kZWZhdWx0LFxuICBsaXN0OiBjb2xsZWN0aW9uX3ZpZXdfbGlzdF9kZWZhdWx0LFxuICBjYWxlbmRhcjogY29sbGVjdGlvbl92aWV3X2NhbGVuZGFyX2RlZmF1bHRcbn07XG52YXIgQ29sbGVjdGlvblZpZXdJY29uID0gKF9hKSA9PiB7XG4gIHZhciBfYiA9IF9hLCB7XG4gICAgdHlwZVxuICB9ID0gX2IsIHJlc3QgPSBfX29ialJlc3QoX2IsIFtcbiAgICBcInR5cGVcIlxuICBdKTtcbiAgY29uc3QgaWNvbiA9IGljb25NYXAyW3R5cGVdO1xuICBpZiAoIWljb24pIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICByZXR1cm4gaWNvbihyZXN0KTtcbn07XG5cbi8vIHNyYy9pY29ucy9jaGV2cm9uLWRvd24taWNvbi50c3hcbmltcG9ydCAqIGFzIFJlYWN0NDUgZnJvbSBcInJlYWN0XCI7XG52YXIgQ2hldnJvbkRvd25JY29uID0gKHByb3BzKSA9PiB7XG4gIGNvbnN0IF9hID0gcHJvcHMsIHsgY2xhc3NOYW1lIH0gPSBfYSwgcmVzdCA9IF9fb2JqUmVzdChfYSwgW1wiY2xhc3NOYW1lXCJdKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDQ1LmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwgX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7XG4gICAgY2xhc3NOYW1lXG4gIH0sIHJlc3QpLCB7XG4gICAgdmlld0JveDogXCIwIDAgMzAgMzBcIixcbiAgICB3aWR0aDogXCIxMFwiXG4gIH0pLCAvKiBAX19QVVJFX18gKi8gUmVhY3Q0NS5jcmVhdGVFbGVtZW50KFwicG9seWdvblwiLCB7XG4gICAgcG9pbnRzOiBcIjE1LDE3LjQgNC44LDcgMiw5LjggMTUsMjMgMjgsOS44IDI1LjIsNyBcIlxuICB9KSk7XG59O1xuXG4vLyBzcmMvdGhpcmQtcGFydHkvY29sbGVjdGlvbi12aWV3LnRzeFxuaW1wb3J0ICogYXMgUmVhY3Q1MyBmcm9tIFwicmVhY3RcIjtcblxuLy8gc3JjL3RoaXJkLXBhcnR5L2NvbGxlY3Rpb24tdmlldy10YWJsZS50c3hcbmltcG9ydCAqIGFzIFJlYWN0NDcgZnJvbSBcInJlYWN0XCI7XG5cbi8vIHNyYy90aGlyZC1wYXJ0eS9jb2xsZWN0aW9uLWdyb3VwLnRzeFxuaW1wb3J0ICogYXMgUmVhY3Q0NiBmcm9tIFwicmVhY3RcIjtcbnZhciBDb2xsZWN0aW9uR3JvdXAgPSAoX2EpID0+IHtcbiAgdmFyIF9iID0gX2EsIHtcbiAgICBjb2xsZWN0aW9uVmlld0NvbXBvbmVudDogQ29sbGVjdGlvblZpZXdDb21wb25lbnQsXG4gICAgY29sbGVjdGlvbixcbiAgICBjb2xsZWN0aW9uR3JvdXAsXG4gICAgc2NoZW1hLFxuICAgIHZhbHVlLFxuICAgIGhpZGRlbixcbiAgICBzdW1tYXJ5UHJvcHMsXG4gICAgZGV0YWlsc1Byb3BzXG4gIH0gPSBfYiwgcmVzdCA9IF9fb2JqUmVzdChfYiwgW1xuICAgIFwiY29sbGVjdGlvblZpZXdDb21wb25lbnRcIixcbiAgICBcImNvbGxlY3Rpb25cIixcbiAgICBcImNvbGxlY3Rpb25Hcm91cFwiLFxuICAgIFwic2NoZW1hXCIsXG4gICAgXCJ2YWx1ZVwiLFxuICAgIFwiaGlkZGVuXCIsXG4gICAgXCJzdW1tYXJ5UHJvcHNcIixcbiAgICBcImRldGFpbHNQcm9wc1wiXG4gIF0pO1xuICBpZiAoaGlkZGVuKVxuICAgIHJldHVybiBudWxsO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0NDYuY3JlYXRlRWxlbWVudChcImRldGFpbHNcIiwgX19zcHJlYWRWYWx1ZXMoe1xuICAgIG9wZW46IHRydWUsXG4gICAgY2xhc3NOYW1lOiBcIm5vdGlvbi1jb2xsZWN0aW9uLWdyb3VwXCJcbiAgfSwgZGV0YWlsc1Byb3BzKSwgLyogQF9fUFVSRV9fICovIFJlYWN0NDYuY3JlYXRlRWxlbWVudChcInN1bW1hcnlcIiwgX19zcHJlYWRWYWx1ZXMoe1xuICAgIGNsYXNzTmFtZTogXCJub3Rpb24tY29sbGVjdGlvbi1ncm91cC10aXRsZVwiXG4gIH0sIHN1bW1hcnlQcm9wcyksIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDQ2LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgbnVsbCwgLyogQF9fUFVSRV9fICovIFJlYWN0NDYuY3JlYXRlRWxlbWVudChQcm9wZXJ0eSwge1xuICAgIHNjaGVtYSxcbiAgICBkYXRhOiBbW3ZhbHVlXV0sXG4gICAgY29sbGVjdGlvblxuICB9KSwgLyogQF9fUFVSRV9fICovIFJlYWN0NDYuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgIGNsYXNzTmFtZTogXCJub3Rpb24tYm9hcmQtdGgtY291bnRcIlxuICB9LCBjb2xsZWN0aW9uR3JvdXAgPT0gbnVsbCA/IHZvaWQgMCA6IGNvbGxlY3Rpb25Hcm91cC50b3RhbCkpKSwgLyogQF9fUFVSRV9fICovIFJlYWN0NDYuY3JlYXRlRWxlbWVudChDb2xsZWN0aW9uVmlld0NvbXBvbmVudCwgX19zcHJlYWRWYWx1ZXMoe1xuICAgIGNvbGxlY3Rpb24sXG4gICAgY29sbGVjdGlvbkdyb3VwXG4gIH0sIHJlc3QpKSk7XG59O1xuXG4vLyBzcmMvdGhpcmQtcGFydHkvY29sbGVjdGlvbi11dGlscy50c1xudmFyIGltcG9ydF9mb3JtYXQzID0gX190b0VTTShyZXF1aXJlX2Zvcm1hdCgpLCAxKTtcbmZ1bmN0aW9uIGdldENvbGxlY3Rpb25Hcm91cHMoY29sbGVjdGlvbiwgY29sbGVjdGlvblZpZXcsIGNvbGxlY3Rpb25EYXRhLCAuLi5yZXN0KSB7XG4gIHZhciBfYTtcbiAgY29uc3QgZWxlbXMgPSAoKF9hID0gY29sbGVjdGlvblZpZXcgPT0gbnVsbCA/IHZvaWQgMCA6IGNvbGxlY3Rpb25WaWV3LmZvcm1hdCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmNvbGxlY3Rpb25fZ3JvdXBzKSB8fCBbXTtcbiAgcmV0dXJuIGVsZW1zID09IG51bGwgPyB2b2lkIDAgOiBlbGVtcy5tYXAoKHsgcHJvcGVydHksIGhpZGRlbiwgdmFsdWU6IHsgdmFsdWUsIHR5cGUgfSB9KSA9PiB7XG4gICAgdmFyIF9hMiwgX2I7XG4gICAgY29uc3QgaXNVbmNhdGVnb3JpemVkVmFsdWUgPSB0eXBlb2YgdmFsdWUgPT09IFwidW5kZWZpbmVkXCI7XG4gICAgY29uc3QgaXNEYXRlVmFsdWUgPSB2YWx1ZSA9PSBudWxsID8gdm9pZCAwIDogdmFsdWUucmFuZ2U7XG4gICAgY29uc3QgcXVlcnlMYWJlbCA9IGlzVW5jYXRlZ29yaXplZFZhbHVlID8gXCJ1bmNhdGVnb3JpemVkXCIgOiBpc0RhdGVWYWx1ZSA/ICgoX2EyID0gdmFsdWUucmFuZ2UpID09IG51bGwgPyB2b2lkIDAgOiBfYTIuc3RhcnRfZGF0ZSkgfHwgKChfYiA9IHZhbHVlLnJhbmdlKSA9PSBudWxsID8gdm9pZCAwIDogX2IuZW5kX2RhdGUpIDogKHZhbHVlID09IG51bGwgPyB2b2lkIDAgOiB2YWx1ZS52YWx1ZSkgfHwgdmFsdWU7XG4gICAgY29uc3QgY29sbGVjdGlvbkdyb3VwID0gY29sbGVjdGlvbkRhdGFbYHJlc3VsdHM6JHt0eXBlfToke3F1ZXJ5TGFiZWx9YF07XG4gICAgbGV0IHF1ZXJ5VmFsdWUgPSAhaXNVbmNhdGVnb3JpemVkVmFsdWUgJiYgKGlzRGF0ZVZhbHVlIHx8ICh2YWx1ZSA9PSBudWxsID8gdm9pZCAwIDogdmFsdWUudmFsdWUpIHx8IHZhbHVlKTtcbiAgICBsZXQgc2NoZW1hID0gY29sbGVjdGlvbi5zY2hlbWFbcHJvcGVydHldO1xuICAgIGlmICh0eXBlID09PSBcImNoZWNrYm94XCIgJiYgdmFsdWUpIHtcbiAgICAgIHF1ZXJ5VmFsdWUgPSBcIlllc1wiO1xuICAgIH1cbiAgICBpZiAoaXNEYXRlVmFsdWUpIHtcbiAgICAgIHNjaGVtYSA9IHtcbiAgICAgICAgdHlwZTogXCJ0ZXh0XCIsXG4gICAgICAgIG5hbWU6IFwidGV4dFwiXG4gICAgICB9O1xuICAgICAgcXVlcnlWYWx1ZSA9ICgwLCBpbXBvcnRfZm9ybWF0My5kZWZhdWx0KShuZXcgRGF0ZShxdWVyeUxhYmVsKSwgXCJNTU0gZCwgWVlZIGhoOm1tIGFhXCIpO1xuICAgIH1cbiAgICByZXR1cm4gX19zcHJlYWRWYWx1ZXMoe1xuICAgICAgY29sbGVjdGlvbkdyb3VwLFxuICAgICAgc2NoZW1hLFxuICAgICAgdmFsdWU6IHF1ZXJ5VmFsdWUgfHwgXCJObyBkZXNjcmlwdGlvblwiLFxuICAgICAgaGlkZGVuLFxuICAgICAgY29sbGVjdGlvbixcbiAgICAgIGNvbGxlY3Rpb25WaWV3LFxuICAgICAgY29sbGVjdGlvbkRhdGEsXG4gICAgICBibG9ja0lkczogY29sbGVjdGlvbkdyb3VwID09IG51bGwgPyB2b2lkIDAgOiBjb2xsZWN0aW9uR3JvdXAuYmxvY2tJZHNcbiAgICB9LCByZXN0KTtcbiAgfSk7XG59XG5cbi8vIHNyYy90aGlyZC1wYXJ0eS9jb2xsZWN0aW9uLXZpZXctdGFibGUudHN4XG52YXIgZGVmYXVsdEJsb2NrSWRzID0gW107XG52YXIgQ29sbGVjdGlvblZpZXdUYWJsZSA9ICh7XG4gIGNvbGxlY3Rpb24sXG4gIGNvbGxlY3Rpb25WaWV3LFxuICBjb2xsZWN0aW9uRGF0YSxcbiAgcGFkZGluZyxcbiAgd2lkdGhcbn0pID0+IHtcbiAgdmFyIF9hLCBfYiwgX2M7XG4gIGNvbnN0IGlzR3JvdXBlZENvbGxlY3Rpb24gPSAoX2EgPSBjb2xsZWN0aW9uVmlldyA9PSBudWxsID8gdm9pZCAwIDogY29sbGVjdGlvblZpZXcuZm9ybWF0KSA9PSBudWxsID8gdm9pZCAwIDogX2EuY29sbGVjdGlvbl9ncm91cF9ieTtcbiAgaWYgKGlzR3JvdXBlZENvbGxlY3Rpb24pIHtcbiAgICBjb25zdCBjb2xsZWN0aW9uR3JvdXBzID0gZ2V0Q29sbGVjdGlvbkdyb3Vwcyhjb2xsZWN0aW9uLCBjb2xsZWN0aW9uVmlldywgY29sbGVjdGlvbkRhdGEsIHBhZGRpbmcsIHdpZHRoKTtcbiAgICByZXR1cm4gY29sbGVjdGlvbkdyb3Vwcy5tYXAoKGdyb3VwLCBpbmRleCkgPT4gLyogQF9fUFVSRV9fICovIFJlYWN0NDcuY3JlYXRlRWxlbWVudChDb2xsZWN0aW9uR3JvdXAsIF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe1xuICAgICAga2V5OiBpbmRleFxuICAgIH0sIGdyb3VwKSwge1xuICAgICAgY29sbGVjdGlvblZpZXdDb21wb25lbnQ6IChwcm9wcykgPT4gLyogQF9fUFVSRV9fICovIFJlYWN0NDcuY3JlYXRlRWxlbWVudChUYWJsZSwgX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7fSwgcHJvcHMpLCB7XG4gICAgICAgIHBhZGRpbmcsXG4gICAgICAgIHdpZHRoXG4gICAgICB9KSksXG4gICAgICBzdW1tYXJ5UHJvcHM6IHtcbiAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICBwYWRkaW5nTGVmdDogcGFkZGluZyxcbiAgICAgICAgICBwYWRkaW5nUmlnaHQ6IHBhZGRpbmdcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pKSk7XG4gIH1cbiAgY29uc3QgYmxvY2tJZHMgPSAoKF9jID0gKF9iID0gY29sbGVjdGlvbkRhdGFbXCJjb2xsZWN0aW9uX2dyb3VwX3Jlc3VsdHNcIl0pID09IG51bGwgPyB2b2lkIDAgOiBfYi5ibG9ja0lkcykgIT0gbnVsbCA/IF9jIDogY29sbGVjdGlvbkRhdGEuYmxvY2tJZHMpIHx8IGRlZmF1bHRCbG9ja0lkcztcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDQ3LmNyZWF0ZUVsZW1lbnQoVGFibGUsIHtcbiAgICBibG9ja0lkcyxcbiAgICBjb2xsZWN0aW9uLFxuICAgIGNvbGxlY3Rpb25WaWV3LFxuICAgIHBhZGRpbmcsXG4gICAgd2lkdGhcbiAgfSk7XG59O1xuZnVuY3Rpb24gVGFibGUoeyBibG9ja0lkcyA9IFtdLCBjb2xsZWN0aW9uLCBjb2xsZWN0aW9uVmlldywgd2lkdGgsIHBhZGRpbmcgfSkge1xuICB2YXIgX2E7XG4gIGNvbnN0IHsgcmVjb3JkTWFwLCBsaW5rVGFibGVUaXRsZVByb3BlcnRpZXMgfSA9IHVzZU5vdGlvbkNvbnRleHQoKTtcbiAgY29uc3QgdGFibGVTdHlsZSA9IFJlYWN0NDcudXNlTWVtbygoKSA9PiAoe1xuICAgIHdpZHRoLFxuICAgIG1heFdpZHRoOiB3aWR0aFxuICB9KSwgW3dpZHRoXSk7XG4gIGNvbnN0IHRhYmxlVmlld1N0eWxlID0gUmVhY3Q0Ny51c2VNZW1vKCgpID0+ICh7XG4gICAgcGFkZGluZ0xlZnQ6IHBhZGRpbmcsXG4gICAgcGFkZGluZ1JpZ2h0OiBwYWRkaW5nXG4gIH0pLCBbcGFkZGluZ10pO1xuICBsZXQgcHJvcGVydGllcyA9IFtdO1xuICBpZiAoKF9hID0gY29sbGVjdGlvblZpZXcuZm9ybWF0KSA9PSBudWxsID8gdm9pZCAwIDogX2EudGFibGVfcHJvcGVydGllcykge1xuICAgIHByb3BlcnRpZXMgPSBjb2xsZWN0aW9uVmlldy5mb3JtYXQudGFibGVfcHJvcGVydGllcy5maWx0ZXIoKHApID0+IHAudmlzaWJsZSAmJiBjb2xsZWN0aW9uLnNjaGVtYVtwLnByb3BlcnR5XSk7XG4gIH0gZWxzZSB7XG4gICAgcHJvcGVydGllcyA9IFt7IHByb3BlcnR5OiBcInRpdGxlXCIgfV0uY29uY2F0KE9iamVjdC5rZXlzKGNvbGxlY3Rpb24uc2NoZW1hKS5maWx0ZXIoKHApID0+IHAgIT09IFwidGl0bGVcIikubWFwKChwcm9wZXJ0eSkgPT4gKHsgcHJvcGVydHkgfSkpKTtcbiAgfVxuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0NDcuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcIm5vdGlvbi10YWJsZVwiLFxuICAgIHN0eWxlOiB0YWJsZVN0eWxlXG4gIH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDQ3LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJub3Rpb24tdGFibGUtdmlld1wiLFxuICAgIHN0eWxlOiB0YWJsZVZpZXdTdHlsZVxuICB9LCAhIXByb3BlcnRpZXMubGVuZ3RoICYmIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDQ3LmNyZWF0ZUVsZW1lbnQoUmVhY3Q0Ny5GcmFnbWVudCwgbnVsbCwgLyogQF9fUFVSRV9fICovIFJlYWN0NDcuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcIm5vdGlvbi10YWJsZS1oZWFkZXJcIlxuICB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3Q0Ny5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwibm90aW9uLXRhYmxlLWhlYWRlci1pbm5lclwiXG4gIH0sIHByb3BlcnRpZXMubWFwKChwKSA9PiB7XG4gICAgdmFyIF9hMjtcbiAgICBjb25zdCBzY2hlbWEgPSAoX2EyID0gY29sbGVjdGlvbi5zY2hlbWEpID09IG51bGwgPyB2b2lkIDAgOiBfYTJbcC5wcm9wZXJ0eV07XG4gICAgY29uc3QgaXNUaXRsZSA9IHAucHJvcGVydHkgPT09IFwidGl0bGVcIjtcbiAgICBjb25zdCBzdHlsZSA9IHt9O1xuICAgIGlmIChwLndpZHRoKSB7XG4gICAgICBzdHlsZS53aWR0aCA9IHAud2lkdGg7XG4gICAgfSBlbHNlIGlmIChpc1RpdGxlKSB7XG4gICAgICBzdHlsZS53aWR0aCA9IDI4MDtcbiAgICB9IGVsc2Uge1xuICAgICAgc3R5bGUud2lkdGggPSAyMDA7XG4gICAgfVxuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3Q0Ny5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzTmFtZTogXCJub3Rpb24tdGFibGUtdGhcIixcbiAgICAgIGtleTogcC5wcm9wZXJ0eVxuICAgIH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDQ3LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgY2xhc3NOYW1lOiBcIm5vdGlvbi10YWJsZS12aWV3LWhlYWRlci1jZWxsXCIsXG4gICAgICBzdHlsZVxuICAgIH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDQ3LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgY2xhc3NOYW1lOiBcIm5vdGlvbi10YWJsZS12aWV3LWhlYWRlci1jZWxsLWlubmVyXCJcbiAgICB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3Q0Ny5jcmVhdGVFbGVtZW50KENvbGxlY3Rpb25Db2x1bW5UaXRsZSwge1xuICAgICAgc2NoZW1hXG4gICAgfSkpKSk7XG4gIH0pKSksIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDQ3LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJub3Rpb24tdGFibGUtaGVhZGVyLXBsYWNlaG9sZGVyXCJcbiAgfSksIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDQ3LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJub3Rpb24tdGFibGUtYm9keVwiXG4gIH0sIGJsb2NrSWRzID09IG51bGwgPyB2b2lkIDAgOiBibG9ja0lkcy5tYXAoKGJsb2NrSWQpID0+IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDQ3LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJub3Rpb24tdGFibGUtcm93XCIsXG4gICAga2V5OiBibG9ja0lkXG4gIH0sIHByb3BlcnRpZXMubWFwKChwKSA9PiB7XG4gICAgdmFyIF9hMiwgX2IsIF9jO1xuICAgIGNvbnN0IHNjaGVtYSA9IChfYTIgPSBjb2xsZWN0aW9uLnNjaGVtYSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMltwLnByb3BlcnR5XTtcbiAgICBjb25zdCBibG9jayA9IChfYiA9IHJlY29yZE1hcC5ibG9ja1tibG9ja0lkXSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9iLnZhbHVlO1xuICAgIGNvbnN0IGRhdGEgPSAoX2MgPSBibG9jayA9PSBudWxsID8gdm9pZCAwIDogYmxvY2sucHJvcGVydGllcykgPT0gbnVsbCA/IHZvaWQgMCA6IF9jW3AucHJvcGVydHldO1xuICAgIGNvbnN0IGlzVGl0bGUgPSBwLnByb3BlcnR5ID09PSBcInRpdGxlXCI7XG4gICAgY29uc3Qgc3R5bGUgPSB7fTtcbiAgICBpZiAocC53aWR0aCkge1xuICAgICAgc3R5bGUud2lkdGggPSBwLndpZHRoO1xuICAgIH0gZWxzZSBpZiAoaXNUaXRsZSkge1xuICAgICAgc3R5bGUud2lkdGggPSAyODA7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0eWxlLndpZHRoID0gMjAwO1xuICAgIH1cbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0NDcuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICBrZXk6IHAucHJvcGVydHksXG4gICAgICBjbGFzc05hbWU6IGNzKFwibm90aW9uLXRhYmxlLWNlbGxcIiwgYG5vdGlvbi10YWJsZS1jZWxsLSR7c2NoZW1hLnR5cGV9YCksXG4gICAgICBzdHlsZVxuICAgIH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDQ3LmNyZWF0ZUVsZW1lbnQoUHJvcGVydHksIHtcbiAgICAgIHNjaGVtYSxcbiAgICAgIGRhdGEsXG4gICAgICBibG9jayxcbiAgICAgIGNvbGxlY3Rpb24sXG4gICAgICBsaW5rVG9UaXRsZVBhZ2U6IGxpbmtUYWJsZVRpdGxlUHJvcGVydGllc1xuICAgIH0pKTtcbiAgfSkpKSkpKSk7XG59XG5cbi8vIHNyYy90aGlyZC1wYXJ0eS9jb2xsZWN0aW9uLXZpZXctZ2FsbGVyeS50c3hcbmltcG9ydCAqIGFzIFJlYWN0NDkgZnJvbSBcInJlYWN0XCI7XG5cbi8vIHNyYy90aGlyZC1wYXJ0eS9jb2xsZWN0aW9uLWNhcmQudHN4XG5pbXBvcnQgKiBhcyBSZWFjdDQ4IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgZ2V0VGV4dENvbnRlbnQgYXMgZ2V0VGV4dENvbnRlbnQzIH0gZnJvbSBcIm5vdGlvbi11dGlsc1wiO1xudmFyIENvbGxlY3Rpb25DYXJkID0gKF9hKSA9PiB7XG4gIHZhciBfYiA9IF9hLCB7XG4gICAgY29sbGVjdGlvbixcbiAgICBibG9jayxcbiAgICBjb3ZlcixcbiAgICBjb3ZlclNpemUsXG4gICAgY292ZXJBc3BlY3QsXG4gICAgcHJvcGVydGllcyxcbiAgICBjbGFzc05hbWVcbiAgfSA9IF9iLCByZXN0ID0gX19vYmpSZXN0KF9iLCBbXG4gICAgXCJjb2xsZWN0aW9uXCIsXG4gICAgXCJibG9ja1wiLFxuICAgIFwiY292ZXJcIixcbiAgICBcImNvdmVyU2l6ZVwiLFxuICAgIFwiY292ZXJBc3BlY3RcIixcbiAgICBcInByb3BlcnRpZXNcIixcbiAgICBcImNsYXNzTmFtZVwiXG4gIF0pO1xuICB2YXIgX2EyLCBfYjIsIF9jLCBfZCwgX2UsIF9mLCBfZywgX2gsIF9pLCBfaiwgX2ssIF9sLCBfbTtcbiAgY29uc3QgY3R4MiA9IHVzZU5vdGlvbkNvbnRleHQoKTtcbiAgY29uc3QgeyBjb21wb25lbnRzLCByZWNvcmRNYXAsIG1hcFBhZ2VVcmwsIG1hcEltYWdlVXJsIH0gPSBjdHgyO1xuICBsZXQgY292ZXJDb250ZW50ID0gbnVsbDtcbiAgY29uc3QgeyBwYWdlX2NvdmVyX3Bvc2l0aW9uID0gMC41IH0gPSBibG9jay5mb3JtYXQgfHwge307XG4gIGNvbnN0IGNvdmVyUG9zaXRpb24gPSAoMSAtIHBhZ2VfY292ZXJfcG9zaXRpb24pICogMTAwO1xuICBpZiAoKGNvdmVyID09IG51bGwgPyB2b2lkIDAgOiBjb3Zlci50eXBlKSA9PT0gXCJwYWdlX2NvbnRlbnRcIikge1xuICAgIGNvbnN0IGNvbnRlbnRCbG9ja0lkID0gKF9hMiA9IGJsb2NrLmNvbnRlbnQpID09IG51bGwgPyB2b2lkIDAgOiBfYTIuZmluZCgoYmxvY2tJZCkgPT4ge1xuICAgICAgdmFyIF9hMztcbiAgICAgIGNvbnN0IGJsb2NrMiA9IChfYTMgPSByZWNvcmRNYXAuYmxvY2tbYmxvY2tJZF0pID09IG51bGwgPyB2b2lkIDAgOiBfYTMudmFsdWU7XG4gICAgICBpZiAoKGJsb2NrMiA9PSBudWxsID8gdm9pZCAwIDogYmxvY2syLnR5cGUpID09PSBcImltYWdlXCIpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKGNvbnRlbnRCbG9ja0lkKSB7XG4gICAgICBjb25zdCBjb250ZW50QmxvY2sgPSAoX2IyID0gcmVjb3JkTWFwLmJsb2NrW2NvbnRlbnRCbG9ja0lkXSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9iMi52YWx1ZTtcbiAgICAgIGNvbnN0IHNvdXJjZSA9IChfZyA9IChfZSA9IChfZCA9IChfYyA9IGNvbnRlbnRCbG9jay5wcm9wZXJ0aWVzKSA9PSBudWxsID8gdm9pZCAwIDogX2Muc291cmNlKSA9PSBudWxsID8gdm9pZCAwIDogX2RbMF0pID09IG51bGwgPyB2b2lkIDAgOiBfZVswXSkgIT0gbnVsbCA/IF9nIDogKF9mID0gY29udGVudEJsb2NrLmZvcm1hdCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9mLmRpc3BsYXlfc291cmNlO1xuICAgICAgaWYgKHNvdXJjZSkge1xuICAgICAgICBjb25zdCBzcmMgPSBtYXBJbWFnZVVybChzb3VyY2UsIGNvbnRlbnRCbG9jayk7XG4gICAgICAgIGNvbnN0IGNhcHRpb24gPSAoX2ogPSAoX2kgPSAoX2ggPSBjb250ZW50QmxvY2sucHJvcGVydGllcykgPT0gbnVsbCA/IHZvaWQgMCA6IF9oLmNhcHRpb24pID09IG51bGwgPyB2b2lkIDAgOiBfaVswXSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9qWzBdO1xuICAgICAgICBjb3ZlckNvbnRlbnQgPSAvKiBAX19QVVJFX18gKi8gUmVhY3Q0OC5jcmVhdGVFbGVtZW50KExhenlJbWFnZSwge1xuICAgICAgICAgIHNyYyxcbiAgICAgICAgICBhbHQ6IGNhcHRpb24gfHwgXCJub3Rpb24gaW1hZ2VcIixcbiAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgb2JqZWN0Rml0OiBjb3ZlckFzcGVjdFxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghY292ZXJDb250ZW50KSB7XG4gICAgICBjb3ZlckNvbnRlbnQgPSAvKiBAX19QVVJFX18gKi8gUmVhY3Q0OC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcIm5vdGlvbi1jb2xsZWN0aW9uLWNhcmQtY292ZXItZW1wdHlcIlxuICAgICAgfSk7XG4gICAgfVxuICB9IGVsc2UgaWYgKChjb3ZlciA9PSBudWxsID8gdm9pZCAwIDogY292ZXIudHlwZSkgPT09IFwicGFnZV9jb3ZlclwiKSB7XG4gICAgY29uc3QgeyBwYWdlX2NvdmVyIH0gPSBibG9jay5mb3JtYXQgfHwge307XG4gICAgaWYgKHBhZ2VfY292ZXIpIHtcbiAgICAgIGNvbnN0IGNvdmVyUG9zaXRpb24yID0gKDEgLSBwYWdlX2NvdmVyX3Bvc2l0aW9uKSAqIDEwMDtcbiAgICAgIGNvdmVyQ29udGVudCA9IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDQ4LmNyZWF0ZUVsZW1lbnQoTGF6eUltYWdlLCB7XG4gICAgICAgIHNyYzogbWFwSW1hZ2VVcmwocGFnZV9jb3ZlciwgYmxvY2spLFxuICAgICAgICBhbHQ6IGdldFRleHRDb250ZW50MygoX2sgPSBibG9jay5wcm9wZXJ0aWVzKSA9PSBudWxsID8gdm9pZCAwIDogX2sudGl0bGUpLFxuICAgICAgICBzdHlsZToge1xuICAgICAgICAgIG9iamVjdEZpdDogY292ZXJBc3BlY3QsXG4gICAgICAgICAgb2JqZWN0UG9zaXRpb246IGBjZW50ZXIgJHtjb3ZlclBvc2l0aW9uMn0lYFxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoKGNvdmVyID09IG51bGwgPyB2b2lkIDAgOiBjb3Zlci50eXBlKSA9PT0gXCJwcm9wZXJ0eVwiKSB7XG4gICAgY29uc3QgeyBwcm9wZXJ0eSB9ID0gY292ZXI7XG4gICAgY29uc3Qgc2NoZW1hID0gY29sbGVjdGlvbi5zY2hlbWFbcHJvcGVydHldO1xuICAgIGNvbnN0IGRhdGEgPSAoX2wgPSBibG9jay5wcm9wZXJ0aWVzKSA9PSBudWxsID8gdm9pZCAwIDogX2xbcHJvcGVydHldO1xuICAgIGlmIChzY2hlbWEgJiYgZGF0YSkge1xuICAgICAgaWYgKHNjaGVtYS50eXBlID09PSBcImZpbGVcIikge1xuICAgICAgICBjb25zdCBmaWxlcyA9IGRhdGEuZmlsdGVyKCh2KSA9PiB2Lmxlbmd0aCA9PT0gMikubWFwKChmKSA9PiBmLmZsYXQoKS5mbGF0KCkpO1xuICAgICAgICBjb25zdCBmaWxlID0gZmlsZXNbMF07XG4gICAgICAgIGlmIChmaWxlKSB7XG4gICAgICAgICAgY292ZXJDb250ZW50ID0gLyogQF9fUFVSRV9fICovIFJlYWN0NDguY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgICAgICAgICAgY2xhc3NOYW1lOiBgbm90aW9uLXByb3BlcnR5LSR7c2NoZW1hLnR5cGV9YFxuICAgICAgICAgIH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDQ4LmNyZWF0ZUVsZW1lbnQoTGF6eUltYWdlLCB7XG4gICAgICAgICAgICBhbHQ6IGZpbGVbMF0sXG4gICAgICAgICAgICBzcmM6IG1hcEltYWdlVXJsKGZpbGVbMl0sIGJsb2NrKSxcbiAgICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICAgIG9iamVjdEZpdDogY292ZXJBc3BlY3QsXG4gICAgICAgICAgICAgIG9iamVjdFBvc2l0aW9uOiBgY2VudGVyICR7Y292ZXJQb3NpdGlvbn0lYFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY292ZXJDb250ZW50ID0gLyogQF9fUFVSRV9fICovIFJlYWN0NDguY3JlYXRlRWxlbWVudChQcm9wZXJ0eSwge1xuICAgICAgICAgIHByb3BlcnR5SWQ6IHByb3BlcnR5LFxuICAgICAgICAgIHNjaGVtYSxcbiAgICAgICAgICBkYXRhXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0NDguY3JlYXRlRWxlbWVudChOb3Rpb25Db250ZXh0UHJvdmlkZXIsIF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe30sIGN0eDIpLCB7XG4gICAgY29tcG9uZW50czogX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7fSwgY3R4Mi5jb21wb25lbnRzKSwge1xuICAgICAgTGluazogZHVtbXlMaW5rLFxuICAgICAgUGFnZUxpbms6IGR1bW15TGlua1xuICAgIH0pXG4gIH0pLCAvKiBAX19QVVJFX18gKi8gUmVhY3Q0OC5jcmVhdGVFbGVtZW50KGNvbXBvbmVudHMuUGFnZUxpbmssIF9fc3ByZWFkVmFsdWVzKHtcbiAgICBjbGFzc05hbWU6IGNzKFwibm90aW9uLWNvbGxlY3Rpb24tY2FyZFwiLCBgbm90aW9uLWNvbGxlY3Rpb24tY2FyZC1zaXplLSR7Y292ZXJTaXplfWAsIGNsYXNzTmFtZSksXG4gICAgaHJlZjogbWFwUGFnZVVybChibG9jay5pZClcbiAgfSwgcmVzdCksIChjb3ZlckNvbnRlbnQgfHwgKGNvdmVyID09IG51bGwgPyB2b2lkIDAgOiBjb3Zlci50eXBlKSAhPT0gXCJub25lXCIpICYmIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDQ4LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJub3Rpb24tY29sbGVjdGlvbi1jYXJkLWNvdmVyXCJcbiAgfSwgY292ZXJDb250ZW50KSwgLyogQF9fUFVSRV9fICovIFJlYWN0NDguY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcIm5vdGlvbi1jb2xsZWN0aW9uLWNhcmQtYm9keVwiXG4gIH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDQ4LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJub3Rpb24tY29sbGVjdGlvbi1jYXJkLXByb3BlcnR5XCJcbiAgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0NDguY3JlYXRlRWxlbWVudChQcm9wZXJ0eSwge1xuICAgIHNjaGVtYTogY29sbGVjdGlvbi5zY2hlbWEudGl0bGUsXG4gICAgZGF0YTogKF9tID0gYmxvY2sgPT0gbnVsbCA/IHZvaWQgMCA6IGJsb2NrLnByb3BlcnRpZXMpID09IG51bGwgPyB2b2lkIDAgOiBfbS50aXRsZSxcbiAgICBibG9jayxcbiAgICBjb2xsZWN0aW9uXG4gIH0pKSwgcHJvcGVydGllcyA9PSBudWxsID8gdm9pZCAwIDogcHJvcGVydGllcy5maWx0ZXIoKHApID0+IHAudmlzaWJsZSAmJiBwLnByb3BlcnR5ICE9PSBcInRpdGxlXCIgJiYgY29sbGVjdGlvbi5zY2hlbWFbcC5wcm9wZXJ0eV0pLm1hcCgocCkgPT4ge1xuICAgIGlmICghYmxvY2sucHJvcGVydGllcylcbiAgICAgIHJldHVybiBudWxsO1xuICAgIGNvbnN0IHNjaGVtYSA9IGNvbGxlY3Rpb24uc2NoZW1hW3AucHJvcGVydHldO1xuICAgIGNvbnN0IGRhdGEgPSBibG9jay5wcm9wZXJ0aWVzW3AucHJvcGVydHldO1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3Q0OC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzTmFtZTogXCJub3Rpb24tY29sbGVjdGlvbi1jYXJkLXByb3BlcnR5XCIsXG4gICAgICBrZXk6IHAucHJvcGVydHlcbiAgICB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3Q0OC5jcmVhdGVFbGVtZW50KFByb3BlcnR5LCB7XG4gICAgICBzY2hlbWEsXG4gICAgICBkYXRhLFxuICAgICAgYmxvY2ssXG4gICAgICBjb2xsZWN0aW9uLFxuICAgICAgaW5saW5lOiB0cnVlXG4gICAgfSkpO1xuICB9KSkpKTtcbn07XG5cbi8vIHNyYy90aGlyZC1wYXJ0eS9jb2xsZWN0aW9uLXZpZXctZ2FsbGVyeS50c3hcbnZhciBkZWZhdWx0QmxvY2tJZHMyID0gW107XG52YXIgQ29sbGVjdGlvblZpZXdHYWxsZXJ5ID0gKHtcbiAgY29sbGVjdGlvbixcbiAgY29sbGVjdGlvblZpZXcsXG4gIGNvbGxlY3Rpb25EYXRhXG59KSA9PiB7XG4gIHZhciBfYSwgX2IsIF9jO1xuICBjb25zdCBpc0dyb3VwZWRDb2xsZWN0aW9uID0gKF9hID0gY29sbGVjdGlvblZpZXcgPT0gbnVsbCA/IHZvaWQgMCA6IGNvbGxlY3Rpb25WaWV3LmZvcm1hdCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmNvbGxlY3Rpb25fZ3JvdXBfYnk7XG4gIGlmIChpc0dyb3VwZWRDb2xsZWN0aW9uKSB7XG4gICAgY29uc3QgY29sbGVjdGlvbkdyb3VwcyA9IGdldENvbGxlY3Rpb25Hcm91cHMoY29sbGVjdGlvbiwgY29sbGVjdGlvblZpZXcsIGNvbGxlY3Rpb25EYXRhKTtcbiAgICByZXR1cm4gY29sbGVjdGlvbkdyb3Vwcy5tYXAoKGdyb3VwLCBpbmRleCkgPT4gLyogQF9fUFVSRV9fICovIFJlYWN0NDkuY3JlYXRlRWxlbWVudChDb2xsZWN0aW9uR3JvdXAsIF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe1xuICAgICAga2V5OiBpbmRleFxuICAgIH0sIGdyb3VwKSwge1xuICAgICAgY29sbGVjdGlvblZpZXdDb21wb25lbnQ6IEdhbGxlcnlcbiAgICB9KSkpO1xuICB9XG4gIGNvbnN0IGJsb2NrSWRzID0gKChfYyA9IChfYiA9IGNvbGxlY3Rpb25EYXRhW1wiY29sbGVjdGlvbl9ncm91cF9yZXN1bHRzXCJdKSA9PSBudWxsID8gdm9pZCAwIDogX2IuYmxvY2tJZHMpICE9IG51bGwgPyBfYyA6IGNvbGxlY3Rpb25EYXRhLmJsb2NrSWRzKSB8fCBkZWZhdWx0QmxvY2tJZHMyO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0NDkuY3JlYXRlRWxlbWVudChHYWxsZXJ5LCB7XG4gICAgY29sbGVjdGlvblZpZXcsXG4gICAgY29sbGVjdGlvbixcbiAgICBibG9ja0lkc1xuICB9KTtcbn07XG5mdW5jdGlvbiBHYWxsZXJ5KHsgYmxvY2tJZHMsIGNvbGxlY3Rpb25WaWV3LCBjb2xsZWN0aW9uIH0pIHtcbiAgY29uc3QgeyByZWNvcmRNYXAgfSA9IHVzZU5vdGlvbkNvbnRleHQoKTtcbiAgY29uc3Qge1xuICAgIGdhbGxlcnlfY292ZXIgPSB7IHR5cGU6IFwibm9uZVwiIH0sXG4gICAgZ2FsbGVyeV9jb3Zlcl9zaXplID0gXCJtZWRpdW1cIixcbiAgICBnYWxsZXJ5X2NvdmVyX2FzcGVjdCA9IFwiY292ZXJcIlxuICB9ID0gY29sbGVjdGlvblZpZXcuZm9ybWF0IHx8IHt9O1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0NDkuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcIm5vdGlvbi1nYWxsZXJ5XCJcbiAgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0NDkuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcIm5vdGlvbi1nYWxsZXJ5LXZpZXdcIlxuICB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3Q0OS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IGNzKFwibm90aW9uLWdhbGxlcnktZ3JpZFwiLCBgbm90aW9uLWdhbGxlcnktZ3JpZC1zaXplLSR7Z2FsbGVyeV9jb3Zlcl9zaXplfWApXG4gIH0sIGJsb2NrSWRzID09IG51bGwgPyB2b2lkIDAgOiBibG9ja0lkcy5tYXAoKGJsb2NrSWQpID0+IHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIGNvbnN0IGJsb2NrID0gKF9hID0gcmVjb3JkTWFwLmJsb2NrW2Jsb2NrSWRdKSA9PSBudWxsID8gdm9pZCAwIDogX2EudmFsdWU7XG4gICAgaWYgKCFibG9jaylcbiAgICAgIHJldHVybiBudWxsO1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3Q0OS5jcmVhdGVFbGVtZW50KENvbGxlY3Rpb25DYXJkLCB7XG4gICAgICBjb2xsZWN0aW9uLFxuICAgICAgYmxvY2ssXG4gICAgICBjb3ZlcjogZ2FsbGVyeV9jb3ZlcixcbiAgICAgIGNvdmVyU2l6ZTogZ2FsbGVyeV9jb3Zlcl9zaXplLFxuICAgICAgY292ZXJBc3BlY3Q6IGdhbGxlcnlfY292ZXJfYXNwZWN0LFxuICAgICAgcHJvcGVydGllczogKF9iID0gY29sbGVjdGlvblZpZXcuZm9ybWF0KSA9PSBudWxsID8gdm9pZCAwIDogX2IuZ2FsbGVyeV9wcm9wZXJ0aWVzLFxuICAgICAga2V5OiBibG9ja0lkXG4gICAgfSk7XG4gIH0pKSkpO1xufVxuXG4vLyBzcmMvdGhpcmQtcGFydHkvY29sbGVjdGlvbi12aWV3LWxpc3QudHN4XG5pbXBvcnQgKiBhcyBSZWFjdDUwIGZyb20gXCJyZWFjdFwiO1xudmFyIGRlZmF1bHRCbG9ja0lkczMgPSBbXTtcbnZhciBDb2xsZWN0aW9uVmlld0xpc3QgPSAoe1xuICBjb2xsZWN0aW9uLFxuICBjb2xsZWN0aW9uVmlldyxcbiAgY29sbGVjdGlvbkRhdGFcbn0pID0+IHtcbiAgdmFyIF9hLCBfYiwgX2M7XG4gIGNvbnN0IGlzR3JvdXBlZENvbGxlY3Rpb24gPSAoX2EgPSBjb2xsZWN0aW9uVmlldyA9PSBudWxsID8gdm9pZCAwIDogY29sbGVjdGlvblZpZXcuZm9ybWF0KSA9PSBudWxsID8gdm9pZCAwIDogX2EuY29sbGVjdGlvbl9ncm91cF9ieTtcbiAgaWYgKGlzR3JvdXBlZENvbGxlY3Rpb24pIHtcbiAgICBjb25zdCBjb2xsZWN0aW9uR3JvdXBzID0gZ2V0Q29sbGVjdGlvbkdyb3Vwcyhjb2xsZWN0aW9uLCBjb2xsZWN0aW9uVmlldywgY29sbGVjdGlvbkRhdGEpO1xuICAgIHJldHVybiBjb2xsZWN0aW9uR3JvdXBzLm1hcCgoZ3JvdXAsIGtleSkgPT4gLyogQF9fUFVSRV9fICovIFJlYWN0NTAuY3JlYXRlRWxlbWVudChDb2xsZWN0aW9uR3JvdXAsIF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe1xuICAgICAga2V5XG4gICAgfSwgZ3JvdXApLCB7XG4gICAgICBjb2xsZWN0aW9uVmlld0NvbXBvbmVudDogTGlzdFxuICAgIH0pKSk7XG4gIH1cbiAgY29uc3QgYmxvY2tJZHMgPSAoKF9jID0gKF9iID0gY29sbGVjdGlvbkRhdGFbXCJjb2xsZWN0aW9uX2dyb3VwX3Jlc3VsdHNcIl0pID09IG51bGwgPyB2b2lkIDAgOiBfYi5ibG9ja0lkcykgIT0gbnVsbCA/IF9jIDogY29sbGVjdGlvbkRhdGEuYmxvY2tJZHMpIHx8IGRlZmF1bHRCbG9ja0lkczM7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3Q1MC5jcmVhdGVFbGVtZW50KExpc3QsIHtcbiAgICBibG9ja0lkcyxcbiAgICBjb2xsZWN0aW9uLFxuICAgIGNvbGxlY3Rpb25WaWV3XG4gIH0pO1xufTtcbmZ1bmN0aW9uIExpc3QoeyBibG9ja0lkcywgY29sbGVjdGlvbiwgY29sbGVjdGlvblZpZXcgfSkge1xuICBjb25zdCB7IGNvbXBvbmVudHMsIHJlY29yZE1hcCwgbWFwUGFnZVVybCB9ID0gdXNlTm90aW9uQ29udGV4dCgpO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0NTAuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcIm5vdGlvbi1saXN0LWNvbGxlY3Rpb25cIlxuICB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3Q1MC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwibm90aW9uLWxpc3Qtdmlld1wiXG4gIH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDUwLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJub3Rpb24tbGlzdC1ib2R5XCJcbiAgfSwgYmxvY2tJZHMgPT0gbnVsbCA/IHZvaWQgMCA6IGJsb2NrSWRzLm1hcCgoYmxvY2tJZCkgPT4ge1xuICAgIHZhciBfYSwgX2IsIF9jLCBfZDtcbiAgICBjb25zdCBibG9jayA9IChfYSA9IHJlY29yZE1hcC5ibG9ja1tibG9ja0lkXSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLnZhbHVlO1xuICAgIGlmICghYmxvY2spXG4gICAgICByZXR1cm4gbnVsbDtcbiAgICBjb25zdCB0aXRsZVNjaGVtYSA9IGNvbGxlY3Rpb24uc2NoZW1hLnRpdGxlO1xuICAgIGNvbnN0IHRpdGxlRGF0YSA9IChfYiA9IGJsb2NrID09IG51bGwgPyB2b2lkIDAgOiBibG9jay5wcm9wZXJ0aWVzKSA9PSBudWxsID8gdm9pZCAwIDogX2IudGl0bGU7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDUwLmNyZWF0ZUVsZW1lbnQoY29tcG9uZW50cy5QYWdlTGluaywge1xuICAgICAgY2xhc3NOYW1lOiBcIm5vdGlvbi1saXN0LWl0ZW0gbm90aW9uLXBhZ2UtbGlua1wiLFxuICAgICAgaHJlZjogbWFwUGFnZVVybChibG9jay5pZCksXG4gICAgICBrZXk6IGJsb2NrSWRcbiAgICB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3Q1MC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzTmFtZTogXCJub3Rpb24tbGlzdC1pdGVtLXRpdGxlXCJcbiAgICB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3Q1MC5jcmVhdGVFbGVtZW50KFByb3BlcnR5LCB7XG4gICAgICBzY2hlbWE6IHRpdGxlU2NoZW1hLFxuICAgICAgZGF0YTogdGl0bGVEYXRhLFxuICAgICAgYmxvY2ssXG4gICAgICBjb2xsZWN0aW9uXG4gICAgfSkpLCAvKiBAX19QVVJFX18gKi8gUmVhY3Q1MC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzTmFtZTogXCJub3Rpb24tbGlzdC1pdGVtLWJvZHlcIlxuICAgIH0sIChfZCA9IChfYyA9IGNvbGxlY3Rpb25WaWV3LmZvcm1hdCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9jLmxpc3RfcHJvcGVydGllcykgPT0gbnVsbCA/IHZvaWQgMCA6IF9kLmZpbHRlcigocCkgPT4gcC52aXNpYmxlKS5tYXAoKHApID0+IHtcbiAgICAgIHZhciBfYTI7XG4gICAgICBjb25zdCBzY2hlbWEgPSBjb2xsZWN0aW9uLnNjaGVtYVtwLnByb3BlcnR5XTtcbiAgICAgIGNvbnN0IGRhdGEgPSBibG9jayAmJiAoKF9hMiA9IGJsb2NrLnByb3BlcnRpZXMpID09IG51bGwgPyB2b2lkIDAgOiBfYTJbcC5wcm9wZXJ0eV0pO1xuICAgICAgaWYgKCFzY2hlbWEpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0NTAuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJub3Rpb24tbGlzdC1pdGVtLXByb3BlcnR5XCIsXG4gICAgICAgIGtleTogcC5wcm9wZXJ0eVxuICAgICAgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0NTAuY3JlYXRlRWxlbWVudChQcm9wZXJ0eSwge1xuICAgICAgICBzY2hlbWEsXG4gICAgICAgIGRhdGEsXG4gICAgICAgIGJsb2NrLFxuICAgICAgICBjb2xsZWN0aW9uXG4gICAgICB9KSk7XG4gICAgfSkpKTtcbiAgfSkpKSk7XG59XG5cbi8vIHNyYy90aGlyZC1wYXJ0eS9jb2xsZWN0aW9uLXZpZXctYm9hcmQudHN4XG5pbXBvcnQgKiBhcyBSZWFjdDUyIGZyb20gXCJyZWFjdFwiO1xuXG4vLyBzcmMvaWNvbnMvZW1wdHktaWNvbi50c3hcbmltcG9ydCAqIGFzIFJlYWN0NTEgZnJvbSBcInJlYWN0XCI7XG52YXIgRW1wdHlJY29uID0gKHByb3BzKSA9PiB7XG4gIGNvbnN0IF9hID0gcHJvcHMsIHsgY2xhc3NOYW1lIH0gPSBfYSwgcmVzdCA9IF9fb2JqUmVzdChfYSwgW1wiY2xhc3NOYW1lXCJdKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDUxLmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwgX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7XG4gICAgY2xhc3NOYW1lXG4gIH0sIHJlc3QpLCB7XG4gICAgdmlld0JveDogXCIwIDAgMTQgMTRcIixcbiAgICB3aWR0aDogXCIxNFwiXG4gIH0pLCAvKiBAX19QVVJFX18gKi8gUmVhY3Q1MS5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgZDogXCJNMTEuMDkxOCwwIEMxMS41MzgzLDAgMTEuOTMwNywwLjI5NTg5OCAxMi4wNTMzLDAuNzI1NTg2IEwxMy45NjE1LDcuNDAzMzIgQzEzLjk4NzEsNy40OTMxNiAxNCw3LjU4NTk0IDE0LDcuNjc4NzEgTDE0LDEzIEMxNCwxMy41NTI3IDEzLjU1MjIsMTQgMTMsMTQgTDEsMTQgQzAuNDQ3NzU0LDE0IDAsMTMuNTUyNyAwLDEzIEwwLDcuNjc4NzEgQzAsNy41ODU5NCAwLjAxMjkzOTUsNy40OTMxNiAwLjAzODQ1MjEsNy40MDMzMiBMMS45NDY2NiwwLjcyNTU4NiBDMi4wNjkzNCwwLjI5NTg5OCAyLjQ2MTY3LDAgMi45MDgyLDAgTDExLjA5MTgsMCBaIE00LjI3MjcxLDEuNSBDMy44MzcyOCwxLjUgMy40NTE3OCwxLjc4MjIzIDMuMzE5ODIsMi4xOTcyNyBMMS45MTQ1NSw2LjYxMzI4IEMxLjcwOTQ3LDcuMjU4NzkgMi4xOTA4LDcuOTE2OTkgMi44Njc1NSw3LjkxNjk5IEw0LjcwODM3LDcuOTE2OTkgQzQuNzA4MzcsOC45MzY1MiA1LjE2NjYzLDEwLjE2OCA3LDEwLjE2OCBDOC44MzMzNywxMC4xNjggOS4yOTE2Myw4LjkzNjUyIDkuMjkxNjMsNy45MTY5OSBMMTEuMTQ3OCw3Ljg5MzU1IEMxMS44MjAxLDcuODg0NzcgMTIuMjkyNyw3LjIyODUyIDEyLjA4NzYsNi41ODg4NyBMMTAuNjgxLDIuMTk1MzEgQzEwLjU0ODUsMS43ODEyNSAxMC4xNjM1LDEuNSA5LjcyODY0LDEuNSBMNC4yNzI3MSwxLjUgWlwiXG4gIH0pKTtcbn07XG5cbi8vIHNyYy90aGlyZC1wYXJ0eS9jb2xsZWN0aW9uLXZpZXctYm9hcmQudHN4XG52YXIgQ29sbGVjdGlvblZpZXdCb2FyZCA9ICh7XG4gIGNvbGxlY3Rpb24sXG4gIGNvbGxlY3Rpb25WaWV3LFxuICBjb2xsZWN0aW9uRGF0YSxcbiAgcGFkZGluZ1xufSkgPT4ge1xuICB2YXIgX2E7XG4gIGNvbnN0IGlzR3JvdXBlZENvbGxlY3Rpb24gPSAoX2EgPSBjb2xsZWN0aW9uVmlldyA9PSBudWxsID8gdm9pZCAwIDogY29sbGVjdGlvblZpZXcuZm9ybWF0KSA9PSBudWxsID8gdm9pZCAwIDogX2EuY29sbGVjdGlvbl9ncm91cF9ieTtcbiAgaWYgKGlzR3JvdXBlZENvbGxlY3Rpb24pIHtcbiAgICBjb25zdCBjb2xsZWN0aW9uR3JvdXBzID0gZ2V0Q29sbGVjdGlvbkdyb3Vwcyhjb2xsZWN0aW9uLCBjb2xsZWN0aW9uVmlldywgY29sbGVjdGlvbkRhdGEsIHBhZGRpbmcpO1xuICAgIHJldHVybiBjb2xsZWN0aW9uR3JvdXBzLm1hcCgoZ3JvdXAsIGluZGV4KSA9PiAvKiBAX19QVVJFX18gKi8gUmVhY3Q1Mi5jcmVhdGVFbGVtZW50KENvbGxlY3Rpb25Hcm91cCwgX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7XG4gICAgICBrZXk6IGluZGV4XG4gICAgfSwgZ3JvdXApLCB7XG4gICAgICBzdW1tYXJ5UHJvcHM6IHtcbiAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICBwYWRkaW5nTGVmdDogcGFkZGluZ1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgY29sbGVjdGlvblZpZXdDb21wb25lbnQ6IChwcm9wcykgPT4gLyogQF9fUFVSRV9fICovIFJlYWN0NTIuY3JlYXRlRWxlbWVudChCb2FyZCwgX19zcHJlYWRWYWx1ZXMoe1xuICAgICAgICBwYWRkaW5nXG4gICAgICB9LCBwcm9wcykpXG4gICAgfSkpKTtcbiAgfVxuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0NTIuY3JlYXRlRWxlbWVudChCb2FyZCwge1xuICAgIHBhZGRpbmcsXG4gICAgY29sbGVjdGlvblZpZXcsXG4gICAgY29sbGVjdGlvbixcbiAgICBjb2xsZWN0aW9uRGF0YVxuICB9KTtcbn07XG5mdW5jdGlvbiBCb2FyZCh7IGNvbGxlY3Rpb25WaWV3LCBjb2xsZWN0aW9uRGF0YSwgY29sbGVjdGlvbiwgcGFkZGluZyB9KSB7XG4gIHZhciBfYSwgX2I7XG4gIGNvbnN0IHsgcmVjb3JkTWFwIH0gPSB1c2VOb3Rpb25Db250ZXh0KCk7XG4gIGNvbnN0IHtcbiAgICBib2FyZF9jb3ZlciA9IHsgdHlwZTogXCJub25lXCIgfSxcbiAgICBib2FyZF9jb3Zlcl9zaXplID0gXCJtZWRpdW1cIixcbiAgICBib2FyZF9jb3Zlcl9hc3BlY3QgPSBcImNvdmVyXCJcbiAgfSA9IChjb2xsZWN0aW9uVmlldyA9PSBudWxsID8gdm9pZCAwIDogY29sbGVjdGlvblZpZXcuZm9ybWF0KSB8fCB7fTtcbiAgY29uc3QgYm9hcmRHcm91cHMgPSAoKF9hID0gY29sbGVjdGlvblZpZXcgPT0gbnVsbCA/IHZvaWQgMCA6IGNvbGxlY3Rpb25WaWV3LmZvcm1hdCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmJvYXJkX2NvbHVtbnMpIHx8ICgoX2IgPSBjb2xsZWN0aW9uVmlldyA9PSBudWxsID8gdm9pZCAwIDogY29sbGVjdGlvblZpZXcuZm9ybWF0KSA9PSBudWxsID8gdm9pZCAwIDogX2IuYm9hcmRfZ3JvdXBzMikgfHwgW107XG4gIGNvbnN0IGJvYXJkU3R5bGUgPSBSZWFjdDUyLnVzZU1lbW8oKCkgPT4gKHtcbiAgICBwYWRkaW5nTGVmdDogcGFkZGluZ1xuICB9KSwgW3BhZGRpbmddKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDUyLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJub3Rpb24tYm9hcmRcIlxuICB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3Q1Mi5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IGNzKFwibm90aW9uLWJvYXJkLXZpZXdcIiwgYG5vdGlvbi1ib2FyZC12aWV3LXNpemUtJHtib2FyZF9jb3Zlcl9zaXplfWApLFxuICAgIHN0eWxlOiBib2FyZFN0eWxlXG4gIH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDUyLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJub3Rpb24tYm9hcmQtaGVhZGVyXCJcbiAgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0NTIuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcIm5vdGlvbi1ib2FyZC1oZWFkZXItaW5uZXJcIlxuICB9LCBib2FyZEdyb3Vwcy5tYXAoKHAsIGluZGV4KSA9PiB7XG4gICAgdmFyIF9hMiwgX2IyLCBfYztcbiAgICBpZiAoISgoX2EyID0gY29sbGVjdGlvbkRhdGEuYm9hcmRfY29sdW1ucykgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMi5yZXN1bHRzKSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbnN0IGdyb3VwID0gY29sbGVjdGlvbkRhdGEuYm9hcmRfY29sdW1ucy5yZXN1bHRzW2luZGV4XTtcbiAgICBjb25zdCBzY2hlbWEgPSBjb2xsZWN0aW9uLnNjaGVtYVtwLnByb3BlcnR5XTtcbiAgICBpZiAoIWdyb3VwIHx8ICFzY2hlbWEgfHwgcC5oaWRkZW4pIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0NTIuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IFwibm90aW9uLWJvYXJkLXRoXCIsXG4gICAgICBrZXk6IGluZGV4XG4gICAgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0NTIuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IFwibm90aW9uLWJvYXJkLXRoLWJvZHlcIlxuICAgIH0sICgoX2IyID0gZ3JvdXAudmFsdWUpID09IG51bGwgPyB2b2lkIDAgOiBfYjIudmFsdWUpID8gLyogQF9fUFVSRV9fICovIFJlYWN0NTIuY3JlYXRlRWxlbWVudChQcm9wZXJ0eSwge1xuICAgICAgc2NoZW1hLFxuICAgICAgZGF0YTogW1soX2MgPSBncm91cC52YWx1ZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9jLnZhbHVlXV0sXG4gICAgICBjb2xsZWN0aW9uXG4gICAgfSkgOiAvKiBAX19QVVJFX18gKi8gUmVhY3Q1Mi5jcmVhdGVFbGVtZW50KFwic3BhblwiLCBudWxsLCAvKiBAX19QVVJFX18gKi8gUmVhY3Q1Mi5jcmVhdGVFbGVtZW50KEVtcHR5SWNvbiwge1xuICAgICAgY2xhc3NOYW1lOiBcIm5vdGlvbi1ib2FyZC10aC1lbXB0eVwiXG4gICAgfSksIFwiIE5vIFNlbGVjdFwiKSwgLyogQF9fUFVSRV9fICovIFJlYWN0NTIuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgICAgY2xhc3NOYW1lOiBcIm5vdGlvbi1ib2FyZC10aC1jb3VudFwiXG4gICAgfSwgZ3JvdXAudG90YWwpKSk7XG4gIH0pKSksIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDUyLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJub3Rpb24tYm9hcmQtaGVhZGVyLXBsYWNlaG9sZGVyXCJcbiAgfSksIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDUyLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJub3Rpb24tYm9hcmQtYm9keVwiXG4gIH0sIGJvYXJkR3JvdXBzLm1hcCgocCwgaW5kZXgpID0+IHtcbiAgICB2YXIgX2EyLCBfYjIsIF9jO1xuICAgIGlmICghKChfYTIgPSBjb2xsZWN0aW9uRGF0YS5ib2FyZF9jb2x1bW5zKSA9PSBudWxsID8gdm9pZCAwIDogX2EyLnJlc3VsdHMpKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3Qgc2NoZW1hID0gY29sbGVjdGlvbi5zY2hlbWFbcC5wcm9wZXJ0eV07XG4gICAgY29uc3QgZ3JvdXAgPSBjb2xsZWN0aW9uRGF0YVtgcmVzdWx0czpzZWxlY3Q6JHsoKF9iMiA9IHAgPT0gbnVsbCA/IHZvaWQgMCA6IHAudmFsdWUpID09IG51bGwgPyB2b2lkIDAgOiBfYjIudmFsdWUpIHx8IFwidW5jYXRlZ29yaXplZFwifWBdO1xuICAgIGlmICghZ3JvdXAgfHwgIXNjaGVtYSB8fCBwLmhpZGRlbikge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3Q1Mi5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzTmFtZTogXCJub3Rpb24tYm9hcmQtZ3JvdXBcIixcbiAgICAgIGtleTogaW5kZXhcbiAgICB9LCAoX2MgPSBncm91cC5ibG9ja0lkcykgPT0gbnVsbCA/IHZvaWQgMCA6IF9jLm1hcCgoYmxvY2tJZCkgPT4ge1xuICAgICAgdmFyIF9hMywgX2IzO1xuICAgICAgY29uc3QgYmxvY2sgPSAoX2EzID0gcmVjb3JkTWFwLmJsb2NrW2Jsb2NrSWRdKSA9PSBudWxsID8gdm9pZCAwIDogX2EzLnZhbHVlO1xuICAgICAgaWYgKCFibG9jaylcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0NTIuY3JlYXRlRWxlbWVudChDb2xsZWN0aW9uQ2FyZCwge1xuICAgICAgICBjbGFzc05hbWU6IFwibm90aW9uLWJvYXJkLWdyb3VwLWNhcmRcIixcbiAgICAgICAgY29sbGVjdGlvbixcbiAgICAgICAgYmxvY2ssXG4gICAgICAgIGNvdmVyOiBib2FyZF9jb3ZlcixcbiAgICAgICAgY292ZXJTaXplOiBib2FyZF9jb3Zlcl9zaXplLFxuICAgICAgICBjb3ZlckFzcGVjdDogYm9hcmRfY292ZXJfYXNwZWN0LFxuICAgICAgICBwcm9wZXJ0aWVzOiAoX2IzID0gY29sbGVjdGlvblZpZXcuZm9ybWF0KSA9PSBudWxsID8gdm9pZCAwIDogX2IzLmJvYXJkX3Byb3BlcnRpZXMsXG4gICAgICAgIGtleTogYmxvY2tJZFxuICAgICAgfSk7XG4gICAgfSkpO1xuICB9KSkpKTtcbn1cblxuLy8gc3JjL3RoaXJkLXBhcnR5L2NvbGxlY3Rpb24tdmlldy50c3hcbnZhciBDb2xsZWN0aW9uVmlld0ltcGwgPSAocHJvcHMpID0+IHtcbiAgY29uc3QgeyBjb2xsZWN0aW9uVmlldyB9ID0gcHJvcHM7XG4gIHN3aXRjaCAoY29sbGVjdGlvblZpZXcudHlwZSkge1xuICAgIGNhc2UgXCJ0YWJsZVwiOlxuICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDUzLmNyZWF0ZUVsZW1lbnQoQ29sbGVjdGlvblZpZXdUYWJsZSwgX19zcHJlYWRWYWx1ZXMoe30sIHByb3BzKSk7XG4gICAgY2FzZSBcImdhbGxlcnlcIjpcbiAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3Q1My5jcmVhdGVFbGVtZW50KENvbGxlY3Rpb25WaWV3R2FsbGVyeSwgX19zcHJlYWRWYWx1ZXMoe30sIHByb3BzKSk7XG4gICAgY2FzZSBcImxpc3RcIjpcbiAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3Q1My5jcmVhdGVFbGVtZW50KENvbGxlY3Rpb25WaWV3TGlzdCwgX19zcHJlYWRWYWx1ZXMoe30sIHByb3BzKSk7XG4gICAgY2FzZSBcImJvYXJkXCI6XG4gICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0NTMuY3JlYXRlRWxlbWVudChDb2xsZWN0aW9uVmlld0JvYXJkLCBfX3NwcmVhZFZhbHVlcyh7fSwgcHJvcHMpKTtcbiAgICBkZWZhdWx0OlxuICAgICAgY29uc29sZS53YXJuKFwidW5zdXBwb3J0ZWQgY29sbGVjdGlvbiB2aWV3XCIsIGNvbGxlY3Rpb25WaWV3KTtcbiAgICAgIHJldHVybiBudWxsO1xuICB9XG59O1xudmFyIENvbGxlY3Rpb25WaWV3ID0gUmVhY3Q1My5tZW1vKENvbGxlY3Rpb25WaWV3SW1wbCk7XG5cbi8vIHNyYy90aGlyZC1wYXJ0eS9jb2xsZWN0aW9uLnRzeFxudmFyIGlzU2VydmVyMiA9IHR5cGVvZiB3aW5kb3cgPT09IFwidW5kZWZpbmVkXCI7XG52YXIgQ29sbGVjdGlvbiA9ICh7IGJsb2NrLCBjbGFzc05hbWUsIGN0eDogY3R4MiB9KSA9PiB7XG4gIGNvbnN0IGNvbnRleHQgPSBSZWFjdDU0LnVzZU1lbW8oKCkgPT4gX19zcHJlYWRWYWx1ZXMoe30sIGN0eDIpLCBbY3R4Ml0pO1xuICBpZiAoYmxvY2sudHlwZSA9PT0gXCJwYWdlXCIpIHtcbiAgICBpZiAoYmxvY2sucGFyZW50X3RhYmxlICE9PSBcImNvbGxlY3Rpb25cIikge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3Q1NC5jcmVhdGVFbGVtZW50KE5vdGlvbkNvbnRleHRQcm92aWRlciwgX19zcHJlYWRWYWx1ZXMoe30sIGNvbnRleHQpLCAvKiBAX19QVVJFX18gKi8gUmVhY3Q1NC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzTmFtZTogXCJub3Rpb24tY29sbGVjdGlvbi1wYWdlLXByb3BlcnRpZXNcIlxuICAgIH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDU0LmNyZWF0ZUVsZW1lbnQoQ29sbGVjdGlvblJvdywge1xuICAgICAgYmxvY2ssXG4gICAgICBwYWdlSGVhZGVyOiB0cnVlLFxuICAgICAgY2xhc3NOYW1lXG4gICAgfSkpKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0NTQuY3JlYXRlRWxlbWVudChOb3Rpb25Db250ZXh0UHJvdmlkZXIsIF9fc3ByZWFkVmFsdWVzKHt9LCBjb250ZXh0KSwgLyogQF9fUFVSRV9fICovIFJlYWN0NTQuY3JlYXRlRWxlbWVudChDb2xsZWN0aW9uVmlld0Jsb2NrLCB7XG4gICAgICBibG9jayxcbiAgICAgIGNsYXNzTmFtZVxuICAgIH0pKTtcbiAgfVxufTtcbnZhciBDb2xsZWN0aW9uVmlld0Jsb2NrID0gKHsgYmxvY2ssIGNsYXNzTmFtZSB9KSA9PiB7XG4gIHZhciBfYSwgX2IsIF9jO1xuICBjb25zdCB7IHJlY29yZE1hcCwgc2hvd0NvbGxlY3Rpb25WaWV3RHJvcGRvd24gfSA9IHVzZU5vdGlvbkNvbnRleHQoKTtcbiAgY29uc3QgeyB2aWV3X2lkczogdmlld0lkcyB9ID0gYmxvY2s7XG4gIGNvbnN0IGNvbGxlY3Rpb25JZCA9IGdldEJsb2NrQ29sbGVjdGlvbklkKGJsb2NrLCByZWNvcmRNYXApO1xuICBjb25zdCBbaXNNb3VudGVkLCBzZXRJc01vdW50ZWRdID0gUmVhY3Q1NC51c2VTdGF0ZShmYWxzZSk7XG4gIFJlYWN0NTQudXNlRWZmZWN0KCgpID0+IHtcbiAgICBzZXRJc01vdW50ZWQodHJ1ZSk7XG4gIH0sIFtdKTtcbiAgY29uc3QgZGVmYXVsdENvbGxlY3Rpb25WaWV3SWQgPSB2aWV3SWRzWzBdO1xuICBjb25zdCBbY29sbGVjdGlvblN0YXRlLCBzZXRDb2xsZWN0aW9uU3RhdGVdID0gdXNlTG9jYWxTdG9yYWdlKGJsb2NrLmlkLCB7XG4gICAgY29sbGVjdGlvblZpZXdJZDogZGVmYXVsdENvbGxlY3Rpb25WaWV3SWRcbiAgfSk7XG4gIGNvbnN0IGNvbGxlY3Rpb25WaWV3SWQgPSBpc01vdW50ZWQgJiYgdmlld0lkcy5maW5kKChpZCkgPT4gaWQgPT09IGNvbGxlY3Rpb25TdGF0ZS5jb2xsZWN0aW9uVmlld0lkKSB8fCBkZWZhdWx0Q29sbGVjdGlvblZpZXdJZDtcbiAgY29uc3Qgb25DaGFuZ2VWaWV3ID0gUmVhY3Q1NC51c2VDYWxsYmFjaygoY29sbGVjdGlvblZpZXdJZDIpID0+IHtcbiAgICBjb25zb2xlLmxvZyhcImNoYW5nZSBjb2xsZWN0aW9uIHZpZXdcIiwgY29sbGVjdGlvblZpZXdJZDIpO1xuICAgIHNldENvbGxlY3Rpb25TdGF0ZShfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKHt9LCBjb2xsZWN0aW9uU3RhdGUpLCB7XG4gICAgICBjb2xsZWN0aW9uVmlld0lkOiBjb2xsZWN0aW9uVmlld0lkMlxuICAgIH0pKTtcbiAgfSwgW2NvbGxlY3Rpb25TdGF0ZSwgc2V0Q29sbGVjdGlvblN0YXRlXSk7XG4gIGxldCB7IHdpZHRoOiB3aW5kb3dXaWR0aCB9ID0gdXNlV2luZG93U2l6ZSgpO1xuICBpZiAoaXNTZXJ2ZXIyKSB7XG4gICAgd2luZG93V2lkdGggPSAxMDI0O1xuICB9XG4gIGNvbnN0IGNvbGxlY3Rpb24gPSAoX2EgPSByZWNvcmRNYXAuY29sbGVjdGlvbltjb2xsZWN0aW9uSWRdKSA9PSBudWxsID8gdm9pZCAwIDogX2EudmFsdWU7XG4gIGNvbnN0IGNvbGxlY3Rpb25WaWV3ID0gKF9iID0gcmVjb3JkTWFwLmNvbGxlY3Rpb25fdmlld1tjb2xsZWN0aW9uVmlld0lkXSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9iLnZhbHVlO1xuICBjb25zdCBjb2xsZWN0aW9uRGF0YSA9IChfYyA9IHJlY29yZE1hcC5jb2xsZWN0aW9uX3F1ZXJ5W2NvbGxlY3Rpb25JZF0pID09IG51bGwgPyB2b2lkIDAgOiBfY1tjb2xsZWN0aW9uVmlld0lkXTtcbiAgY29uc3QgcGFyZW50UGFnZSA9IGdldEJsb2NrUGFyZW50UGFnZTIoYmxvY2ssIHJlY29yZE1hcCk7XG4gIGNvbnN0IHsgc3R5bGUsIHdpZHRoLCBwYWRkaW5nIH0gPSBSZWFjdDU0LnVzZU1lbW8oKCkgPT4ge1xuICAgIHZhciBfYTI7XG4gICAgY29uc3Qgc3R5bGUyID0ge307XG4gICAgaWYgKChjb2xsZWN0aW9uVmlldyA9PSBudWxsID8gdm9pZCAwIDogY29sbGVjdGlvblZpZXcudHlwZSkgIT09IFwidGFibGVcIiAmJiAoY29sbGVjdGlvblZpZXcgPT0gbnVsbCA/IHZvaWQgMCA6IGNvbGxlY3Rpb25WaWV3LnR5cGUpICE9PSBcImJvYXJkXCIpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN0eWxlOiBzdHlsZTIsXG4gICAgICAgIHdpZHRoOiAwLFxuICAgICAgICBwYWRkaW5nOiAwXG4gICAgICB9O1xuICAgIH1cbiAgICBjb25zdCB3aWR0aDIgPSB3aW5kb3dXaWR0aDtcbiAgICBjb25zdCBtYXhOb3Rpb25Cb2R5V2lkdGggPSA3MDg7XG4gICAgbGV0IG5vdGlvbkJvZHlXaWR0aCA9IG1heE5vdGlvbkJvZHlXaWR0aDtcbiAgICBpZiAoKF9hMiA9IHBhcmVudFBhZ2UgPT0gbnVsbCA/IHZvaWQgMCA6IHBhcmVudFBhZ2UuZm9ybWF0KSA9PSBudWxsID8gdm9pZCAwIDogX2EyLnBhZ2VfZnVsbF93aWR0aCkge1xuICAgICAgbm90aW9uQm9keVdpZHRoID0gd2lkdGgyIC0gMiAqIE1hdGgubWluKDk2LCB3aWR0aDIgKiAwLjA4KSB8IDA7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5vdGlvbkJvZHlXaWR0aCA9IHdpZHRoMiA8IG1heE5vdGlvbkJvZHlXaWR0aCA/IHdpZHRoMiAtIHdpZHRoMiAqIDAuMDIgfCAwIDogbWF4Tm90aW9uQm9keVdpZHRoO1xuICAgIH1cbiAgICBjb25zdCBwYWRkaW5nMiA9IGlzU2VydmVyMiAmJiAhaXNNb3VudGVkID8gOTYgOiAod2lkdGgyIC0gbm90aW9uQm9keVdpZHRoKSAvIDIgfCAwO1xuICAgIHN0eWxlMi5wYWRkaW5nTGVmdCA9IHBhZGRpbmcyO1xuICAgIHN0eWxlMi5wYWRkaW5nUmlnaHQgPSBwYWRkaW5nMjtcbiAgICByZXR1cm4ge1xuICAgICAgc3R5bGU6IHN0eWxlMixcbiAgICAgIHdpZHRoOiB3aWR0aDIsXG4gICAgICBwYWRkaW5nOiBwYWRkaW5nMlxuICAgIH07XG4gIH0sIFt3aW5kb3dXaWR0aCwgcGFyZW50UGFnZSwgY29sbGVjdGlvblZpZXcgPT0gbnVsbCA/IHZvaWQgMCA6IGNvbGxlY3Rpb25WaWV3LnR5cGUsIGlzTW91bnRlZF0pO1xuICBpZiAoIShjb2xsZWN0aW9uICYmIGNvbGxlY3Rpb25WaWV3ICYmIGNvbGxlY3Rpb25EYXRhKSkge1xuICAgIGNvbnNvbGUud2FybihcInNraXBwaW5nIG1pc3NpbmcgY29sbGVjdGlvbiB2aWV3IGZvciBibG9ja1wiLCBibG9jay5pZCwge1xuICAgICAgY29sbGVjdGlvbklkLFxuICAgICAgY29sbGVjdGlvblZpZXdJZCxcbiAgICAgIGNvbGxlY3Rpb25WaWV3LFxuICAgICAgY29sbGVjdGlvbkRhdGEsXG4gICAgICByZWNvcmRNYXBcbiAgICB9KTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBjb25zdCB0aXRsZSA9IGdldFRleHRDb250ZW50NChjb2xsZWN0aW9uLm5hbWUpLnRyaW0oKTtcbiAgaWYgKGNvbGxlY3Rpb24uaWNvbikge1xuICAgIGJsb2NrLmZvcm1hdCA9IF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe30sIGJsb2NrLmZvcm1hdCksIHtcbiAgICAgIHBhZ2VfaWNvbjogY29sbGVjdGlvbi5pY29uXG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDU0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogY3MoXCJub3Rpb24tY29sbGVjdGlvblwiLCBjbGFzc05hbWUpXG4gIH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDU0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJub3Rpb24tY29sbGVjdGlvbi1oZWFkZXJcIixcbiAgICBzdHlsZVxuICB9LCB0aXRsZSAmJiAvKiBAX19QVVJFX18gKi8gUmVhY3Q1NC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwibm90aW9uLWNvbGxlY3Rpb24taGVhZGVyLXRpdGxlXCJcbiAgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0NTQuY3JlYXRlRWxlbWVudChQYWdlSWNvbiwge1xuICAgIGJsb2NrLFxuICAgIGNsYXNzTmFtZTogXCJub3Rpb24tcGFnZS10aXRsZS1pY29uXCIsXG4gICAgaGlkZURlZmF1bHRJY29uOiB0cnVlXG4gIH0pLCB0aXRsZSksIHZpZXdJZHMubGVuZ3RoID4gMSAmJiBzaG93Q29sbGVjdGlvblZpZXdEcm9wZG93biAmJiAvKiBAX19QVVJFX18gKi8gUmVhY3Q1NC5jcmVhdGVFbGVtZW50KENvbGxlY3Rpb25WaWV3RHJvcGRvd25NZW51LCB7XG4gICAgY29sbGVjdGlvblZpZXcsXG4gICAgY29sbGVjdGlvblZpZXdJZCxcbiAgICB2aWV3SWRzLFxuICAgIG9uQ2hhbmdlVmlld1xuICB9KSksIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDU0LmNyZWF0ZUVsZW1lbnQoQ29sbGVjdGlvblZpZXcsIHtcbiAgICBjb2xsZWN0aW9uLFxuICAgIGNvbGxlY3Rpb25WaWV3LFxuICAgIGNvbGxlY3Rpb25EYXRhLFxuICAgIHBhZGRpbmcsXG4gICAgd2lkdGhcbiAgfSkpO1xufTtcbnZhciBDb2xsZWN0aW9uVmlld0Ryb3Bkb3duTWVudSA9ICh7IGNvbGxlY3Rpb25WaWV3SWQsIGNvbGxlY3Rpb25WaWV3LCB2aWV3SWRzLCBvbkNoYW5nZVZpZXcgfSkgPT4ge1xuICBjb25zdCB7IHJlY29yZE1hcCB9ID0gdXNlTm90aW9uQ29udGV4dCgpO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0NTQuY3JlYXRlRWxlbWVudChEcm9wZG93bk1lbnUuUm9vdCwgbnVsbCwgLyogQF9fUFVSRV9fICovIFJlYWN0NTQuY3JlYXRlRWxlbWVudChEcm9wZG93bk1lbnUuVHJpZ2dlciwge1xuICAgIGNsYXNzTmFtZTogXCJub3Rpb24tY29sbGVjdGlvbi12aWV3LWRyb3Bkb3duXCJcbiAgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0NTQuY3JlYXRlRWxlbWVudChDb2xsZWN0aW9uVmlld0NvbHVtbkRlc2MsIHtcbiAgICBjb2xsZWN0aW9uVmlld1xuICB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3Q1NC5jcmVhdGVFbGVtZW50KENoZXZyb25Eb3duSWNvbiwge1xuICAgIGNsYXNzTmFtZTogXCJub3Rpb24tY29sbGVjdGlvbi12aWV3LWRyb3Bkb3duLWljb25cIlxuICB9KSkpLCAvKiBAX19QVVJFX18gKi8gUmVhY3Q1NC5jcmVhdGVFbGVtZW50KERyb3Bkb3duTWVudS5Db250ZW50LCB7XG4gICAgY2xhc3NOYW1lOiBcIm5vdGlvbi1jb2xsZWN0aW9uLXZpZXctZHJvcGRvd24tY29udGVudFwiXG4gIH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDU0LmNyZWF0ZUVsZW1lbnQoRHJvcGRvd25NZW51LlJhZGlvR3JvdXAsIHtcbiAgICB2YWx1ZTogY29sbGVjdGlvblZpZXdJZCxcbiAgICBvblZhbHVlQ2hhbmdlOiBvbkNoYW5nZVZpZXdcbiAgfSwgdmlld0lkcy5tYXAoKHZpZXdJZCkgPT4ge1xuICAgIHZhciBfYTtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0NTQuY3JlYXRlRWxlbWVudChEcm9wZG93bk1lbnUuUmFkaW9JdGVtLCB7XG4gICAgICBrZXk6IHZpZXdJZCxcbiAgICAgIHZhbHVlOiB2aWV3SWQsXG4gICAgICBjbGFzc05hbWU6IGNzKFwibm90aW9uLWNvbGxlY3Rpb24tdmlldy1kcm9wZG93bi1jb250ZW50LWl0ZW1cIiwgY29sbGVjdGlvblZpZXdJZCA9PT0gdmlld0lkICYmIFwibm90aW9uLWNvbGxlY3Rpb24tdmlldy1kcm9wZG93bi1jb250ZW50LWl0ZW0tYWN0aXZlXCIpXG4gICAgfSwgY29sbGVjdGlvblZpZXdJZCA9PT0gdmlld0lkICYmIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDU0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgY2xhc3NOYW1lOiBcIm5vdGlvbi1jb2xsZWN0aW9uLXZpZXctZHJvcGRvd24tY29udGVudC1pdGVtLWFjdGl2ZS1pY29uXCJcbiAgICB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3Q1NC5jcmVhdGVFbGVtZW50KGNoZWNrX2RlZmF1bHQsIG51bGwpKSwgLyogQF9fUFVSRV9fICovIFJlYWN0NTQuY3JlYXRlRWxlbWVudChDb2xsZWN0aW9uVmlld0NvbHVtbkRlc2MsIHtcbiAgICAgIGNvbGxlY3Rpb25WaWV3OiAoX2EgPSByZWNvcmRNYXAuY29sbGVjdGlvbl92aWV3W3ZpZXdJZF0pID09IG51bGwgPyB2b2lkIDAgOiBfYS52YWx1ZVxuICAgIH0pKTtcbiAgfSkpKSk7XG59O1xudmFyIENvbGxlY3Rpb25WaWV3Q29sdW1uRGVzYyA9IChfYSkgPT4ge1xuICB2YXIgX2IgPSBfYSwgeyBjb2xsZWN0aW9uVmlldywgY2xhc3NOYW1lLCBjaGlsZHJlbiB9ID0gX2IsIHJlc3QgPSBfX29ialJlc3QoX2IsIFtcImNvbGxlY3Rpb25WaWV3XCIsIFwiY2xhc3NOYW1lXCIsIFwiY2hpbGRyZW5cIl0pO1xuICBjb25zdCB7IHR5cGUgfSA9IGNvbGxlY3Rpb25WaWV3O1xuICBjb25zdCBuYW1lID0gY29sbGVjdGlvblZpZXcubmFtZSB8fCBgJHt0eXBlWzBdLnRvVXBwZXJDYXNlKCl9JHt0eXBlLnNsaWNlKDEpfSB2aWV3YDtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDU0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgX19zcHJlYWRWYWx1ZXMoe1xuICAgIGNsYXNzTmFtZTogY3MoXCJub3Rpb24tY29sbGVjdGlvbi12aWV3LXR5cGVcIiwgY2xhc3NOYW1lKVxuICB9LCByZXN0KSwgLyogQF9fUFVSRV9fICovIFJlYWN0NTQuY3JlYXRlRWxlbWVudChDb2xsZWN0aW9uVmlld0ljb24sIHtcbiAgICBjbGFzc05hbWU6IFwibm90aW9uLWNvbGxlY3Rpb24tdmlldy10eXBlLWljb25cIixcbiAgICB0eXBlXG4gIH0pLCAvKiBAX19QVVJFX18gKi8gUmVhY3Q1NC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7XG4gICAgY2xhc3NOYW1lOiBcIm5vdGlvbi1jb2xsZWN0aW9uLXZpZXctdHlwZS10aXRsZVwiXG4gIH0sIG5hbWUpLCBjaGlsZHJlbik7XG59O1xuZXhwb3J0IHtcbiAgQ29sbGVjdGlvbixcbiAgUHJvcGVydHlJbXBsTWVtbyBhcyBQcm9wZXJ0eVxufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/react-notion-x/build/third-party/collection.js\n");

/***/ })

};
;